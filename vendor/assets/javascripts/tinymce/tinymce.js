var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(E,F,ea){E instanceof String&&(E=String(E));for(var w=E.length,ka=0;ka<w;ka++){var l=E[ka];if(F.call(ea,l,ka,E))return{i:ka,v:l}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(E,F,ea){E!=Array.prototype&&E!=Object.prototype&&(E[F]=ea.value)};
$jscomp.getGlobal=function(E){return"undefined"!=typeof window&&window===E?E:"undefined"!=typeof global&&null!=global?global:E};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(E,F,ea,w){if(F){ea=$jscomp.global;E=E.split(".");for(w=0;w<E.length-1;w++){var ka=E[w];ka in ea||(ea[ka]={});ea=ea[ka]}E=E[E.length-1];w=ea[E];F=F(w);F!=w&&null!=F&&$jscomp.defineProperty(ea,E,{configurable:!0,writable:!0,value:F})}};
$jscomp.polyfill("Array.prototype.find",function(E){return E?E:function(E,ea){return $jscomp.findInternal(this,E,ea).v}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.findIndex",function(E){return E?E:function(E,ea){return $jscomp.findInternal(this,E,ea).i}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;
$jscomp.Symbol=function(E){return $jscomp.SYMBOL_PREFIX+(E||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var E=$jscomp.global.Symbol.iterator;E||(E=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[E]&&$jscomp.defineProperty(Array.prototype,E,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(E){var F=0;return $jscomp.iteratorPrototype(function(){return F<E.length?{done:!1,value:E[F++]}:{done:!0}})};$jscomp.iteratorPrototype=function(E){$jscomp.initSymbolIterator();E={next:E};E[$jscomp.global.Symbol.iterator]=function(){return this};return E};
$jscomp.iteratorFromArray=function(E,F){$jscomp.initSymbolIterator();E instanceof String&&(E+="");var ea=0,w={next:function(){if(ea<E.length){var ka=ea++;return{value:F(ka,E[ka]),done:!1}}w.next=function(){return{done:!0,value:void 0}};return w.next()}};w[Symbol.iterator]=function(){return w};return w};$jscomp.polyfill("Array.prototype.values",function(E){return E?E:function(){return $jscomp.iteratorFromArray(this,function(E,ea){return ea})}},"es6","es3");
(function(E,F){function ea(l,h){for(var e,d=[],b=0;b<l.length;++b){if(!(e=ka[l[b]]))a:{e=E;for(var f=l[b].split(/[.\/]/),a=0;a<f.length;++a){if(!e[f[a]]){e=void 0;break a}e=e[f[a]]}}if(!e)throw"module definition dependecy not found: "+l[b];d.push(e)}h.apply(null,d)}function w(l,h,e){if("string"!==typeof l)throw"invalid module definition, module id must be defined and be a string";if(h===F)throw"invalid module definition, dependencies must be specified";if(e===F)throw"invalid module definition, definition function must be specified";
ea(h,function(){ka[l]=e.apply(null,arguments)})}var ka={};w("tinymce/geom/Rect",[],function(){function l(f,a,c){var d=a.x;var e=a.y;var v=f.w;f=f.h;var u=a.w;a=a.h;c=(c||"").split("");"b"===c[0]&&(e+=a);"r"===c[1]&&(d+=u);"c"===c[0]&&(e+=b(a/2));"c"===c[1]&&(d+=b(u/2));"b"===c[3]&&(e-=f);"r"===c[4]&&(d-=v);"c"===c[3]&&(e-=b(f/2));"c"===c[4]&&(d-=b(v/2));return h(d,e,v,f)}function h(b,a,c,d){return{x:b,y:a,w:c,h:d}}var e=Math.min,d=Math.max,b=Math.round;return{inflate:function(b,a,c){return h(b.x-
a,b.y-c,b.w+2*a,b.h+2*c)},relativePosition:l,findBestRelativePosition:function(b,a,c,d){var f;for(f=0;f<d.length;f++){var e=l(b,a,d[f]);if(e.x>=c.x&&e.x+e.w<=c.w+c.x&&e.y>=c.y&&e.y+e.h<=c.h+c.y)return d[f]}return null},intersect:function(b,a){var c=d(b.x,a.x);var f=d(b.y,a.y);var m=e(b.x+b.w,a.x+a.w);var v=e(b.y+b.h,a.y+a.h);return 0>m-c||0>v-f?null:h(c,f,m-c,v-f)},clamp:function(b,a,c){var f=b.x;var e=b.y;var v=b.x+b.w;var u=b.y+b.h;var g=a.x+a.w;var n=a.y+a.h;b=d(0,a.x-f);a=d(0,a.y-e);g=d(0,v-g);
n=d(0,u-n);f+=b;e+=a;c&&(v+=b,u+=a,f-=g,e-=n);return h(f,e,v-g-f,u-n-e)},create:h,fromClientRect:function(b){return h(b.left,b.top,b.width,b.height)}}});w("tinymce/util/Promise",[],function(){function l(a,c){return function(){a.apply(c,arguments)}}function h(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];c(a,l(d,this),l(b,this))}function e(a){var c=
this;null===this._state?this._deferreds.push(a):k(function(){var b=c._state?a.onFulfilled:a.onRejected;if(null===b)(c._state?a.resolve:a.reject)(c._value);else{try{var d=b(c._value)}catch(t){a.reject(t);return}a.resolve(d)}})}function d(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"===typeof a||"function"===typeof a)){var e=a.then;if("function"===typeof e){c(l(e,a),l(d,this),l(b,this));return}}this._state=!0;this._value=a;f.call(this)}catch(g){b.call(this,
g)}}function b(a){this._state=!1;this._value=a;f.call(this)}function f(){for(var a=0,c=this._deferreds.length;a<c;a++)e.call(this,this._deferreds[a]);this._deferreds=null}function a(a,c,b,d){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof c?c:null;this.resolve=b;this.reject=d}function c(a,c,b){var d=!1;try{a(function(a){d||(d=!0,c(a))},function(a){d||(d=!0,b(a))})}catch(t){d||(d=!0,b(t))}}if(window.Promise)return window.Promise;var k=h.immediateFn||"function"===typeof setImmediate&&
setImmediate||function(a){setTimeout(a,1)},m=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};h.prototype["catch"]=function(a){return this.then(null,a)};h.prototype.then=function(c,b){var d=this;return new h(function(f,g){e.call(d,new a(c,b,f,g))})};h.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&m(arguments[0])?arguments[0]:arguments);return new h(function(c,b){function d(g,n){try{if(n&&("object"===typeof n||"function"===typeof n)){var e=
n.then;if("function"===typeof e){e.call(n,function(a){d(g,a)},b);return}}a[g]=n;0===--f&&c(a)}catch(D){b(D)}}if(0===a.length)return c([]);for(var f=a.length,g=0;g<a.length;g++)d(g,a[g])})};h.resolve=function(a){return a&&"object"===typeof a&&a.constructor===h?a:new h(function(c){c(a)})};h.reject=function(a){return new h(function(c,b){b(a)})};h.race=function(a){return new h(function(c,b){for(var d=0,f=a.length;d<f;d++)a[d].then(c,b)})};return h});w("tinymce/util/Delay",["tinymce/util/Promise"],function(l){function h(a,
c){function b(a){window.setTimeout(a,0)}var d,f=window.requestAnimationFrame,e=["ms","moz","webkit"];for(d=0;d<e.length&&!f;d++)f=window[e[d]+"RequestAnimationFrame"];f||(f=b);f(a,c)}function e(a,c){"number"!=typeof c&&(c=0);return setTimeout(a,c)}function d(a,c){"number"!=typeof c&&(c=1);return setInterval(a,c)}function b(a,c){var b;var d=function(){var d=arguments;clearTimeout(b);b=e(function(){a.apply(this,d)},c)};d.stop=function(){clearTimeout(b)};return d}var f;return{requestAnimationFrame:function(a,
c){f?f.then(a):f=(new l(function(a){c||(c=document.body);h(a,c)})).then(a)},setTimeout:e,setInterval:d,setEditorTimeout:function(a,c,b){return e(function(){a.removed||c()},b)},setEditorInterval:function(a,c,b){var f;return f=d(function(){a.removed?clearInterval(f):c()},b)},debounce:b,throttle:b,clearInterval:function(a){return clearInterval(a)},clearTimeout:function(a){return clearTimeout(a)}}});w("tinymce/Env",[],function(){var l=navigator,h=l.userAgent;var e=window.opera&&window.opera.buildNumber;
var d=/Android/.test(h);var b=/WebKit/.test(h);var f=(f=!b&&!e&&/MSIE/gi.test(h)&&/Explorer/gi.test(l.appName))&&/MSIE (\w+)\./.exec(h)[1];var a=-1==h.indexOf("Trident/")||-1==h.indexOf("rv:")&&-1==l.appName.indexOf("Netscape")?!1:11;l=-1==h.indexOf("Edge/")||f||a?!1:12;f=f||a||l;a=!b&&!a&&/Gecko/.test(h);var c=-1!=h.indexOf("Mac");var k=/(iPad|iPhone)/.test(h);var m="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL;var v=("matchMedia"in window?matchMedia("only screen and (max-device-width: 480px)").matches:
!1)&&(d||k);var u=("matchMedia"in window?matchMedia("only screen and (min-width: 800px)").matches:!1)&&(d||k);var g=-1!=h.indexOf("Windows Phone");l&&(b=!1);h=!k||m||534<=h.match(/AppleWebKit\/(\d*)/)[1];return{opera:e,webkit:b,ie:f,gecko:a,mac:c,iOS:k,android:d,contentEditable:h,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=f,range:window.getSelection&&"Range"in window,documentMode:f&&!l?document.documentMode||7:10,fileApi:m,ceFalse:!1===
f||8<f,canHaveCSP:!1===f||11<f,desktop:!v&&!u,windowsPhone:g}});w("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(l,h){function e(a,c,b,d){a.addEventListener?a.addEventListener(c,b,d||!1):a.attachEvent&&a.attachEvent("on"+c,b)}function d(a,c,b,d){a.removeEventListener?a.removeEventListener(c,b,d||!1):a.detachEvent&&a.detachEvent("on"+c,b)}function b(a,c){var b,d=c;(b=a.path)&&0<b.length&&(d=b[0]);a.deepPath&&(b=a.deepPath())&&0<b.length&&(d=b[0]);return d}function f(a,c){function d(){return!1}
function f(){return!0}var e=c||{};for(q in a)m[q]||(e[q]=a[q]);e.target||(e.target=e.srcElement||document);h.experimentalShadowDom&&(e.target=b(a,e.target));if(a&&k.test(a.type)&&void 0===a.pageX&&void 0!==a.clientX){var y=e.target.ownerDocument||document;var q=y.documentElement;y=y.body;e.pageX=a.clientX+(q&&q.scrollLeft||y&&y.scrollLeft||0)-(q&&q.clientLeft||y&&y.clientLeft||0);e.pageY=a.clientY+(q&&q.scrollTop||y&&y.scrollTop||0)-(q&&q.clientTop||y&&y.clientTop||0)}e.preventDefault=function(){e.isDefaultPrevented=
f;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)};e.stopPropagation=function(){e.isPropagationStopped=f;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)};e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=f;e.stopPropagation()};e.isDefaultPrevented||(e.isDefaultPrevented=d,e.isPropagationStopped=d,e.isImmediatePropagationStopped=d);"undefined"==typeof e.metaKey&&(e.metaKey=!1);return e}function a(a,c,b){function f(){b.domLoaded||(b.domLoaded=!0,c(p))}function g(){if("complete"===
q.readyState||"interactive"===q.readyState&&q.body)d(q,"readystatechange",g),f()}function k(){try{q.documentElement.doScroll("left")}catch(r){l.setTimeout(k);return}f()}var q=a.document,p={type:"ready"};b.domLoaded?c(p):(q.addEventListener?"complete"===q.readyState?f():e(a,"DOMContentLoaded",f):(e(q,"readystatechange",g),q.documentElement.doScroll&&a.self===a.top&&k()),e(a,"load",f))}function c(){function c(a,c){var b,d,f;if(b=(b=g[c])&&b[a.type]){var n=0;for(d=b.length;n<d&&((f=b[n])&&!1===f.func.call(f.scope,
a)&&a.preventDefault(),!a.isImmediatePropagationStopped());n++);}}var b=this,g={};var n="mce-data-"+(+new Date).toString(32);var k="onmouseenter"in document.documentElement;var y="onfocusin"in document.documentElement;var q={mouseenter:"mouseover",mouseleave:"mouseout"};var p=1;b.domLoaded=!1;b.events=g;b.bind=function(d,t,m,z){function x(a){c(f(a||u.event),h)}var r,C,D,u=window;if(d&&3!==d.nodeType&&8!==d.nodeType){if(d[n])var h=d[n];else h=p++,d[n]=h,g[h]={};z=z||d;t=t.split(" ");for(C=t.length;C--;){var A=
t[C];var v=x;var l=D=!1;"DOMContentLoaded"===A&&(A="ready");b.domLoaded&&"ready"===A&&"complete"==d.readyState?m.call(z,f({type:A})):(k||(l=q[A])&&(v=function(a){var b;var d=a.currentTarget;if((b=a.relatedTarget)&&d.contains)b=d.contains(b);else for(;b&&b!==d;)b=b.parentNode;b||(a=f(a||u.event),a.type="mouseout"===a.type?"mouseleave":"mouseenter",a.target=d,c(a,h))}),y||"focusin"!==A&&"focusout"!==A||(D=!0,l="focusin"===A?"focus":"blur",v=function(a){a=f(a||u.event);a.type="focus"===a.type?"focusin":
"focusout";c(a,h)}),(r=g[h][A])?"ready"===A&&b.domLoaded?m({type:A}):r.push({func:m,scope:z}):(g[h][A]=r=[{func:m,scope:z}],r.fakeName=l,r.capture=D,r.nativeHandler=v,"ready"===A?a(d,v,b):e(d,l||A,v,D)))}d=r=0;return m}};b.unbind=function(a,c,f){var e,x,k,r;if(!a||3===a.nodeType||8===a.nodeType)return b;if(e=a[n]){var q=g[e];if(c)for(c=c.split(" "),k=c.length;k--;){var p=c[k];if(x=q[p]){if(f)for(r=x.length;r--;)if(x[r].func===f){var t=x.nativeHandler,y=x.fakeName,m=x.capture;x=x.slice(0,r).concat(x.slice(r+
1));x.nativeHandler=t;x.fakeName=y;x.capture=m;q[p]=x}f&&0!==x.length||(delete q[p],d(a,x.fakeName||p,x.nativeHandler,x.capture))}}else{for(p in q)x=q[p],d(a,x.fakeName||p,x.nativeHandler,x.capture);q={}}for(p in q)return b;delete g[e];try{delete a[n]}catch(K){a[n]=null}}return b};b.fire=function(a,d,g){if(!a||3===a.nodeType||8===a.nodeType)return b;g=f(null,g);g.type=d;g.target=a;do(d=a[n])&&c(g,d),a=a.parentNode||a.ownerDocument||a.defaultView||a.parentWindow;while(a&&!g.isPropagationStopped());
return b};b.clean=function(a){var c,d=b.unbind;if(!a||3===a.nodeType||8===a.nodeType)return b;a[n]&&d(a);a.getElementsByTagName||(a=a.document);if(a&&a.getElementsByTagName){d(a);var f=a.getElementsByTagName("*");for(c=f.length;c--;)a=f[c],a[n]&&d(a)}return b};b.destroy=function(){g={}};b.cancel=function(a){a&&(a.preventDefault(),a.stopImmediatePropagation());return!1}}var k=/^(?:mouse|contextmenu)|click/,m={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};
c.Event=new c;c.Event.bind(window,"ready",function(){});return c});w("tinymce/dom/Sizzle",[],function(){function l(a,b,c,d){var f,g,n,e;(b?b.ownerDocument||b:K)!==x&&sa(b);b=b||x;c=c||[];if(!a||"string"!==typeof a)return c;if(1!==(e=b.nodeType)&&9!==e)return[];if(C&&!d){if(f=E.exec(a))if(n=f[1])if(9===e)if((g=b.getElementById(n))&&g.parentNode){if(g.id===n)return c.push(g),c}else return c;else{if(b.ownerDocument&&(g=b.ownerDocument.getElementById(n))&&U(b,g)&&g.id===n)return c.push(g),c}else{if(f[2])return N.apply(c,
b.getElementsByTagName(a)),c;if((n=f[3])&&ga.getElementsByClassName)return N.apply(c,b.getElementsByClassName(n)),c}if(ga.qsa&&(!H||!H.test(a))){g=f=J;n=b;var z=9===e&&a;if(1===e&&"object"!==b.nodeName.toLowerCase()){e=ta(a);(f=b.getAttribute("id"))?g=f.replace(ua,"\\$&"):b.setAttribute("id",g);g="[id='"+g+"'] ";for(n=e.length;n--;)e[n]=g+u(e[n]);n=na.test(a)&&m(b.parentNode)||b;z=e.join(",")}if(z)try{return N.apply(c,n.querySelectorAll(z)),c}catch(Da){}finally{f||b.removeAttribute("id")}}}return ya(a.replace(W,
"$1"),b,c,d)}function h(){function a(c,d){b.push(c+" ")>Z.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function e(a){a[J]=!0;return a}function d(a){var b=x.createElement("div");try{return!!a(b)}catch(Aa){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function b(a,b){for(var c=a.split("|"),d=a.length;d--;)Z.attrHandle[c[d]]=b}function f(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(d)return d;
if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function a(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function c(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){b=+b;return e(function(c,d){for(var f,g=a([],c.length,b),n=g.length;n--;)c[f=g[n]]&&(c[f]=!(d[f]=c[f]))})})}function m(a){return a&&typeof a.getElementsByTagName!==Q&&a}function v(){}function u(a){for(var b=0,
c=a.length,d="";b<c;b++)d+=a[b].value;return d}function g(a,b,c){var d=b.dir,f=c&&"parentNode"===d,g=P++;return b.first?function(b,c,g){for(;b=b[d];)if(1===b.nodeType||f)return a(b,c,g)}:function(b,c,n){var e,x=[T,g];if(n)for(;b=b[d];){if((1===b.nodeType||f)&&a(b,c,n))return!0}else for(;b=b[d];)if(1===b.nodeType||f){var z=b[J]||(b[J]={});if((e=z[d])&&e[0]===T&&e[1]===g)return x[2]=e[2];z[d]=x;if(x[2]=a(b,c,n))return!0}}}function n(a){return 1<a.length?function(b,c,d){for(var f=a.length;f--;)if(!a[f](b,
c,d))return!1;return!0}:a[0]}function t(a,b,c,d,f){for(var g,n=[],e=0,x=a.length,z=null!=b;e<x;e++)if(g=a[e])if(!c||c(g,d,f))n.push(g),z&&b.push(e);return n}function y(a,b,c,d,f,g){d&&!d[J]&&(d=y(d));f&&!f[J]&&(f=y(f,g));return e(function(g,n,e,x){var z,k=[],q=[],p=n.length,r;if(!(r=g)){r=b||"*";for(var G=e.nodeType?[e]:e,y=[],C=0,m=G.length;C<m;C++)l(r,G[C],y);r=y}r=!a||!g&&b?r:t(r,k,a,e,x);G=c?f||(g?a:p||d)?[]:n:r;c&&c(r,G,e,x);if(d){var D=t(G,q);d(D,[],e,x);for(e=D.length;e--;)if(z=D[e])G[q[e]]=
!(r[q[e]]=z)}if(g){if(f||a){if(f){D=[];for(e=G.length;e--;)(z=G[e])&&D.push(r[e]=z);f(null,G=[],D,x)}for(e=G.length;e--;)(z=G[e])&&-1<(D=f?R.call(g,z):k[e])&&(g[D]=!(n[D]=z))}}else G=t(G===n?G.splice(p,G.length):G),f?f(null,n,G,x):N.apply(n,G)})}function q(a){var b,c,d=a.length,f=Z.relative[a[0].type];var e=f||Z.relative[" "];for(var x=f?1:0,z=g(function(a){return a===b},e,!0),k=g(function(a){return-1<R.call(b,a)},e,!0),p=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?z(a,c,d):k(a,c,d))}];x<
d;x++)if(e=Z.relative[a[x].type])p=[g(n(p),e)];else{e=Z.filter[a[x].type].apply(null,a[x].matches);if(e[J]){for(c=++x;c<d&&!Z.relative[a[c].type];c++);return y(1<x&&n(p),1<x&&u(a.slice(0,x-1).concat({value:" "===a[x-2].type?"*":""})).replace(W,"$1"),e,x<c&&q(a.slice(x,c)),c<d&&q(a=a.slice(c)),c<d&&u(a))}p.push(e)}return n(p)}function p(a,b){var c=0<b.length,d=0<a.length,f=function(f,g,e,n,z){var k,q,p,r=0,G="0",y=f&&[],C=[],m=D,u=f||d&&Z.find.TAG("*",z),h=T+=null==m?1:Math.random()||.1,A=u.length;
for(z&&(D=g!==x&&g);G!==A&&null!=(k=u[G]);G++){if(d&&k){for(q=0;p=a[q++];)if(p(k,g,e)){n.push(k);break}z&&(T=h)}c&&((k=!p&&k)&&r--,f&&y.push(k))}r+=G;if(c&&G!==r){for(q=0;p=b[q++];)p(y,C,g,e);if(f){if(0<r)for(;G--;)y[G]||C[G]||(C[G]=S.call(n));C=t(C)}N.apply(n,C);z&&!f&&0<C.length&&1<r+b.length&&l.uniqueSort(n)}z&&(T=h,D=m);return y};return c?e(f):f}var r,D,A,z,x,G,C,H,ja,M,U,J="sizzle"+-new Date,K=window.document,T=0,P=0,I=h(),L=h(),O=h(),w=function(a,b){a===b&&(z=!0);return 0},Q=typeof F,ca={}.hasOwnProperty,
da=[],S=da.pop,B=da.push,N=da.push,aa=da.slice,R=da.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},W=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ia=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,fa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,V=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),X=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
la=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ha={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},oa=/^(?:input|select|textarea|button)$/i,ma=/^h\d$/i,ba=
/^[^{]+\{\s*\[native \w/,E=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,na=/[+~]/,ua=/'|\\/g,pa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ra=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{N.apply(da=aa.call(K.childNodes),K.childNodes),da[K.childNodes.length].nodeType}catch(xa){N={apply:da.length?function(a,b){B.apply(a,aa.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=
c-1}}}var ga=l.support={};var za=l.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var sa=l.setDocument=function(a){var b=a?a.ownerDocument||a:K;a=b.defaultView;if(b===x||9!==b.nodeType||!b.documentElement)return x;x=b;G=b.documentElement;C=!za(b);var c;if(c=a){a:{try{var g=a.top;break a}catch(Ca){}g=null}c=a!==g}c&&(a.addEventListener?a.addEventListener("unload",function(){sa()},!1):a.attachEvent&&a.attachEvent("onunload",function(){sa()}));ga.attributes=
d(function(a){a.className="i";return!a.getAttribute("className")});ga.getElementsByTagName=d(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});ga.getElementsByClassName=ba.test(b.getElementsByClassName);ga.getById=d(function(a){G.appendChild(a).id=J;return!b.getElementsByName||!b.getElementsByName(J).length});ga.getById?(Z.find.ID=function(a,b){if(typeof b.getElementById!==Q&&C){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},Z.filter.ID=function(a){var b=
a.replace(pa,ra);return function(a){return a.getAttribute("id")===b}}):(delete Z.find.ID,Z.filter.ID=function(a){var b=a.replace(pa,ra);return function(a){return(a=typeof a.getAttributeNode!==Q&&a.getAttributeNode("id"))&&a.value===b}});Z.find.TAG=ga.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==Q)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],f=0,g=b.getElementsByTagName(a);if("*"===a){for(;c=g[f++];)1===c.nodeType&&d.push(c);return d}return g};Z.find.CLASS=ga.getElementsByClassName&&
function(a,b){if(C)return b.getElementsByClassName(a)};ja=[];H=[];if(ga.qsa=ba.test(b.querySelectorAll))d(function(a){a.innerHTML="<select msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||H.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll(":checked").length||H.push(":checked")}),d(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&H.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||H.push(":enabled",":disabled");a.querySelectorAll("*,:x");H.push(",.*:")});(ga.matchesSelector=ba.test(M=G.matches||G.webkitMatchesSelector||G.mozMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&
d(function(a){ga.disconnectedMatch=M.call(a,"div");M.call(a,"[s!='']:x");ja.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});H=H.length&&new RegExp(H.join("|"));ja=ja.length&&new RegExp(ja.join("|"));
U=(g=ba.test(G.compareDocumentPosition))||ba.test(G.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};w=g?function(a,c){if(a===c)return z=!0,0;var d=!a.compareDocumentPosition-!c.compareDocumentPosition;if(d)return d;d=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):
1;return d&1||!ga.sortDetached&&c.compareDocumentPosition(a)===d?a===b||a.ownerDocument===K&&U(K,a)?-1:c===b||c.ownerDocument===K&&U(K,c)?1:A?R.call(A,a)-R.call(A,c):0:d&4?-1:1}:function(a,c){if(a===c)return z=!0,0;var d=0;var g=a.parentNode;var n=c.parentNode,e=[a],x=[c];if(!g||!n)return a===b?-1:c===b?1:g?-1:n?1:A?R.call(A,a)-R.call(A,c):0;if(g===n)return f(a,c);for(g=a;g=g.parentNode;)e.unshift(g);for(g=c;g=g.parentNode;)x.unshift(g);for(;e[d]===x[d];)d++;return d?f(e[d],x[d]):e[d]===K?-1:x[d]===
K?1:0};return b};l.matches=function(a,b){return l(a,null,null,b)};l.matchesSelector=function(a,b){(a.ownerDocument||a)!==x&&sa(a);b=b.replace(V,"='$1']");if(!(!ga.matchesSelector||!C||ja&&ja.test(b)||H&&H.test(b)))try{var c=M.call(a,b);if(c||ga.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(Ba){}return 0<l(b,x,null,[a]).length};l.contains=function(a,b){(a.ownerDocument||a)!==x&&sa(a);return U(a,b)};l.attr=function(a,b){(a.ownerDocument||a)!==x&&sa(a);var c=Z.attrHandle[b.toLowerCase()],
c=c&&ca.call(Z.attrHandle,b.toLowerCase())?c(a,b,!C):F;return c!==F?c:ga.attributes||!C?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};l.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};l.uniqueSort=function(a){var b,c=[],d=0,f=0;z=!ga.detectDuplicates;A=!ga.sortStable&&a.slice(0);a.sort(w);if(z){for(;b=a[f++];)b===a[f]&&(d=c.push(f));for(;d--;)a.splice(c[d],1)}A=null;return a};var va=l.getText=function(a){var b="",c=0;var d=a.nodeType;if(!d)for(;d=
a[c++];)b+=va(d);else if(1===d||9===d||11===d){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=va(a)}else if(3===d||4===d)return a.nodeValue;return b};var Z=l.selectors={cacheLength:50,createPseudo:e,match:ha,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(pa,ra);a[3]=(a[3]||a[4]||a[5]||"").replace(pa,
ra);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||l.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&l.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(ha.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&X.test(c)&&(b=ta(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=
a.replace(pa,ra).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=I[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),I(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==Q&&a.getAttribute("class")||"")}))},ATTR:function(a,b,c){return function(d){d=l.attr(d,a);if(null==d)return"!="===b;if(!b)return!0;d+="";return"="===b?d===c:"!="===
b?d!==c:"^="===b?c&&0===d.indexOf(c):"*="===b?c&&-1<d.indexOf(c):"$="===b?c&&d.slice(-c.length)===c:"~="===b?-1<(" "+d+" ").indexOf(c):"|="===b?d===c||d.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,b,c,d,f){var g="nth"!==a.slice(0,3),n="last"!==a.slice(-4),e="of-type"===b;return 1===d&&0===f?function(a){return!!a.parentNode}:function(b,c,x){var z;c=g!==n?"nextSibling":"previousSibling";var k=b.parentNode,q=e&&b.nodeName.toLowerCase();x=!x&&!e;if(k){if(g){for(;c;){for(z=b;z=z[c];)if(e?z.nodeName.toLowerCase()===
q:1===z.nodeType)return!1;var p=c="only"===a&&!p&&"nextSibling"}return!0}p=[n?k.firstChild:k.lastChild];if(n&&x){x=k[J]||(k[J]={});var r=x[a]||[];var G=r[0]===T&&r[1];var t=r[0]===T&&r[2];for(z=G&&k.childNodes[G];z=++G&&z&&z[c]||(t=G=0)||p.pop();)if(1===z.nodeType&&++t&&z===b){x[a]=[T,G,t];break}}else if(x&&(r=(b[J]||(b[J]={}))[a])&&r[0]===T)t=r[1];else for(;(z=++G&&z&&z[c]||(t=G=0)||p.pop())&&((e?z.nodeName.toLowerCase()!==q:1!==z.nodeType)||!++t||(x&&((z[J]||(z[J]={}))[a]=[T,t]),z!==b)););t-=f;
return t===d||0===t%d&&0<=t/d}}},PSEUDO:function(a,b){var c=Z.pseudos[a]||Z.setFilters[a.toLowerCase()]||l.error("unsupported pseudo: "+a);if(c[J])return c(b);if(1<c.length){var d=[a,a,"",b];return Z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,d){for(var f,g=c(a,b),e=g.length;e--;)f=R.call(a,g[e]),a[f]=!(d[f]=g[e])}):function(a){return c(a,0,d)}}return c}},pseudos:{not:e(function(a){var b=[],c=[],d=wa(a.replace(W,"$1"));return d[J]?e(function(a,b,c,f){f=d(a,null,f,[]);for(var g=a.length;g--;)if(c=
f[g])a[g]=!(b[g]=c)}):function(a,f,g){b[0]=a;d(b,null,g,c);return!c.pop()}}),has:e(function(a){return function(b){return 0<l(a,b).length}}),contains:e(function(a){a=a.replace(pa,ra);return function(b){return-1<(b.textContent||b.innerText||va(b)).indexOf(a)}}),lang:e(function(a){la.test(a||"")||l.error("unsupported lang: "+a);a=a.replace(pa,ra).toLowerCase();return function(b){var c;do if(c=C?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+
"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===G},focus:function(a){return a===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!Z.pseudos.empty(a)},header:function(a){return ma.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===
b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:k(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};Z.pseudos.nth=Z.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Z.pseudos[r]=a(r);for(r in{submit:!0,
reset:!0})Z.pseudos[r]=c(r);v.prototype=Z.filters=Z.pseudos;Z.setFilters=new v;var ta=l.tokenize=function(a,b){var c,d,f,g,e;if(g=L[a+" "])return b?0:g.slice(0);g=a;var n=[];for(e=Z.preFilter;g;){if(!x||(c=ia.exec(g)))c&&(g=g.slice(c[0].length)||g),n.push(d=[]);var x=!1;if(c=fa.exec(g))x=c.shift(),d.push({value:x,type:c[0].replace(W," ")}),g=g.slice(x.length);for(f in Z.filter)!(c=ha[f].exec(g))||e[f]&&!(c=e[f](c))||(x=c.shift(),d.push({value:x,type:f,matches:c}),g=g.slice(x.length));if(!x)break}return b?
g.length:g?l.error(a):L(a,n).slice(0)};var wa=l.compile=function(a,b){var c,d=[],f=[],g=O[a+" "];if(!g){b||(b=ta(a));for(c=b.length;c--;)g=q(b[c]),g[J]?d.push(g):f.push(g);g=O(a,p(f,d));g.selector=a}return g};var ya=l.select=function(a,b,c,d){var f,g,e,n="function"===typeof a&&a,x=!d&&ta(a=n.selector||a);c=c||[];if(1===x.length){var z=x[0]=x[0].slice(0);if(2<z.length&&"ID"===(g=z[0]).type&&ga.getById&&9===b.nodeType&&C&&Z.relative[z[1].type]){b=(Z.find.ID(g.matches[0].replace(pa,ra),b)||[])[0];if(!b)return c;
n&&(b=b.parentNode);a=a.slice(z.shift().value.length)}for(f=ha.needsContext.test(a)?0:z.length;f--;){g=z[f];if(Z.relative[e=g.type])break;if(e=Z.find[e])if(d=e(g.matches[0].replace(pa,ra),na.test(z[0].type)&&m(b.parentNode)||b)){z.splice(f,1);a=d.length&&u(z);if(!a)return N.apply(c,d),c;break}}}(n||wa(a,x))(d,b,!C,c,na.test(a)&&m(b.parentNode)||b);return c};ga.sortStable=J.split("").sort(w).join("")===J;ga.detectDuplicates=!!z;sa();ga.sortDetached=d(function(a){return a.compareDocumentPosition(x.createElement("div"))&
1});d(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||b("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});ga.attributes&&d(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||b("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});d(function(a){return null==a.getAttribute("disabled")})||b("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});return l});w("tinymce/util/Arr",[],function(){function l(d,b,f){var a;if(!d)return 0;f=f||d;if(d.length!==F){var c=0;for(a=d.length;c<a;c++)if(!1===b.call(f,d[c],c,d))return 0}else for(c in d)if(d.hasOwnProperty(c)&&!1===b.call(f,d[c],c,d))return 0;return 1}function h(d,b,f){var a;var c=0;for(a=d.length;c<a;c++)if(b.call(f,d[c],c,d))return c;return-1}var e=Array.isArray||function(d){return"[object Array]"===
Object.prototype.toString.call(d)};return{isArray:e,toArray:function(d){var b=d,f;if(!e(d)){b=[];var a=0;for(f=d.length;a<f;a++)b[a]=d[a]}return b},each:l,map:function(d,b){var f=[];l(d,function(a,c){f.push(b(a,c,d))});return f},filter:function(d,b){var f=[];l(d,function(a,c){b&&!b(a,c,d)||f.push(a)});return f},indexOf:function(d,b){var f;if(d){var a=0;for(f=d.length;a<f;a++)if(d[a]===b)return a}return-1},reduce:function(d,b,f,a){var c=0;for(3>arguments.length&&(f=d[0]);c<d.length;c++)f=b.call(a,
f,d[c],c);return f},findIndex:h,find:function(d,b,f){b=h(d,b,f);return-1!==b?d[b]:F},last:function(d){return d[d.length-1]}}});w("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(l,h){function e(a){return null===a||a===F?"":(""+a).replace(f,"")}function d(a,b){return b?"array"==b&&h.isArray(a)?!0:typeof a==b:a!==F}function b(a,c,d,f){f=f||this;a&&(d&&(a=a[d]),h.each(a,function(a,e){if(!1===c.call(f,a,e,d))return!1;b(a,c,d,f)}))}var f=/^\s*|\s*$/g;return{trim:e,isArray:h.isArray,is:d,
toArray:h.toArray,makeMap:function(a,b,d){a=a||[];"string"==typeof a&&(a=a.split(b||","));d=d||{};for(b=a.length;b--;)d[a[b]]={};return d},each:h.each,map:h.map,grep:h.filter,inArray:h.indexOf,hasOwn:function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},extend:function(a,b){var c,d,f=arguments;var e=1;for(c=f.length;e<c;e++)for(d in b=f[e],b)if(b.hasOwnProperty(d)){var g=b[d];g!==F&&(a[d]=g)}return a},create:function(a,b,d){var c=0;a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a);var f=a[3].match(/(^|\.)(\w+)$/i)[2];
var e=this.createNS(a[3].replace(/\.\w+$/,""),d);if(!e[f])if("static"==a[2]){if(e[f]=b,this.onCreate)this.onCreate(a[2],a[3],e[f])}else{b[f]||(b[f]=function(){},c=1);e[f]=b[f];this.extend(e[f].prototype,b);if(a[5]){var g=this.resolve(a[5]).prototype;var n=a[5].match(/\.(\w+)$/i)[1];var k=e[f];e[f]=c?function(){return g[n].apply(this,arguments)}:function(){this.parent=g[n];return k.apply(this,arguments)};e[f].prototype[f]=e[f];this.each(g,function(a,b){e[f].prototype[b]=g[b]});this.each(b,function(a,
b){g[b]?e[f].prototype[b]=function(){this.parent=g[b];return a.apply(this,arguments)}:b!=f&&(e[f].prototype[b]=a)})}this.each(b["static"],function(a,b){e[f][b]=a})}},walk:b,createNS:function(a,b){var c;b=b||window;a=a.split(".");for(c=0;c<a.length;c++){var d=a[c];b[d]||(b[d]={});b=b[d]}return b},resolve:function(a,b){var c;b=b||window;a=a.split(".");var d=0;for(c=a.length;d<c&&(b=b[a[d]],b);d++);return b},explode:function(a,b){return!a||d(a,"array")?a:h.map(a.split(b||","),e)},_addCacheSuffix:function(a){var b=
l.cacheSuffix;b&&(a+=(-1===a.indexOf("?")?"?":"&")+b);return a}}});w("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(l,h,e,d){function b(a){return"undefined"!==typeof a}function f(a,b){var c;b=b||r;var d=b.createElement("div");var f=b.createDocumentFragment();for(d.innerHTML=a;c=d.firstChild;)f.appendChild(c);return f}function a(b,c,d,g){var e;if("string"===typeof c)c=f(c,n(b[0]));else if(c.length&&!c.nodeType){c=m.makeArray(c);if(g)for(e=
c.length-1;0<=e;e--)a(b,c[e],d,g);else for(e=0;e<c.length;e++)a(b,c[e],d,g);return b}if(c.nodeType)for(e=b.length;e--;)d.call(b[e],c);return b}function c(a,b){return a&&b&&-1!==(" "+a.className+" ").indexOf(" "+b+" ")}function k(a,b,c){var d,f;b=m(b)[0];a.each(function(){c&&d==this.parentNode||(d=this.parentNode,f=b.cloneNode(!1),this.parentNode.insertBefore(f,this));f.appendChild(this)});return a}function m(a,b){return new m.fn.init(a,b)}function v(a){return null===a||a===G?"":(""+a).replace(T,"")}
function u(a,b){var c;if(a){var d=a.length;if(void 0===d)for(c in a){if(a.hasOwnProperty(c)){var f=a[c];if(!1===b.call(f,c,f))break}}else for(c=0;c<d&&(f=a[c],!1!==b.call(f,c,f));c++);}return a}function g(a,b){var c=[];u(a,function(a,d){b(d,a)&&c.push(d)});return c}function n(a){return a?9==a.nodeType?a:a.ownerDocument:r}function t(a,b,c){var d=[];a=a[b];for("string"!=typeof c&&c instanceof m&&(c=c[0]);a&&9!==a.nodeType;){if(c!==F){if(a===c)break;if("string"==typeof c&&m(a).is(c))break}1===a.nodeType&&
d.push(a);a=a[b]}return d}function y(a,b,c,d){var f=[];for(d instanceof m&&(d=d[0]);a;a=a[b])if(!c||a.nodeType===c){if(d!==F){if(a===d)break;if("string"==typeof d&&m(a).is(d))break}f.push(a)}return f}function q(a,b,c){for(a=a[b];a;a=a[b])if(a.nodeType==c)return a;return null}function p(a,b,c){u(c,function(c,d){a[c]=a[c]||{};a[c][b]=d})}var r=document,D=Array.prototype.push,A=Array.prototype.slice,z=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,x=l.Event,G,C=e.makeMap("children,contents,next,prev"),H=
e.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ja=e.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),M={"for":"htmlFor","class":"className",readonly:"readOnly"},U={"float":"cssFloat"},J={},K={},T=/^\s*|\s*$/g;m.fn=m.prototype={constructor:m,selector:"",context:null,length:0,init:function(a,b){var c,d;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(b&&b.nodeType)this.context=
b;else{if(b)return m(a).attr(b);this.context=b=document}if("string"===typeof a)if(this.selector=a,c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:z.exec(a))if(c[1])for(d=f(a,n(b)).firstChild;d;)D.call(this,d),d=d.nextSibling;else{d=n(b).getElementById(c[2]);if(!d)return this;if(d.id!==c[2])return this.find(a);this.length=1;this[0]=d}else return m(b).find(a);else this.add(a,!1);return this},toArray:function(){return e.toArray(this)},add:function(a,b){var c;if("string"===
typeof a)return this.add(m(a));if(!1!==b){var d=m.unique(this.toArray().concat(m.makeArray(a)));this.length=d.length;for(c=0;c<d.length;c++)this[c]=d[c]}else D.apply(this,m.makeArray(a));return this},attr:function(a,c){var d=this,f;if("object"===typeof a)u(a,function(a,b){d.attr(a,b)});else if(b(c))this.each(function(){var b;1===this.nodeType&&((b=J[a])&&b.set?b.set(this,c):null===c?this.removeAttribute(a,2):this.setAttribute(a,c,2))});else{if(d[0]&&1===d[0].nodeType){if((f=J[a])&&f.get)return f.get(d[0],
a);if(ja[a])return d.prop(a)?a:G;c=d[0].getAttribute(a,2);null===c&&(c=G)}return c}return d},removeAttr:function(a){return this.attr(a,null)},prop:function(a,c){var d=this;a=M[a]||a;if("object"===typeof a)u(a,function(a,b){d.prop(a,b)});else if(b(c))this.each(function(){1==this.nodeType&&(this[a]=c)});else return d[0]&&d[0].nodeType&&a in d[0]?d[0][a]:c;return d},css:function(a,c){function d(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})}function f(a){return a.replace(/[A-Z]/g,
function(a){return"-"+a})}var g=this,e;if("object"===typeof a)u(a,function(a,b){g.css(a,b)});else if(b(c))a=d(a),"number"!==typeof c||H[a]||(c+="px"),g.each(function(){var b=this.style;if((e=K[a])&&e.set)e.set(this,c);else{try{this.style[U[a]||a]=c}catch(S){}if(null===c||""===c)b.removeProperty?b.removeProperty(f(a)):b.removeAttribute(a)}});else{var n=g[0];if((e=K[a])&&e.get)return e.get(n);if(n.ownerDocument.defaultView)try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(f(a))}catch(da){return G}else if(n.currentStyle)return n.currentStyle[d(a)]}return g},
remove:function(){for(var a,b=this.length;b--;)a=this[b],x.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,b=this.length;b--;)for(a=this[b];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){if(b(a)){var c=this.length;try{for(;c--;)this[c].innerHTML=a}catch(L){m(this[c]).empty().append(a)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var c;if(b(a)){for(c=this.length;c--;)"innerText"in this[c]?this[c].innerText=a:this[0].textContent=
a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return a(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return a(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?a(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&
this[0].parentNode?a(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(a){m(a).append(this);return this},prependTo:function(a){m(a).prepend(this);return this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return k(this,a)},wrapAll:function(a){return k(this,a,!0)},wrapInner:function(a){this.each(function(){m(this).contents().wrapAll(a)});return this},unwrap:function(){return this.parent().each(function(){m(this).replaceWith(this.childNodes)})},
clone:function(){var a=[];this.each(function(){a.push(this.cloneNode(!0))});return m(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,b){var d=this;if("string"!=typeof a)return d;-1!==a.indexOf(" ")?u(a.split(" "),function(){d.toggleClass(this,b)}):d.each(function(d,f){var g=c(f,a);if(g!==b){var e=f.className;f.className=g?v((" "+e+" ").replace(" "+a+" "," ")):f.className+(e?" "+a:a)}});return d},hasClass:function(a){return c(this[0],
a)},each:function(a){return u(this,a)},on:function(a,b){return this.each(function(){x.bind(this,a,b)})},off:function(a,b){return this.each(function(){x.unbind(this,a,b)})},trigger:function(a){return this.each(function(){"object"==typeof a?x.fire(this,a.type,a):x.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new m(A.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},find:function(a){var b,c=[];var d=0;for(b=this.length;d<b;d++)m.find(a,this[d],c);return m(c)},filter:function(a){return"function"==typeof a?m(g(this.toArray(),function(b,c){return a(c,b)})):m(m.filter(a,this.toArray()))},closest:function(a){var b=[];a instanceof m&&(a=a[0]);this.each(function(c,d){for(;d;){if("string"==typeof a&&m(d).is(a)){b.push(d);break}else if(d==a){b.push(d);break}d=d.parentNode}});return m(b)},offset:function(a){var b,c=0,d=0;if(!a){if(b=
this[0]){a=b.ownerDocument;var f=a.documentElement;b.getBoundingClientRect&&(d=b.getBoundingClientRect(),c=d.left+(f.scrollLeft||a.body.scrollLeft)-f.clientLeft,d=d.top+(f.scrollTop||a.body.scrollTop)-f.clientTop)}return{left:c,top:d}}return this.css(a)},push:D,sort:[].sort,splice:[].splice};e.extend(m,{extend:e.extend,makeArray:function(a){return a&&a==a.window||a.nodeType?[a]:e.toArray(a)},inArray:function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},
isArray:e.isArray,each:u,trim:v,grep:g,find:h,expr:h.selectors,unique:h.uniqueSort,text:h.getText,contains:h.contains,filter:function(a,b,c){var d=b.length;for(c&&(a=":not("+a+")");d--;)1!=b[d].nodeType&&b.splice(d,1);return b=1===b.length?m.find.matchesSelector(b[0],a)?[b[0]]:[]:m.find.matches(a,b)}});u({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return t(a,"parentNode")},next:function(a){return q(a,"nextSibling",1)},prev:function(a){return q(a,"previousSibling",
1)},children:function(a){return y(a.firstChild,"nextSibling",1)},contents:function(a){return e.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,b){m.fn[a]=function(c){var d=[];this.each(function(){var a=b.call(d,this,c,d);a&&(m.isArray(a)?d.push.apply(d,a):d.push(a))});1<this.length&&(C[a]||(d=m.unique(d)),0===a.indexOf("parents")&&(d=d.reverse()));d=m(d);return c?d.filter(c):d}});u({parentsUntil:function(a,b){return t(a,"parentNode",b)},nextUntil:function(a,
b){return y(a,"nextSibling",1,b).slice(1)},prevUntil:function(a,b){return y(a,"previousSibling",1,b).slice(1)}},function(a,b){m.fn[a]=function(c,d){var f=[];this.each(function(){var a=b.call(f,this,c,f);a&&(m.isArray(a)?f.push.apply(f,a):f.push(a))});1<this.length&&(f=m.unique(f),0===a.indexOf("parents")||"prevUntil"===a)&&(f=f.reverse());f=m(f);return d?f.filter(d):f}});m.fn.is=function(a){return!!a&&0<this.filter(a).length};m.fn.init.prototype=m.fn;m.overrideDefaults=function(a){function b(d,f){c=
c||a();0===arguments.length&&(d=c.element);f||(f=c.context);return new b.fn.init(d,f)}var c;m.extend(b,this);return b};d.ie&&8>d.ie&&(p(J,"get",{maxlength:function(a){a=a.maxLength;return 2147483647===a?G:a},size:function(a){a=a.size;return 20===a?G:a},"class":function(a){return a.className},style:function(a){a=a.style.cssText;return 0===a.length?G:a}}),p(J,"set",{"class":function(a,b){a.className=b},style:function(a,b){a.style.cssText=b}}));d.ie&&9>d.ie&&(U["float"]="styleFloat",p(K,"set",{opacity:function(a,
b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*b+")")}}));m.attrHooks=J;m.cssHooks=K;return m});w("tinymce/html/Styles",[],function(){return function(l,h){function e(a,b,c,d){function f(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+f(b)+f(c)+f(d)}var d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,b=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
f=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,c,k={};l=l||{};if(h){var m=h.getValidStyles();var v=h.getInvalidStyles()}var u="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(c=0;c<u.length;c++)k[u[c]]="\ufeff"+c,k["\ufeff"+c]=u[c];return{toHex:function(a){return a.replace(d,e)},parse:function(g){function n(a,b,d){var f,g,e,n;if(f=h[a+"-top"+b])if(g=h[a+"-right"+b])if(e=h[a+"-bottom"+b])if(n=h[a+"-left"+b]){f=[f,g,e,n];for(c=f.length-1;c--&&f[c]===f[c+1];);-1<c&&d||(h[a+b]=-1==c?f[0]:f.join(" "),delete h[a+"-top"+
b],delete h[a+"-right"+b],delete h[a+"-bottom"+b],delete h[a+"-left"+b])}}function t(a){var b=h[a],c;if(b){b=b.split(" ");for(c=b.length;c--;)if(b[c]!==b[0])return!1;h[a]=b[0];return!0}}function y(a,b,c,d){t(b)&&t(c)&&t(d)&&(h[a]=h[b]+" "+h[c]+" "+h[d],delete h[b],delete h[c],delete h[d])}function q(a){x=!0;return k[a]}function p(a,b){x&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return k[a]}));b||(a=a.replace(/\\([\'\";:])/g,"$1"));return a}function r(a){return String.fromCharCode(parseInt(a.slice(1),
16))}function m(a,b,c,d,f,g){if(f=f||g)return f=p(f),"'"+f.replace(/\'/g,"\\'")+"'";b=p(b||c||d);if(!l.allow_script_urls&&(a=b.replace(/[\s\r\n]+/g,""),/(java|vb)script:/i.test(a)||!l.allow_svg_data_urls&&/^data:image\/svg/i.test(a)))return"";G&&(b=G.call(C,b,"style"));return"url('"+b.replace(/\'/g,"\\'")+"')"}var h={},z,x,G=l.url_converter,C=l.url_converter_scope||this;if(g){g=g.replace(/[\u0000-\u001F]/g,"");for(g=g.replace(/\\[\"\';:\uFEFF]/g,q).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,
q)});z=f.exec(g);){f.lastIndex=z.index+z[0].length;var u=z[1].replace(a,"").toLowerCase();z=z[2].replace(a,"");if(u&&z&&(u=u.replace(/\\[0-9a-f]+/gi,r),z=z.replace(/\\[0-9a-f]+/gi,r),-1===u.indexOf("\ufeff")&&-1===u.indexOf('"')&&(l.allow_script_urls||"behavior"!=u&&!/expression\s*\(|\/\*|\*\//.test(z)))){if("font-weight"===u&&"700"===z)z="bold";else if("color"===u||"background-color"===u)z=z.toLowerCase();z=z.replace(d,e);z=z.replace(b,m);h[u]=x?p(z,!0):z}}n("border","",!0);n("border","-width");
n("border","-color");n("border","-style");n("padding","");n("margin","");y("border","border-width","border-style","border-color");"medium none"===h.border&&delete h.border;"none"===h["border-image"]&&delete h["border-image"]}return h},serialize:function(a,b){function c(b){var c,d,g;if(c=m[b]){var e=0;for(d=c.length;e<d;e++)b=c[e],(g=a[b])&&(f+=(0<f.length?" ":"")+b+": "+g+";")}}function d(a,b){var c;return(c=v["*"])&&c[a]?!1:(c=v[b])&&c[a]?!1:!0}var f="",g;if(b&&m)c("*"),c(b);else for(g in a){var e=
a[g];!e||v&&!d(g,b)||(f+=(0<f.length?" ":"")+g+": "+e+";")}return f}}}});w("tinymce/dom/TreeWalker",[],function(){return function(l,h){function e(b,d,a,c){if(b){if(!c&&b[d])return b[d];if(b!=h){if(d=b[a])return d;for(b=b.parentNode;b&&b!=h;b=b.parentNode)if(d=b[a])return d}}}var d=l;this.current=function(){return d};this.next=function(b){return d=e(d,"firstChild","nextSibling",b)};this.prev=function(b){return d=e(d,"lastChild","previousSibling",b)};this.prev2=function(b){a:{if(d){var f=d.previousSibling;
if(h&&f===h){d=void 0;break a}if(f){if(!b)for(b=f.lastChild;b;b=b.lastChild)if(!b.lastChild){d=b;break a}d=f;break a}if((f=d.parentNode)&&f!==h){d=f;break a}}d=void 0}return d}}});w("tinymce/dom/Range",["tinymce/util/Tools"],function(l){function h(e){function d(a,b){v(!0,a,b)}function b(a,b){v(!1,a,b)}function f(a){d(a.parentNode,A(a))}function a(a){b(a.parentNode,A(a)+1)}function c(){return u(1)}function k(a,b){var c;if(3==a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?
c:a}function m(a,b,c,d){var f;if(a==c)return b==d?0:b<d?-1:1;for(f=c;f&&f.parentNode!=a;)f=f.parentNode;if(f){var g=0;for(c=a.firstChild;c!=f&&g<b;)g++,c=c.nextSibling;return b<=g?-1:1}for(f=a;f&&f.parentNode!=c;)f=f.parentNode;if(f){g=0;for(c=c.firstChild;c!=f&&g<d;)g++,c=c.nextSibling;return g<d?-1:1}for(b=e.findCommonAncestor(a,c);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(d=c;d&&d.parentNode!=b;)d=d.parentNode;d||(d=b);if(a==d)return 0;for(c=b.firstChild;c;){if(c==a)return-1;if(c==d)return 1;
c=c.nextSibling}}function v(a,b,c){a?(p.startContainer=b,p.startOffset=c):(p.endContainer=b,p.endOffset=c);for(b=p.endContainer;b.parentNode;)b=b.parentNode;for(c=p.startContainer;c.parentNode;)c=c.parentNode;c==b?0<m(p.startContainer,p.startOffset,p.endContainer,p.endOffset)&&p.collapse(a):p.collapse(a);p.collapsed=p.startContainer==p.endContainer&&p.startOffset==p.endOffset;p.commonAncestorContainer=e.findCommonAncestor(p.startContainer,p.endContainer)}function u(a){var b=0,c=0,d;if(p.startContainer==
p.endContainer)return g(a);var f=p.endContainer;for(d=f.parentNode;d;f=d,d=d.parentNode){if(d==p.startContainer){var e=void 0,c=a;2!=c&&(e=r.createDocumentFragment());d=n(f,c);e&&e.appendChild(d);b=A(f)-p.startOffset;if(!(0>=b))for(d=f.previousSibling;0<b;)a=d.previousSibling,d=q(d,c),e&&e.insertBefore(d,e.firstChild),--b,d=a;1!=c&&(p.setEndBefore(f),p.collapse(!1));a=e;return a}++b}f=p.startContainer;for(d=f.parentNode;d;f=d,d=d.parentNode){if(d==p.endContainer){e=void 0;2!=a&&(e=r.createDocumentFragment());
d=t(f,a);e&&e.appendChild(d);b=A(f);++b;c=p.endOffset-b;for(d=f.nextSibling;d&&0<c;)b=d.nextSibling,d=q(d,a),e&&e.appendChild(d),--c,d=b;1!=a&&(p.setStartAfter(f),p.collapse(!0));return e}++c}c-=b;for(f=p.startContainer;0<c;)f=f.parentNode,c--;for(b=p.endContainer;0>c;)b=b.parentNode,c++;c=f.parentNode;for(d=b.parentNode;c!=d;c=c.parentNode,d=d.parentNode)f=c,b=d;2!=a&&(e=r.createDocumentFragment());var z=t(f,a);e&&e.appendChild(z);c=A(f);d=A(b);++c;c=d-c;for(z=f.nextSibling;0<c;)d=z.nextSibling,
z=q(z,a),e&&e.appendChild(z),z=d,--c;z=n(b,a);e&&e.appendChild(z);1!=a&&(p.setStartAfter(f),p.collapse(!0));return e}function g(a){var b;2!=a&&(b=r.createDocumentFragment());if(p.startOffset==p.endOffset)return b;if(3==p.startContainer.nodeType){var c=p.startContainer.nodeValue;var d=c.substring(p.startOffset,p.endOffset);if(1!=a){c=p.startContainer;var f=p.startOffset;var g=p.endOffset-p.startOffset;0===f&&g>=c.nodeValue.length-1?c.parentNode.removeChild(c):c.deleteData(f,g);p.collapse(!0)}if(2==
a)return;0<d.length&&b.appendChild(r.createTextNode(d));return b}c=k(p.startContainer,p.startOffset);for(d=p.endOffset-p.startOffset;c&&0<d;)f=c.nextSibling,c=q(c,a),b&&b.appendChild(c),--d,c=f;1!=a&&p.collapse(!0);return b}function n(a,b){var c=k(p.endContainer,p.endOffset-1),d,f=c!=p.endContainer;if(c==a)return y(c,f,!1,b);var g=c.parentNode;for(d=y(g,!1,!1,b);g;){for(;c;){var e=c.previousSibling;c=y(c,f,!1,b);2!=b&&d.insertBefore(c,d.firstChild);f=!0;c=e}if(g==a)return d;c=g.previousSibling;g=
g.parentNode;e=y(g,!1,!1,b);2!=b&&e.appendChild(d);d=e}}function t(a,b){var c=k(p.startContainer,p.startOffset),d=c!=p.startContainer,f;if(c==a)return y(c,d,!0,b);var g=c.parentNode;for(f=y(g,!1,!0,b);g;){for(;c;){var e=c.nextSibling;c=y(c,d,!0,b);2!=b&&f.appendChild(c);d=!0;c=e}if(g==a)return f;c=g.nextSibling;g=g.parentNode;e=y(g,!1,!0,b);2!=b&&e.appendChild(f);f=e}}function y(a,b,c,d){if(b)return q(a,d);if(3==a.nodeType){b=a.nodeValue;if(c){var f=p.startOffset;c=b.substring(f);b=b.substring(0,
f)}else f=p.endOffset,c=b.substring(0,f),b=b.substring(f);1!=d&&(a.nodeValue=b);if(2==d)return;a=e.clone(a,!1);a.nodeValue=c;return a}if(2!=d)return e.clone(a,!1)}function q(a,b){if(2!=b)return 1==b?e.clone(a,!0):a;a.parentNode.removeChild(a)}var p=this,r=e.doc,D=l.extend,A=e.nodeIndex;D(p,{startContainer:r,startOffset:0,endContainer:r,endOffset:0,collapsed:!0,commonAncestorContainer:r,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:d,setEnd:b,setStartBefore:f,setStartAfter:function(a){d(a.parentNode,
A(a)+1)},setEndBefore:function(a){b(a.parentNode,A(a))},setEndAfter:a,collapse:function(a){a?(p.endContainer=p.startContainer,p.endOffset=p.startOffset):(p.startContainer=p.endContainer,p.startOffset=p.endOffset);p.collapsed=!0},selectNode:function(b){f(b);a(b)},selectNodeContents:function(a){d(a,0);b(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=p.startContainer,d=p.startOffset,f=p.endContainer,g=p.endOffset,e=b.startContainer,n=b.startOffset,
x=b.endContainer,k=b.endOffset;if(0===a)return m(c,d,e,n);if(1===a)return m(f,g,e,n);if(2===a)return m(f,g,x,k);if(3===a)return m(c,d,x,k)},deleteContents:function(){u(2)},extractContents:function(){return u(0)},cloneContents:c,insertNode:function(a){var b=this.startContainer,c=this.startOffset,d;3!==b.nodeType&&4!==b.nodeType||!b.nodeValue?(0<b.childNodes.length&&(d=b.childNodes[c]),d?b.insertBefore(a,d):3==b.nodeType?e.insertAfter(a,b):b.appendChild(a)):c?c>=b.nodeValue.length?e.insertAfter(a,b):
(c=b.splitText(c),b.parentNode.insertBefore(a,c)):b.parentNode.insertBefore(a,b)},surroundContents:function(a){var b=p.extractContents();p.insertNode(a);a.appendChild(b);p.selectNode(a)},cloneRange:function(){return D(new h(e),{startContainer:p.startContainer,startOffset:p.startOffset,endContainer:p.endContainer,endOffset:p.endOffset,collapsed:p.collapsed,commonAncestorContainer:p.commonAncestorContainer})},toStringIE:function(){return e.create("body",null,c()).outerText}});return p}h.prototype.toString=
function(){return this.toStringIE()};return h});w("tinymce/html/Entities",["tinymce/util/Tools"],function(l){function h(a,b){var c,d={};if(a){a=a.split(",");b=b||10;for(c=0;c<a.length;c+=2){var f=String.fromCharCode(parseInt(a[c],b));if(!k[f]){var g="&"+a[c+1]+";";d[f]=g;d[g]=f}}return d}}var e=l.makeMap,d=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/[<>&\"\']/g,a=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
c={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};var k={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};var m={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};
var v=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var u={encodeRaw:function(a,c){return a.replace(c?d:b,function(a){return k[a]||a})},encodeAllRaw:function(a){return(""+a).replace(f,function(a){return k[a]||a})},encodeNumeric:function(a,c){return a.replace(c?d:b,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":k[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(a,c,f){f=f||v;return a.replace(c?d:b,function(a){return k[a]||f[a]||a})},getEncodeFunc:function(a,c){function f(a,f){return a.replace(f?
d:b,function(a){return k[a]||c[a]||"&#"+a.charCodeAt(0)+";"||a})}function g(a,b){return u.encodeNamed(a,b,c)}c=h(c)||v;a=e(a.replace(/\+/g,","));return a.named&&a.numeric?f:a.named?c?g:u.encodeNamed:a.numeric?u.encodeNumeric:u.encodeRaw},decode:function(b){return b.replace(a,function(a,b){if(b)return b="x"===b.charAt(0).toLowerCase()?parseInt(b.substr(1),16):parseInt(b,10),65535<b?(b-=65536,String.fromCharCode(55296+(b>>10),56320+(b&1023))):c[b]||String.fromCharCode(b);var d;(d=m[a]||v[a])||(d=document.createElement("div"),
d.innerHTML=a,d=d.textContent||d.innerText||a);return d})}};return u});w("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(l,h){return function(e,d){function b(a){e.getElementsByTagName("head")[0].appendChild(a)}var f=0,a={};d=d||{};var c=d.maxLoadTime||5E3;this.load=function(d,m,v){function k(){for(var a=p.passed,b=a.length;b--;)a[b]();p.status=2;p.passed=[];p.failed=[]}function g(){for(var a=p.failed,b=a.length;b--;)a[b]();p.status=3;p.passed=[];p.failed=[]}function n(){var a=
navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&536>a[1])}function t(a,b){a()||((new Date).getTime()-D<c?h.setTimeout(b):g())}function y(){t(function(){for(var a=e.styleSheets,b,c=a.length;c--;)if(b=a[c],(b=b.ownerNode?b.ownerNode:b.owningElement)&&b.id===r.id)return k(),!0},y)}function q(){t(function(){try{var a=A.sheet.cssRules;k();return!!a}catch(x){}},q)}d=l._addCacheSuffix(d);if(a[d])var p=a[d];else p={passed:[],failed:[]},a[d]=p;m&&p.passed.push(m);v&&p.failed.push(v);if(1!=p.status)if(2==
p.status)k();else if(3==p.status)g();else{p.status=1;var r=e.createElement("link");r.rel="stylesheet";r.type="text/css";r.id="u"+f++;r.async=!1;r.defer=!1;var D=(new Date).getTime();if("onload"in r&&!n())r.onload=y,r.onerror=g;else{if(0<navigator.userAgent.indexOf("Firefox")){var A=e.createElement("style");A.textContent='@import "'+d+'"';q();b(A);return}y()}b(r);r.href=d}}}});w("tinymce/dom/DOMUtils","tinymce/dom/Sizzle tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/dom/StyleSheetLoader".split(" "),
function(l,h,e,d,b,f,a,c,k,m){function v(a,b){var c={},d=b.keep_values;var f={set:function(c,d,f){b.url_converter&&(d=b.url_converter.call(b.url_converter_scope||a,d,f,c[0]));c.attr("data-mce-"+f,d).attr(f,d)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}};c={style:{set:function(a,b){null!==b&&"object"===typeof b?a.css(b):(d&&a.attr("data-mce-style",b),a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return c=a.serializeStyle(a.parseStyle(c),b[0].nodeName)}}};
d&&(c.href=c.src=f);return c}function u(a,b){var c=b.attr("style");(c=a.serializeStyle(a.parseStyle(c),b[0].nodeName))||(c=null);b.attr("data-mce-style",c)}function g(a,b){var c=0;if(a){var d=a.nodeType;for(a=a.previousSibling;a;a=a.previousSibling){var f=a.nodeType;if(!b||3!=f||f!=d&&a.nodeValue.length)c++,d=f}}return c}function n(a,b){var c=this;c.doc=a;c.win=window;c.files={};c.counter=0;c.stdMode=!r||8<=a.documentMode;c.boxModel=!r||"CSS1Compat"==a.compatMode||c.stdMode;c.styleSheetLoader=new m(a);
c.boundEvents=[];c.settings=b=b||{};c.schema=b.schema;c.styles=new e({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);c.fixDoc(a);c.events=b.ownEvents?new d(b.proxy):d.Event;c.attrHooks=v(c,b);var f=b.schema?b.schema.getBlockElements():{};c.$=h.overrideDefaults(function(){return{context:a,element:c.getRoot()}});c.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!f[a.nodeName]):!!f[a]}}var t=k.each,y=k.is,q=k.grep,p=k.trim,r=c.ie,D=/^([a-z0-9],?)+$/i,
A=/^[ \t\r\n]*$/;n.prototype={$$:function(a){"string"==typeof a&&(a=this.get(a));return this.$(a)},root:null,fixDoc:function(a){var b=this.settings,c;if(r&&b.schema)for(c in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(c)},clone:function(a,b){var c=this;if(!r||1!==a.nodeType||b)return a.cloneNode(b);var d=c.doc;
if(!b){var f=d.createElement(a.nodeName);t(c.getAttribs(a),function(b){c.setAttrib(f,b.nodeName,c.getAttrib(a,b.nodeName))});return f}return f.firstChild},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(a){a=a?a:this.win;var b=a.document;b=this.boxModel?b.documentElement:b.body;return{x:a.pageXOffset||b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(a){a=this.get(a);var b=this.getPos(a);
a=this.getSize(a);return{x:b.x,y:b.y,w:a.w,h:a.h}},getSize:function(a){a=this.get(a);var b=this.getStyle(a,"width");var c=this.getStyle(a,"height");-1===b.indexOf("px")&&(b=0);-1===c.indexOf("px")&&(c=0);return{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,!1)},getParents:function(a,b,c,d){var f=this,g=[];a=f.get(a);d=d===F;c=c||("BODY"!=f.getRoot().nodeName?f.getRoot().parentNode:null);if(y(b,
"string")){var e=b;b="*"===b?function(a){return 1==a.nodeType}:function(a){return f.is(a,e)}}for(;a&&a!=c&&a.nodeType&&9!==a.nodeType;){if(!b||b(a))if(d)g.push(a);else return a;a=a.parentNode}return d?g:null},get:function(a){if(a&&this.doc&&"string"==typeof a){var b=a;if((a=this.doc.getElementById(a))&&a.id!==b)return this.doc.getElementsByName(b)[1]}return a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,
b){return l(a,this.get(b)||this.settings.root_element||this.doc,[])},is:function(a,b){var c;if(a.length===F){if("*"===b)return 1==a.nodeType;if(D.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}if(a.nodeType&&1!=a.nodeType)return!1;c=a.nodeType?[a]:a;return 0<l(b,c[0].ownerDocument||c[0],null,c).length},add:function(a,b,c,d,f){var g=this;return this.run(a,function(a){var e=y(b,"string")?g.doc.createElement(b):b;g.setAttribs(e,
c);d&&(d.nodeType?e.appendChild(d):g.setHTML(e,d));return f?e:a.appendChild(e)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var d;var f="<"+a;for(d in b)b.hasOwnProperty(d)&&null!==b[d]&&"undefined"!=typeof b[d]&&(f+=" "+d+'="'+this.encode(b[d])+'"');return"undefined"!=typeof c?f+">"+c+"</"+a+">":f+" />"},createFragment:function(a){var b=this.doc;var c=b.createElement("div");b=b.createDocumentFragment();a&&(c.innerHTML=a);for(;a=c.firstChild;)b.appendChild(a);
return b},remove:function(a,b){a=this.$$(a);b?a.each(function(){for(var a;a=this.firstChild;)3==a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove();return 1<a.length?a.toArray():a[0]},setStyle:function(a,b,c){a=this.$$(a).css(b,c);this.settings.update_styles&&u(this,a)},getStyle:function(a,b,d){a=this.$$(a);if(d)return a.css(b);b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()});"float"==b&&(b=c.ie&&12>c.ie?"styleFloat":"cssFloat");
return a[0]&&a[0].style?a[0].style[b]:F},setStyles:function(a,b){a=this.$$(a).css(b);this.settings.update_styles&&u(this,a)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,c){var d,f=this.settings;""===c&&(c=null);a=this.$$(a);var g=a.attr(b);if(a.length&&((d=this.attrHooks[b])&&d.set?d.set(a,c,b):a.attr(b,c),g!=c&&f.onSetAttrib))f.onSetAttrib({attrElm:a,attrName:b,attrValue:c})},
setAttribs:function(a,b){var c=this;c.$$(a).each(function(a,d){t(b,function(a,b){c.setAttrib(d,b,a)})})},getAttrib:function(a,b,c){a=this.$$(a);if(a.length)var d=(d=this.attrHooks[b])&&d.get?d.get(a,b):a.attr(b);"undefined"==typeof d&&(d=c||"");return d},getPos:function(a,b){var c=0,d=0;var f=this.doc;var g=f.body;a=this.get(a);b=b||g;if(a){if(b===g&&a.getBoundingClientRect&&"static"===h(g).css("position"))return d=a.getBoundingClientRect(),b=this.boxModel?f.documentElement:g,c=d.left+(f.documentElement.scrollLeft||
g.scrollLeft)-b.clientLeft,d=d.top+(f.documentElement.scrollTop||g.scrollTop)-b.clientTop,{x:c,y:d};for(f=a;f&&f!=b&&f.nodeType;)c+=f.offsetLeft||0,d+=f.offsetTop||0,f=f.offsetParent;for(f=a.parentNode;f&&f!=b&&f.nodeType;)c-=f.scrollLeft||0,d-=f.scrollTop||0,f=f.parentNode}return{x:c,y:d}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc;if(this!==n.DOM&&b===document){var c=(c=n.DOM.addedStyles)||
[];if(c[a])return;c[a]=!0;n.DOM.addedStyles=c}var d=b.getElementById("mceDefaultStyles");d||(d=b.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d));d.styleSheet?d.styleSheet.cssText+=a:d.appendChild(b.createTextNode(a))},loadCSS:function(a){var b=this,c=b.doc;if(b!==n.DOM&&c===document)n.DOM.loadCSS(a);else{a||(a="");var d=c.getElementsByTagName("head")[0];t(a.split(","),function(a){a=k._addCacheSuffix(a);
if(!b.files[a]){b.files[a]=!0;var f=b.create("link",{rel:"stylesheet",href:a});r&&c.documentMode&&c.recalc&&(f.onload=function(){c.recalc&&c.recalc();f.onload=null});d.appendChild(f)}})}},addClass:function(a,b){this.$$(a).addClass(b)},removeClass:function(a,b){this.toggleClass(a,b,!1)},hasClass:function(a,b){return this.$$(a).hasClass(b)},toggleClass:function(a,b,c){this.$$(a).toggleClass(b,c).each(function(){""===this.className&&h(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},
isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){a=this.$$(a);r?a.each(function(a,c){if(!1!==c.canHaveHTML){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br>"+b,c.removeChild(c.firstChild)}catch(H){h("<div></div>").html("<br>"+b).contents().slice(1).appendTo(c)}return b}}):a.html(b)},getOuterHTML:function(a){a=this.get(a);return 1==a.nodeType&&"outerHTML"in a?a.outerHTML:h("<div></div>").append(h(a).clone()).html()},
setOuterHTML:function(a,b){var c=this;c.$$(a).each(function(){try{if("outerHTML"in this){this.outerHTML=b;return}}catch(C){}c.remove(h(this).html(b),!0)})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(a,b){b=this.get(b);return this.run(a,function(a){var c;var d=b.parentNode;(c=b.nextSibling)?d.insertBefore(a,c):d.appendChild(a);return a})},replace:function(a,b,c){return this.run(b,function(b){y(b,"array")&&(a=a.cloneNode(!0));c&&t(q(b.childNodes),function(b){a.appendChild(b)});return b.parentNode.replaceChild(a,
b)})},rename:function(a,b){var c=this;if(a.nodeName!=b.toUpperCase()){var d=c.create(b);t(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))});c.replace(d,a,1)}return d||a},findCommonAncestor:function(a,b){for(var c=a,d;c;){for(d=b;d&&c!=d;)d=d.parentNode;if(c==d)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){return this.styles.toHex(k.trim(a))},run:function(a,b,c){var d=this;"string"===typeof a&&(a=d.get(a));if(!a)return!1;
c=c||this;if(!a.nodeType&&(a.length||0===a.length)){var f=[];t(a,function(a,g){a&&("string"==typeof a&&(a=d.get(a)),f.push(b.call(c,a,g)))});return f}return b.call(c,a)},getAttribs:function(a){a=this.get(a);if(!a)return[];if(r){var b=[];if("OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,
nodeName:a})});return b}return a.attributes},isEmpty:function(a,c){var d,f=0;if(a=a.firstChild){var g=new b(a,a.parentNode);c=c||(this.schema?this.schema.getNonEmptyElements():null);var e=this.schema?this.schema.getWhiteSpaceElements():{};do{var n=a.nodeType;if(1===n){if(d=a.getAttribute("data-mce-bogus")){a=g.next("all"===d);continue}var k=a.nodeName.toLowerCase();if(c&&c[k]){if("br"===k){f++;a=g.next();continue}return!1}var p=this.getAttribs(a);for(d=p.length;d--;)if(k=p[d].nodeName,"name"===k||
"data-mce-bookmark"===k)return!1}if(8==n||3===n&&!A.test(a.nodeValue)||3===n&&a.parentNode&&e[a.parentNode.nodeName]&&A.test(a.nodeValue))return!1;a=g.next()}while(a)}return 1>=f},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new f(this)},nodeIndex:g,split:function(a,b,c){function d(a){var b,c=a.childNodes,g=a.nodeType;if(1!=g||"bookmark"!=a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)d(c[b]);if(9!=g){if(3==g&&0<a.nodeValue.length){b=p(a.nodeValue).length;if(!(c=
!f.isBlock(a.parentNode)||0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==g&&(c=a.childNodes,1==c.length&&c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;f.remove(a)}return a}}var f=this,g=f.createRng();if(a&&b){g.setStart(a.parentNode,f.nodeIndex(a));g.setEnd(b.parentNode,f.nodeIndex(b));
var e=g.extractContents();g=f.createRng();g.setStart(b.parentNode,f.nodeIndex(b)+1);g.setEnd(a.parentNode,f.nodeIndex(a)+1);g=g.extractContents();var n=a.parentNode;n.insertBefore(d(e),a);c?n.insertBefore(c,a):n.insertBefore(b,a);n.insertBefore(d(g),a);f.remove(a);return c||b}},bind:function(a,b,c,d){if(k.isArray(a)){for(var f=a.length;f--;)a[f]=this.bind(a[f],b,c,d);return a}!this.settings.collect||a!==this.doc&&a!==this.win||this.boundEvents.push([a,b,c,d]);return this.events.bind(a,b,c,d||this)},
unbind:function(a,b,c){var d;if(k.isArray(a)){for(d=a.length;d--;)a[d]=this.unbind(a[d],b,c);return a}if(this.boundEvents&&(a===this.doc||a===this.win))for(d=this.boundEvents.length;d--;){var f=this.boundEvents[d];a!=f[0]||b&&b!=f[1]||c&&c!=f[2]||this.events.unbind(f[0],f[1],f[2])}return this.events.unbind(a,b,c)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return a&&1==a.nodeType?(b=a.getAttribute("data-mce-contenteditable"))&&"inherit"!==b?b:"inherit"!==
a.contentEditable?a.contentEditable:null:null},getContentEditableParent:function(a){for(var b=this.getRoot(),c=null;a&&a!==b&&(c=this.getContentEditable(a),null===c);a=a.parentNode);return c},destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}l.setDocument&&l.setDocument();this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},
dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,c){var d=this,f=b;if(a)for("string"==typeof f&&(f=function(a){return d.is(a,b)}),a=a[c];a;a=a[c])if(f(a))return a;return null}};n.DOM=new n(document);n.nodeIndex=g;return n});w("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(l,h){function e(){function c(b,c,f){function g(){e.remove(n);
k&&(k.onreadystatechange=k.onload=k=null);c()}var e=d;var n=e.uniqueId();var k=document.createElement("script");k.id=n;k.type="text/javascript";k.src=h._addCacheSuffix(b);"onreadystatechange"in k?k.onreadystatechange=function(){/loaded|complete/.test(k.readyState)&&g()}:k.onload=g;k.onerror=function(){a(f)?f():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+b)};(document.getElementsByTagName("head")[0]||document.body).appendChild(k)}var e={},m=[],v={},u=[],g=0;this.isDone=
function(a){return 2==e[a]};this.markDone=function(a){e[a]=2};this.add=this.load=function(a,b,c,d){void 0==e[a]&&(m.push(a),e[a]=0);b&&(v[a]||(v[a]=[]),v[a].push({success:b,failure:d,scope:c||this}))};this.remove=function(a){delete e[a];delete v[a]};this.loadQueue=function(a,b,c){this.loadScripts(m,a,b,c)};this.loadScripts=function(d,k,y,q){function n(c,d){b(v[d],function(b){a(b[c])&&b[c].call(b.scope)});v[d]=void 0}var r=[];u.push({success:k,failure:q,scope:y||this});var t=function(){var k=f(d);
d.length=0;b(k,function(a){2===e[a]?n("success",a):3===e[a]?n("failure",a):1!==e[a]&&(e[a]=1,g++,c(a,function(){e[a]=2;g--;n("success",a);t()},function(){e[a]=3;g--;r.push(a);n("failure",a);t()}))});g||(b(u,function(b){0===r.length?a(b.success)&&b.success.call(b.scope):a(b.failure)&&b.failure.call(b.scope,r)}),u.length=0)};t()}}var d=l.DOM,b=h.each,f=h.grep,a=function(a){return"function"===typeof a};e.ScriptLoader=new e;return e});w("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],
function(l,h){function e(){this.items=[];this.urls={};this.lookup={}}var d=h.each;e.prototype={get:function(b){return this.lookup[b]?this.lookup[b].instance:F},dependencies:function(b){if(this.lookup[b])var d=this.lookup[b].dependencies;return d||[]},requireLangPack:function(b,d){var a=e.language;if(a&&!1!==e.languageLoad){if(d)if(d=","+d+",",-1!=d.indexOf(","+a.substr(0,2)+","))a=a.substr(0,2);else if(-1==d.indexOf(","+a+","))return;l.ScriptLoader.add(this.urls[b]+"/langs/"+a+".js")}},add:function(b,
d,a){this.items.push(d);this.lookup[b]={instance:d,dependencies:a};return d},remove:function(b){delete this.urls[b];delete this.lookup[b]},createUrl:function(b,d){return"object"===typeof d?d:{prefix:b.prefix,resource:d,suffix:b.suffix}},addComponents:function(b,f){var a=this.urls[b];d(f,function(b){l.ScriptLoader.add(a+"/"+b)})},load:function(b,f,a,c,k){function m(){var g=h.dependencies(b);d(g,function(a){a=h.createUrl(f,a);h.load(a.resource,a,F,F)});a&&(c?a.call(c):a.call(l))}var h=this,u=f;h.urls[b]||
("object"===typeof f&&(u=f.prefix+f.resource+f.suffix),0!==u.indexOf("/")&&-1==u.indexOf("://")&&(u=e.baseURL+"/"+u),h.urls[b]=u.substring(0,u.lastIndexOf("/")),h.lookup[b]?m():l.ScriptLoader.add(u,m,c,k))}};e.PluginManager=new e;e.ThemeManager=new e;return e});w("tinymce/dom/NodeType",[],function(){function l(b){return function(d){return!!d&&d.nodeType==b}}function h(b){b=b.toLowerCase().split(" ");return function(d){if(d&&d.nodeType){var a=d.nodeName.toLowerCase();for(d=0;d<b.length;d++)if(a===
b[d])return!0}return!1}}function e(b){return function(f){return!d(f)||f.contentEditable!==b&&f.getAttribute("data-mce-contenteditable")!==b?!1:!0}}var d=l(1);return{isText:l(3),isElement:d,isComment:l(8),isBr:h("br"),isContentEditableTrue:e("true"),isContentEditableFalse:e("false"),matchNodeNames:h,hasPropValue:function(b,f){return function(a){return d(a)&&a[b]===f}},hasAttributeValue:function(b,f){return function(a){return d(a)&&a.getAttribute(b)===f}},matchStyleValues:function(b,f){f=f.toLowerCase().split(" ");
return function(a){var c;if(d(a))for(c=0;c<f.length;c++){var e=getComputedStyle(a,null).getPropertyValue(b);if(e===f[c])return!0}return!1}},isBogus:function(b){return d(b)&&b.hasAttribute("data-mce-bogus")}}});w("tinymce/text/Zwsp",[],function(){return{isZwsp:function(l){return"\ufeff"==l},ZWSP:"\ufeff",trim:function(l){return l.replace(RegExp("\ufeff","g"),"")}}});w("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(l,h){function e(a){u(a)&&(a=a.parentNode);return v(a)&&
a.hasAttribute("data-mce-caret")}function d(a){return u(a)&&h.isZwsp(a.data)}function b(a){return e(a)||d(a)}function f(a){try{return a.nodeValue}catch(n){return""}}function a(){var a=document.createElement("br");a.setAttribute("data-mce-bogus","1");return a}function c(a){return a.firstChild!==a.lastChild||!l.isBr(a.firstChild)}function k(a){return u(a)&&a.data[0]==h.ZWSP}function m(a){return u(a)&&a.data[a.data.length-1]==h.ZWSP}var v=l.isElement,u=l.isText;return{isCaretContainer:b,isCaretContainerBlock:e,
isCaretContainerInline:d,showCaretContainerBlock:function(a){if(a&&a.hasAttribute("data-mce-caret")){var b=a.getElementsByTagName("br"),b=b[b.length-1];l.isBogus(b)&&b.parentNode.removeChild(b);a.removeAttribute("data-mce-caret");a.removeAttribute("data-mce-bogus");a.removeAttribute("style");a.removeAttribute("_moz_abspos");return a}return null},insertInline:function(a,c){var d=a.ownerDocument.createTextNode(h.ZWSP);var f=a.parentNode;if(c){var e=a.previousSibling;if(u(e)){if(b(e))return e;if(m(e))return e.splitText(e.data.length-
1)}f.insertBefore(d,a)}else{e=a.nextSibling;if(u(e)){if(b(e))return e;if(k(e))return e.splitText(1),e}a.nextSibling?f.insertBefore(d,a.nextSibling):f.appendChild(d)}return d},insertBlock:function(b,c,d){b=c.ownerDocument.createElement(b);b.setAttribute("data-mce-caret",d?"before":"after");b.setAttribute("data-mce-bogus","all");b.appendChild(a());var f=c.parentNode;d?f.insertBefore(b,c):c.nextSibling?f.insertBefore(b,c.nextSibling):f.appendChild(b);return b},hasContent:c,remove:function(a){if(v(a)&&
b(a))if(c(a))a.removeAttribute("data-mce-caret");else{var d=a.parentNode;d&&d.removeChild(a)}u(a)&&(d=h.trim(f(a)),0===d.length?(d=a.parentNode)&&d.removeChild(a):a.nodeValue=d)},startsWithCaretContainer:k,endsWithCaretContainer:m}});w("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],function(l,h,e,d,b){function f(a){return g(a)||n(a)}function a(a,b){var c=a.childNodes;b--;b>c.length-1?b=c.length-1:0>
b&&(b=0);return c[b]||a}function c(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}return null}function k(a){return"_mce_caret"===a.id}function m(b){this.walk=function(c,d){function f(a){var b=a[0];3===b.nodeType&&b===k&&p>=b.nodeValue.length&&a.splice(0,1);b=a[a.length-1];0===t&&0<a.length&&b===q&&3===b.nodeType&&a.splice(a.length-1,1);return a}function e(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function g(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function n(a,
b,c){var g=c?"nextSibling":"previousSibling";m=a;for(y=m.parentNode;m&&m!=b;m=y)y=m.parentNode,l=e(m==a?m:m[g],g),l.length&&(c||l.reverse(),d(f(l)))}var k=c.startContainer,p=c.startOffset,q=c.endContainer,t=c.endOffset,m,y;var h=b.select("td[data-mce-selected],th[data-mce-selected]");if(0<h.length)u(h,function(a){d([a])});else{1==k.nodeType&&k.hasChildNodes()&&(k=k.childNodes[p]);1==q.nodeType&&q.hasChildNodes()&&(q=a(q,t));if(k==q)return d(f([k]));var v=b.findCommonAncestor(k,q);for(m=k;m;m=m.parentNode){if(m===
q)return n(k,v,!0);if(m===v)break}for(m=q;m;m=m.parentNode){if(m===k)return n(q,v);if(m===v)break}h=g(k,v)||k;v=g(q,v)||q;n(k,h,!0);var l=e(h==k?h:h.nextSibling,"nextSibling",v==q?v.nextSibling:v);l.length&&d(f(l));n(q,v)}};this.split=function(a){var b=a.startContainer,c=a.startOffset,d=a.endContainer;a=a.endOffset;b==d&&3==b.nodeType?0<c&&c<b.nodeValue.length&&(d=b.splitText(c),b=d.previousSibling,a>c?(b=d=d.splitText(a-c).previousSibling,a=d.nodeValue.length,c=0):a=0):(3==b.nodeType&&0<c&&c<b.nodeValue.length&&
(b=b.splitText(c),c=0),3==d.nodeType&&0<a&&a<d.nodeValue.length&&(d=d.splitText(a).previousSibling,a=d.nodeValue.length));return{startContainer:b,startOffset:c,endContainer:d,endOffset:a}};this.normalize=function(a){function d(d){function g(a,c){for(var d=new h(a,b.getParent(a.parentNode,b.isBlock)||q);a=d[c?"prev":"next"]();)if("BR"===a.nodeName)return!0}function p(a){for(;a&&a!=q;){if(n(a))return!0;a=a.parentNode}return!1}function r(a,d){var g;d=d||y;var n=b.getParent(d.parentNode,b.isBlock)||q;
if(a&&"BR"==d.nodeName&&D&&b.isEmpty(n))y=d.parentNode,u=b.nodeIndex(d),f=!0;else{for(n=new h(d,n);m=n[a?"prev":"next"]();){if(!(g="false"===b.getContentEditableParent(m))){g=m;var p=b.getRoot();g=t(g)&&null!==c(g,p,k)===!1}if(g)return;if(3===m.nodeType&&0<m.nodeValue.length){y=m;u=a?m.nodeValue.length:0;f=!0;return}if(b.isBlock(m)||v[m.nodeName.toLowerCase()])return;g=m}e&&g&&(y=g,f=!0,u=0)}}var q=b.getRoot(),m;var y=a[(d?"start":"end")+"Container"];var u=a[(d?"start":"end")+"Offset"];var D=1==y.nodeType&&
u===y.childNodes.length;var v=b.schema.getNonEmptyElements();var A=d;if(!t(y)){1==y.nodeType&&u>y.childNodes.length-1&&(A=!1);9===y.nodeType&&(y=b.getRoot(),u=0);if(y===q){if(A&&(m=y.childNodes[0<u?u-1:0])&&(t(m)||v[m.nodeName]||"TABLE"==m.nodeName))return;if(y.hasChildNodes()){u=Math.min(!A&&0<u?u-1:u,y.childNodes.length-1);y=y.childNodes[u];u=0;if(!e&&y===q.lastChild&&"TABLE"===y.nodeName||p(y)||t(y))return;if(y.hasChildNodes()&&!/TABLE/.test(y.nodeName)){m=y;var l=new h(y,q);do{if(n(m)||t(m)){f=
!1;break}if(3===m.nodeType&&0<m.nodeValue.length){u=A?0:m.nodeValue.length;y=m;f=!0;break}if(v[m.nodeName.toLowerCase()]&&(!m||!/^(TD|TH|CAPTION)$/.test(m.nodeName))){u=b.nodeIndex(m);y=m.parentNode;"IMG"!=m.nodeName||A||u++;f=!0;break}}while(m=A?l.next():l.prev())}}}e&&(3===y.nodeType&&0===u&&r(!0),1===y.nodeType&&((m=y.childNodes[u])||(m=y.childNodes[u-1]),!m||"BR"!==m.nodeName||m.previousSibling&&"A"==m.previousSibling.nodeName||g(m)||g(m,!0)||r(!0,m)));A&&!e&&3===y.nodeType&&u===y.nodeValue.length&&
r(!1);if(f)a["set"+(d?"Start":"End")](y,u)}}var f;var e=a.collapsed;d(!0);e||d();f&&e&&a.collapse(!0);return f}}function v(a,b,c){var d=c.elementFromPoint(a,b);var f=c.body.createTextRange();d&&"HTML"!=d.tagName||(d=c.body);f.moveToElementText(d);c=l.toArray(f.getClientRects());c=c.sort(function(a,c){a=Math.abs(Math.max(a.top-b,a.bottom-b));c=Math.abs(Math.max(c.top-b,c.bottom-b));return a-c});if(0<c.length){b=(c[0].bottom+c[0].top)/2;try{return f.moveToPoint(a,b),f.collapse(!0),f}catch(A){}}return null}
var u=l.each,g=e.isContentEditableTrue,n=e.isContentEditableFalse,t=b.isCaretContainer;m.compareRanges=function(a,b){if(a&&b)if(a.item||a.duplicate){if(a.item&&b.item&&a.item(0)===b.item(0)||a.isEqual&&b.isEqual&&b.isEqual(a))return!0}else return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;return!1};m.getCaretRangeFromPoint=function(a,b,d){if(d.caretPositionFromPoint){a=d.caretPositionFromPoint(a,b);var e=d.createRange();e.setStart(a.offsetNode,a.offset);e.collapse(!0)}else if(d.caretRangeFromPoint)e=
d.caretRangeFromPoint(a,b);else if(d.body.createTextRange){e=d.body.createTextRange();try{e.moveToPoint(a,b),e.collapse(!0)}catch(D){e=v(a,b,d)}d=d.body;a=e&&e.parentElement?e.parentElement():null;return n(c(a,d,f))?null:e}return e};m.getSelectedNode=function(a){var b=a.startContainer,c=a.startOffset;return b.hasChildNodes()&&a.endOffset==c+1?b.childNodes[c]:null};m.getNode=function(a,b){1==a.nodeType&&a.hasChildNodes()&&(b>=a.childNodes.length&&(b=a.childNodes.length-1),a=a.childNodes[b]);return a};
return m});w("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(l,h,e){return function(d){var b,f=[];if(!("onselectionchange"in d.getDoc()))d.on("NodeChange Click MouseUp KeyUp Focus",function(a){var c=d.selection.getRng();c={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};"nodechange"!=a.type&&l.compareRanges(c,b)||d.fire("SelectionChange");b=c});d.on("contextmenu",function(){d.fire("SelectionChange")});
d.on("SelectionChange",function(){var a=d.selection.getStart(!0);if(h.range||!d.selection.isCollapsed()){var b;a:{var e=d.$(a).parentsUntil(d.getBody()).add(a);if(e.length===f.length){for(b=e.length;0<=b&&e[b]===f[b];b--);if(-1===b){f=e;b=!0;break a}}f=e;b=!1}!b&&d.dom.isChildOf(a,d.getBody())&&d.nodeChanged({selectionChange:!0})}});d.on("MouseUp",function(a){a.isDefaultPrevented()||("IMG"==d.selection.getNode().nodeName?e.setEditorTimeout(d,function(){d.nodeChanged()}):d.nodeChanged())});this.nodeChanged=
function(a){var b=d.selection;if(d.initialized&&b&&!d.settings.disable_nodechange&&!d.readonly){var f=d.getBody();var e=b.getStart()||f;e.ownerDocument==d.getDoc()&&d.dom.isChildOf(e,f)||(e=f);"IMG"==e.nodeName&&b.isCollapsed()&&(e=e.parentNode);var h=[];d.dom.getParent(e,function(a){if(a===f)return!0;h.push(a)});a=a||{};a.element=e;a.parents=h;d.fire("NodeChange",a)}}}});w("tinymce/html/Node",[],function(){function l(b,d,a){var c=a?"lastChild":"firstChild";a=a?"prev":"next";if(b[c])return b[c];if(b!==
d){if(c=b[a])return c;for(b=b.parent;b&&b!==d;b=b.parent)if(c=b[a])return c}}function h(b,d){this.name=b;this.type=d;1===d&&(this.attributes=[],this.attributes.map={})}var e=/^[ \t\r\n]*$/,d={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};h.prototype={replace:function(b){b.parent&&b.remove();this.insert(b,this);this.remove();return this},attr:function(b,d){var a,c;if("string"!==typeof b){for(c in b)this.attr(c,b[c]);return this}if(a=this.attributes){if(void 0!==d){if(null===
d){if(b in a.map)for(delete a.map[b],c=a.length;c--;)if(a[c].name===b){a.splice(c,1);break}return this}if(b in a.map)for(c=a.length;c--;){if(a[c].name===b){a[c].value=d;break}}else a.push({name:b,value:d});a.map[b]=d;return this}return a.map[b]}},clone:function(){var b=new h(this.name,this.type),d,a;if(a=this.attributes){var c=[];c.map={};var e=0;for(d=a.length;e<d;e++){var m=a[e];"id"!==m.name&&(c[c.length]={name:m.name,value:m.value},c.map[m.name]=m.value)}b.attributes=c}b.value=this.value;b.shortEnded=
this.shortEnded;return b},wrap:function(b){this.parent.insert(b,this);b.append(this);return this},unwrap:function(){var b;for(b=this.firstChild;b;){var d=b.next;this.insert(b,this,!0);b=d}this.remove()},remove:function(){var b=this.parent,d=this.next,a=this.prev;if(b){if(b.firstChild===this){if(b.firstChild=d)d.prev=null}else a.next=d;if(b.lastChild===this){if(b.lastChild=a)a.next=null}else d.prev=a;this.parent=this.next=this.prev=null}return this},append:function(b){var d;b.parent&&b.remove();(d=
this.lastChild)?(d.next=b,b.prev=d,this.lastChild=b):this.lastChild=this.firstChild=b;b.parent=this;return b},insert:function(b,d,a){b.parent&&b.remove();var c=d.parent||this;a?(d===c.firstChild?c.firstChild=b:d.prev.next=b,b.prev=d.prev,b.next=d,d.prev=b):(d===c.lastChild?c.lastChild=b:d.next.prev=b,b.next=d.next,b.prev=d,d.next=b);b.parent=c;return b},getAll:function(b){var d,a=[];for(d=this.firstChild;d;d=l(d,this))d.name===b&&a.push(d);return a},empty:function(){var b,d;if(this.firstChild){var a=
[];for(d=this.firstChild;d;d=l(d,this))a.push(d);for(b=a.length;b--;)d=a[b],d.parent=d.firstChild=d.lastChild=d.next=d.prev=null}this.firstChild=this.lastChild=null;return this},isEmpty:function(b,d){var a=this.firstChild,c;d=d||{};if(a){do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(b[a.name])return!1;for(c=a.attributes.length;c--;){var f=a.attributes[c].name;if("name"===f||0===f.indexOf("data-mce-bookmark"))return!1}}if(8===a.type||3===a.type&&!e.test(a.value)||3===a.type&&
a.parent&&d[a.parent.name]&&e.test(a.value))return!1}while(a=l(a,this))}return!0},walk:function(b){return l(this,null,b)}};h.create=function(b,f){var a;var c=new h(b,d[b]||1);if(f)for(a in f)c.attr(a,f[a]);return c};return h});w("tinymce/html/Schema",["tinymce/util/Tools"],function(l){function h(a,b){return(a=l.trim(a))?a.split(b||" "):[]}function e(a){function d(a,b,c){function d(a,b){var c={},d;var f=0;for(d=a.length;f<d;f++)c[a[f]]=b||{};return c}var e;c=c||[];b=b||"";"string"===typeof c&&(c=h(c));
a=h(a);for(e=a.length;e--;){var g=h([m,b].join(" "));g={attributes:d(g),attributesOrder:g,children:d(c,f)};k[a[e]]=g}}function e(a,b){var c;a=h(a);var d=a.length;for(b=h(b);d--;){var f=k[a[d]];var e=0;for(c=b.length;e<c;e++)f.attributes[b[e]]={},f.attributesOrder.push(b[e])}}var k={};if(b[a])return b[a];var m="id accesskey class dir lang style tabindex title";var q="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul";var p="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment";
"html4"!=a&&(m+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",q+=" article aside details dialog figure header footer hgroup section nav",p+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen");if("html5-strict"!=a){m+=" xml:lang";p=[p,"acronym applet basefont big font strike tt"].join(" ");c(h("acronym applet basefont big font strike tt"),function(a){d(a,"",p)});q=[q,"center dir isindex noframes"].join(" ");var r=[q,p].join(" ");
c(h("center dir isindex noframes"),function(a){d(a,"",r)})}r=r||[q,p].join(" ");d("html","manifest","head body");d("head","","base command link meta noscript script style title");d("title hr noscript br");d("base","href target");d("link","href rel media hreflang type sizes hreflang");d("meta","name http-equiv content charset");d("style","media type scoped");d("script","src async defer type charset");d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",
r);d("address dt dd div caption","",r);d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",p);d("blockquote","cite",r);d("ol","reversed start type","li");d("ul","","li");d("li","value",r);d("dl","","dt dd");d("a","href target rel media hreflang type",p);d("q","cite",p);d("ins del","cite datetime",r);d("img","src sizes srcset alt usemap ismap width height");d("iframe","src name width height",r);d("embed","src type width height");d("object",
"data type typemustmatch name usemap form width height",[r,"param"].join(" "));d("param","name value");d("map","name",[r,"area"].join(" "));d("area","alt coords shape href target rel media hreflang type");d("table","border","caption colgroup thead tfoot tbody tr"+("html4"==a?" col":""));d("colgroup","span","col");d("col","span");d("tbody thead tfoot","","tr");d("tr","","td th");d("td","colspan rowspan headers",r);d("th","colspan rowspan headers scope abbr",r);d("form","accept-charset action autocomplete enctype method name novalidate target",
r);d("fieldset","disabled form name",[r,"legend"].join(" "));d("label","form for",p);d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==a?r:p);d("select","disabled form multiple name required size","option optgroup");
d("optgroup","disabled label","option");d("option","disabled label selected value");d("textarea","cols dirname disabled form maxlength name readonly required rows wrap");d("menu","type label",[r,"li"].join(" "));d("noscript","",r);"html4"!=a&&(d("wbr"),d("ruby","",[p,"rt rp"].join(" ")),d("figcaption","",r),d("mark rt rp summary bdi","",p),d("canvas","width height",r),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),
d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[p,"option"].join(" ")),d("article section nav aside header footer","",r),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[r,"figcaption"].join(" ")),d("time","datetime",p),d("dialog","open",r),d("command","type label icon disabled checked radiogroup command"),
d("output","for form name",p),d("progress","value max",p),d("meter","value min max low high optimum",p),d("details","open",[r,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"));"html5-strict"!=a&&(e("script","language xml:space"),e("style","xml:space"),e("object","declare classid code codebase codetype archive standby align border hspace vspace"),e("embed","align name hspace vspace"),e("param","valuetype type"),e("a","charset name rev shape coords"),e("br","clear"),
e("applet","codebase archive code object alt name width height align hspace vspace"),e("img","name longdesc align border hspace vspace"),e("iframe","longdesc frameborder marginwidth marginheight scrolling align"),e("font basefont","size color face"),e("input","usemap align"),e("select","onchange"),e("textarea"),e("h1 h2 h3 h4 h5 h6 div p legend caption","align"),e("ul","type compact"),e("li","type"),e("ol dl menu dir","compact"),e("pre","width xml:space"),e("hr","align noshade size width"),e("isindex",
"prompt"),e("table","summary width frame rules cellspacing cellpadding align bgcolor"),e("col","width align char charoff valign"),e("colgroup","width align char charoff valign"),e("thead","align char charoff valign"),e("tr","align char charoff valign bgcolor"),e("th","axis align char charoff valign nowrap bgcolor width height"),e("form","accept"),e("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),e("tfoot","align char charoff valign"),e("tbody","align char charoff valign"),
e("area","nohref"),e("body","background bgcolor text link vlink alink"));"html4"!=a&&(e("input button select textarea","autofocus"),e("input textarea","placeholder"),e("a","download"),e("link script img","crossorigin"),e("iframe","sandbox seamless allowfullscreen"));c(h("a form meter progress dfn"),function(a){k[a]&&delete k[a].children[a]});delete k.caption.children.table;delete k.script;return b[a]=k}function d(b,d){if(b){var f={};"string"==typeof b&&(b={"*":b});c(b,function(b,c){f[c]=f[c.toUpperCase()]=
"map"==d?a(b,/[, ]/):m(b,/[, ]/)})}return f}var b={},f={},a=l.makeMap,c=l.each,k=l.extend,m=l.explode,v=l.inArray;return function(f){function g(c,d,e){var g=f[c];g?g=a(g,/[, ]/,a(g.toUpperCase(),/[, ]/)):(g=b[c],g||(g=a(d," ",a(d.toUpperCase()," ")),g=k(g,e),b[c]=g));return g}function n(a){return new RegExp("^"+a.replace(/([?+*])/g,".$1")+"$")}function t(b){var c,d,f,e,g=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,r=/[*?+]/;if(b){b=
h(b,",");if(u["@"]){var p=u["@"].attributes;var q=u["@"].attributesOrder}var m=0;for(c=b.length;m<c;m++)if(f=g.exec(b[m])){var t=f[1];var y=f[2];var x=f[3];var D=f[5];var A={};var G=[];var C={attributes:A,attributesOrder:G};"#"===t&&(C.paddEmpty=!0);"-"===t&&(C.removeEmpty=!0);"!"===f[4]&&(C.removeEmptyAttrs=!0);if(p){for(e in p)A[e]=p[e];G.push.apply(G,q)}if(D){D=h(D,"|");var z=0;for(d=D.length;z<d;z++)if(f=k.exec(D[z])){var H={};var U=f[1];var M=f[2].replace(/::/g,":");t=f[3];f=f[4];"!"===U&&(C.attributesRequired=
C.attributesRequired||[],C.attributesRequired.push(M),H.required=!0);"-"===U?(delete A[M],G.splice(v(G,M),1)):(t&&("="===t&&(C.attributesDefault=C.attributesDefault||[],C.attributesDefault.push({name:M,value:f}),H.defaultValue=f),":"===t&&(C.attributesForced=C.attributesForced||[],C.attributesForced.push({name:M,value:f}),H.forcedValue=f),"<"===t&&(H.validValues=a(f,"?"))),r.test(M)?(C.attributePatterns=C.attributePatterns||[],H.pattern=n(M),C.attributePatterns.push(H)):(A[M]||G.push(M),A[M]=H))}}p||
"@"!=y||(p=A,q=G);x&&(C.outputName=y,u[x]=C);r.test(y)?(C.pattern=n(y),l.push(C)):u[y]=C}}}function y(a){u={};l=[];t(a);c(C,function(a,b){A[b]=a.children})}function q(a){var d=/^(~)?(.+)$/;a&&(b.text_block_elements=b.block_elements=null,c(h(a,","),function(a){a=d.exec(a);var b="~"===a[1],f=b?"span":"div",e=a[2];A[e]=A[f];x[e]=f;b||(O[e.toUpperCase()]={},O[e]={});u[e]||(a=u[f],a=k({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,u[e]=a);c(A,function(a,b){a[f]&&(A[b]=a=k({},A[b]),a[e]=a[f])})}))}
function p(a){var d=/^([+\-]?)(\w+)\[([^\]]+)\]$/;b[f.schema]=null;a&&c(h(a,","),function(a){a=d.exec(a);var b;if(a){var f=(b=a[1])?A[a[2]]:A[a[2]]={"#comment":{}};f=A[a[2]];c(h(a[3],"|"),function(a){"-"===b?delete f[a]:f[a]={}})}})}function r(a){var b=u[a],c;if(b)return b;for(c=l.length;c--;)if(b=l[c],b.pattern.test(a))return b}var u={},A={},l=[],x={},G={};f=f||{};var C=e(f.schema);!1===f.verify_html&&(f.valid_elements="*[*]");var H=d(f.valid_styles);var ja=d(f.invalid_styles,"map");var M=d(f.valid_classes,
"map");var U=g("whitespace_elements","pre script noscript style textarea video audio iframe object code");var J=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");var K=g("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");var w=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");var P=g("non_empty_elements",
"td th iframe video audio object script pre code",K);var I=g("move_caret_before_on_enter_elements","table",P);var L=g("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");var O=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",L);var qa=g("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");
c((f.special||"script noscript style textarea").split(" "),function(a){G[a]=new RegExp("</"+a+"[^>]*>","gi")});f.valid_elements?y(f.valid_elements):(c(C,function(a,b){u[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};A[b]=a.children}),"html5"!=f.schema&&c(h("strong/b em/i"),function(a){a=h(a,"/");u[a[1]].outputName=a[0]}),c(h("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){u[a]&&(u[a].removeEmpty=!0)}),c(h("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),
function(a){u[a].paddEmpty=!0}),c(h("span"),function(a){u[a].removeEmptyAttrs=!0}));q(f.custom_elements);p(f.valid_children);t(f.extended_valid_elements);p("+ol[ul|ol],+ul[ul|ol]");c({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(a,b){u[b]&&(u[b].parentsRequired=h(a))});f.invalid_elements&&c(m(f.invalid_elements),function(a){u[a]&&delete u[a]});r("span")||t("span[!data-mce-type|*]");
this.children=A;this.getValidStyles=function(){return H};this.getInvalidStyles=function(){return ja};this.getValidClasses=function(){return M};this.getBoolAttrs=function(){return w};this.getBlockElements=function(){return O};this.getTextBlockElements=function(){return L};this.getTextInlineElements=function(){return qa};this.getShortEndedElements=function(){return K};this.getSelfClosingElements=function(){return J};this.getNonEmptyElements=function(){return P};this.getMoveCaretBeforeOnEnterElements=
function(){return I};this.getWhiteSpaceElements=function(){return U};this.getSpecialElements=function(){return G};this.isValidChild=function(a,b){var c=A[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,d;if(c=r(a))if(b){if(c.attributes[b])return!0;if(c=c.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}else return!0;return!1};this.getElementRule=r;this.getCustomElements=function(){return x};this.addValidElements=t;this.setValidElements=y;this.addCustomElements=q;this.addValidChildren=
p;this.elements=u}});w("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(l,h,e){function d(a,b,d){var c=1,f;var e=a.getShortEndedElements();a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(a.lastIndex=d;f=a.exec(b);){d=a.lastIndex;if("/"===f[1])c--;else if(!f[1]){if(f[2]in e)continue;c++}if(0===c)break}return d}function b(a,b){function c(){}var m=this;a=a||{};m.schema=b=b||new l;!1!==a.fix_self_closing&&
(a.fix_self_closing=!0);f("comment cdata text start end pi doctype".split(" "),function(b){b&&(m[b]=a[b]||c)});m.parse=function(c){function f(a){var b,c;for(b=p.length;b--&&p[b].name!==a;);if(0<=b){for(c=p.length-1;c>=b;c--)a=p[c],a.valid&&n.end(a.name);p.length=b}}function g(b,c,d,f,e){b=/[\s\u0000-\u001F]+/g;c=c.toLowerCase();d=c in I?c:H(d||f||e||"");if(L&&!v&&0!==c.indexOf("data-")){f=ca[c];if(!f&&E){for(e=E.length;e--&&(f=E[e],!f.pattern.test(c)););-1===e&&(f=null)}if(!f||f.validValues&&!(d in
f.validValues))return}if(ja[c]&&!a.allow_script_urls){b=d.replace(b,"");try{b=decodeURIComponent(b)}catch(ha){b=unescape(b)}if(M.test(b)||!a.allow_html_data_urls&&U.test(b)&&!/^data:image\//i.test(b))return}S.map[c]=d;S.push({name:c,value:d})}var n=this,k,m=0,q,p=[],r,D,v,l,x,G,C=0,H=h.decode,ja=e.makeMap("src,href,data,background,formaction,poster"),M=/((java|vb)script|mhtml):/i,U=/^data:/i;var J=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))",
"g");var K=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;var w=b.getShortEndedElements();var P=a.self_closing_elements||b.getSelfClosingElements();var I=b.getBoolAttrs();var L=a.validate;var O=a.remove_internals;var qa=a.fix_self_closing;for(G=b.getSpecialElements();k=J.exec(c);){m<k.index&&n.text(H(c.substr(m,k.index-m)));if(q=k[6])q=q.toLowerCase(),":"===q.charAt(0)&&(q=q.substr(1)),f(q);else if(q=k[7]){q=q.toLowerCase();":"===q.charAt(0)&&(q=q.substr(1));m=q in
w;qa&&P[q]&&0<p.length&&p[p.length-1].name===q&&f(q);if(!L||(l=b.getElementRule(q))){var Q=!0;if(L){var ca=l.attributes;var E=l.attributePatterns}if(x=k[8]){(v=-1!==x.indexOf("data-mce-type"))&&O&&(Q=!1);var S=[];S.map={};x.replace(K,g)}else S=[],S.map={};if(L&&!v){var B=l.attributesRequired;var N=l.attributesDefault;var aa=l.attributesForced;(r=l.removeEmptyAttrs)&&!S.length&&(Q=!1);if(aa)for(r=aa.length;r--;){var R=aa[r];var W=R.name;R=R.value;"{$uid}"===R&&(R="mce_"+C++);S.map[W]=R;S.push({name:W,
value:R})}if(N)for(r=N.length;r--;)R=N[r],W=R.name,W in S.map||(R=R.value,"{$uid}"===R&&(R="mce_"+C++),S.map[W]=R,S.push({name:W,value:R}));if(B){for(r=B.length;r--&&!(B[r]in S.map););-1===r&&(Q=!1)}if(R=S.map["data-mce-bogus"]){if("all"===R){m=d(b,c,J.lastIndex);J.lastIndex=m;continue}Q=!1}}Q&&n.start(q,S,m)}else Q=!1;if(B=G[q]){B.lastIndex=m=k.index+k[0].length;(k=B.exec(c))?(Q&&(D=c.substr(m,k.index-m)),m=k.index+k[0].length):(D=c.substr(m),m=c.length);Q&&(0<D.length&&n.text(D,!0),n.end(q));J.lastIndex=
m;continue}m||(x&&x.indexOf("/")==x.length-1?Q&&n.end(q):p.push({name:q,valid:Q}))}else(q=k[1])?(">"===q.charAt(0)&&(q=" "+q),a.allow_conditional_comments||"[if"!==q.substr(0,3).toLowerCase()||(q=" "+q),n.comment(q)):(q=k[2])?n.cdata(q):(q=k[3])?n.doctype(q):(q=k[4])&&n.pi(q,k[5]);m=k.index+k[0].length}m<c.length&&n.text(H(c.substr(m)));for(r=p.length-1;0<=r;r--)q=p[r],q.valid&&n.end(q.name)}}var f=e.each;b.findEndTag=d;return b});w("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema",
"tinymce/html/SaxParser","tinymce/util/Tools"],function(l,h,e,d){var b=d.makeMap,f=d.each,a=d.explode,c=d.extend,k=function(a,b){a.padd_empty_with_br?b.empty().append(new l("br","1")).shortEnded=!0:b.empty().append(new l("#text","3")).value="\u00a0"};return function(m,v){function u(a){var c,d,f,e;var n=b("tr,td,th,tbody,thead,tfoot,table");var k=v.getNonEmptyElements();var p=v.getWhiteSpaceElements();var q=v.getTextBlockElements();var m=v.getSpecialElements();for(c=0;c<a.length;c++){var t=a[c];if(t.parent&&
!t.fixed)if(q[t.name]&&"li"==t.parent.name){for(d=t.next;d;){if(q[d.name])d.name="li",d.fixed=!0,t.parent.insert(d,t.parent);else break;d=d.next}t.unwrap(t)}else{var h=[t];for(d=t.parent;d&&!v.isValidChild(d.name,t.name)&&!n[d.name];d=d.parent)h.push(d);if(d&&1<h.length){h.reverse();var y=f=g.filterNode(h[0].clone());for(e=0;e<h.length-1;e++){if(v.isValidChild(f.name,h[e].name)){var u=g.filterNode(h[e].clone());f.append(u)}else u=f;for(f=h[e].firstChild;f&&f!=h[e+1];){var w=f.next;u.append(f);f=w}f=
u}y.isEmpty(k,p)?d.insert(t,h[0],!0):(d.insert(y,h[0],!0),d.insert(t,y));d=h[0];(d.isEmpty(k,p)||d&&d.firstChild===d.lastChild&&"br"===d.firstChild.name)&&d.empty().remove()}else t.parent&&("li"===t.name?(d=t.prev,!d||"ul"!==d.name&&"ul"!==d.name?(d=t.next,!d||"ul"!==d.name&&"ul"!==d.name?t.wrap(g.filterNode(new l("ul",1))):d.insert(t,d.firstChild,!0)):d.append(t)):v.isValidChild(t.parent.name,"div")&&v.isValidChild("div",t.name)?t.wrap(g.filterNode(new l("div",1))):m[t.name]?t.empty().remove():t.unwrap())}}}
var g=this,n={},t=[],y={},q={};m=m||{};m.validate="validate"in m?m.validate:!0;m.root_name=m.root_name||"body";g.schema=v=v||new h;g.filterNode=function(a){var b,c;d in n&&((c=y[d])?c.push(a):y[d]=[a]);for(b=t.length;b--;){var d=t[b].name;d in a.attributes.map&&((c=q[d])?c.push(a):q[d]=[a])}return a};g.addNodeFilter=function(b,c){f(a(b),function(a){var b=n[a];b||(n[a]=b=[]);b.push(c)})};g.addAttributeFilter=function(b,c){f(a(b),function(a){var b;for(b=0;b<t.length;b++)if(t[b].name===a){t[b].callbacks.push(c);
return}t.push({name:a,callbacks:[c]})})};g.parse=function(a,d){function f(){function a(a){a&&((b=a.firstChild)&&3==b.type&&(b.value=b.value.replace(L,"")),(b=a.lastChild)&&3==b.type&&(b.value=b.value.replace(O,"")))}var b=F.firstChild;if(v.isValidChild(F.name,P.toLowerCase())){for(;b;){var c=b.next;if(3==b.type||1==b.type&&"p"!==b.name&&!U[b.name]&&!b.attr("data-mce-type")){if(!d){var d=g(P,1);d.attr(m.forced_root_block_attrs);F.insert(d,b)}d.append(b)}else a(d),d=null;b=c}a(d)}}function g(a,b){var c=
new l(a,b),d;a in n&&((d=y[a])?d.push(c):y[a]=[c]);return c}function p(a){var b=v.getBlockElements();for(a=a.prev;a&&3===a.type;){var c=a.value.replace(O,"");if(0<c.length){a.value=c;break}if(c=a.next){if(3==c.type&&c.value.length){a=a.prev;continue}if(!b[c.name]&&"script"!=c.name&&"style"!=c.name){a=a.prev;continue}}c=a.prev;a.remove();a=c}}var r,h,C,H,ja=[],M;d=d||{};y={};q={};var U=c(b("script,style,head,html,body,title,meta,param"),v.getBlockElements());var J=v.getNonEmptyElements();var K=v.children;
var w=m.validate;var P="forced_root_block"in d?d.forced_root_block:m.forced_root_block;var I=v.getWhiteSpaceElements();var L=/^[ \t\r\n]+/;var O=/[ \t\r\n]+$/;var qa=/[ \t\r\n]+/g;var Q=/^[ \t\r\n]+$/;var E=new e({validate:w,allow_script_urls:m.allow_script_urls,allow_conditional_comments:m.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(v.getSelfClosingElements()),cdata:function(a){r.append(g("#cdata",4)).value=a},text:function(a,
b){M||(a=a.replace(qa," "),r.lastChild&&U[r.lastChild.name]&&(a=a.replace(L,"")));if(0!==a.length){var c=g("#text",3);c.raw=!!b;r.append(c).value=a}},comment:function(a){r.append(g("#comment",8)).value=a},pi:function(a,b){r.append(g(a,7)).value=b;p(r)},doctype:function(a){r.append(g("#doctype",10)).value=a;p(r)},start:function(a,b,c){var d,f;if(d=w?v.getElementRule(a):{}){d=g(d.outputName||a,1);d.attributes=b;d.shortEnded=c;r.append(d);(f=K[r.name])&&K[d.name]&&!f[d.name]&&ja.push(d);for(f=t.length;f--;){var e=
t[f].name;e in b.map&&((S=q[e])?S.push(d):q[e]=[d])}U[a]&&p(d);c||(r=d);!M&&I[a]&&(M=!0)}},end:function(a){var b,c;if(c=w?v.getElementRule(a):{}){if(U[a]&&!M){if((b=r.firstChild)&&3===b.type){var d=b.value.replace(L,"");if(0<d.length)b.value=d;else{var f=b.next;b.remove();for(b=f;b&&3===b.type;)d=b.value,f=b.next,(0===d.length||Q.test(d))&&b.remove(),b=f}}if((b=r.lastChild)&&3===b.type)if(d=b.value.replace(O,""),0<d.length)b.value=d;else for(f=b.prev,b.remove(),b=f;b&&3===b.type;)d=b.value,f=b.prev,
(0===d.length||Q.test(d))&&b.remove(),b=f}M&&I[a]&&(M=!1);if((c.removeEmpty||c.paddEmpty)&&r.isEmpty(J,I))if(c.paddEmpty)k(m,r);else if(!r.attributes.map.name&&!r.attributes.map.id){a=r.parent;U[r.name]?r.empty().remove():r.unwrap();r=a;return}r=r.parent}}},v);var F=r=new l(d.context||m.root_name,11);E.parse(a);w&&ja.length&&(d.context?d.invalid=!0:u(ja));P&&("body"==F.name||d.isRootContent)&&f();if(!d.invalid){for(H in y){var S=n[H];E=y[H];for(C=E.length;C--;)E[C].parent||E.splice(C,1);var B=0;for(h=
S.length;B<h;B++)S[B](E,H,d)}B=0;for(h=t.length;B<h;B++)if(S=t[B],S.name in q){E=q[S.name];for(C=E.length;C--;)E[C].parent||E.splice(C,1);C=0;for(H=S.callbacks.length;C<H;C++)S.callbacks[C](E,S.name,d)}}return F};m.remove_trailing_brs&&g.addNodeFilter("br",function(a){var b,d=a.length,f=c({},v.getBlockElements()),e=v.getNonEmptyElements(),g,n=v.getNonEmptyElements();f.body=1;for(b=0;b<d;b++){var p=a[b];var q=p.parent;if(f[p.parent.name]&&p===q.lastChild){for(g=p.prev;g;){var t=g.name;if("span"!==
t||"bookmark"!==g.attr("data-mce-type")){if("br"!==t)break;if("br"===t){p=null;break}}g=g.prev}p&&(p.remove(),q.isEmpty(e,n)&&(p=v.getElementRule(q.name))&&(p.removeEmpty?q.remove():p.paddEmpty&&k(m,q)))}else{for(g=p;q&&q.firstChild===g&&q.lastChild===g;){g=q;if(f[q.name])break;q=q.parent}g===q&&!0!==m.padd_empty_with_br&&(q=new l("#text",3),q.value="\u00a0",p.replace(q))}}});m.allow_unsafe_link_target||g.addAttributeFilter("href",function(a){function b(a){var b=new RegExp("("+"noopener noreferrer".replace(" ",
"|")+")","g");a&&(a=d.trim(a.replace(b,"")));return a?a:null}function c(a,c){var d=c?(d=b(a))?[d,"noopener noreferrer"].join(" "):"noopener noreferrer":b(a);return d}for(var f=a.length,e,g;f--;)e=a[f],g=e.attr("rel"),"a"===e.name&&e.attr("rel",c(g,"_blank"==e.attr("target")))});m.allow_html_in_named_anchor||g.addAttributeFilter("id,name",function(a){for(var b=a.length,c,d,f,e;b--;)if(e=a[b],"a"===e.name&&e.firstChild&&!e.attr("href")){f=e.parent;c=e.lastChild;do d=c.prev,f.insert(c,e),c=d;while(c)}});
m.fix_list_elements&&g.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,d;b--;)if(c=a[b],d=c.parent,"ul"===d.name||"ol"===d.name)c.prev&&"li"===c.prev.name?c.prev.append(c):(d=new l("li",1),d.attr("style","list-style-type: none"),c.wrap(d))});m.validate&&v.getValidClasses()&&g.addAttributeFilter("class",function(a){for(var b=a.length,c,d,f,e,g,n=v.getValidClasses(),k,q;b--;){c=a[b];d=c.attr("class").split(" ");g="";for(f=0;f<d.length;f++)e=d[f],q=!1,(k=n["*"])&&k[e]&&(q=!0),k=n[c.name],!q&&
k&&k[e]&&(q=!0),q&&(g&&(g+=" "),g+=e);g.length||(g=null);c.attr("class",g)}})}});w("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(l,h){var e=h.makeMap;return function(d){var b=[];d=d||{};var f=d.indent;var a=e(d.indent_before||"");var c=e(d.indent_after||"");var k=l.getEncodeFunc(d.entity_encoding||"raw",d.entities);var m="html"==d.element_format;return{start:function(d,e,g){var n;if(f&&a[d]&&0<b.length){var t=b[b.length-1];0<t.length&&"\n"!==t&&b.push("\n")}b.push("<",
d);if(e)for(t=0,n=e.length;t<n;t++){var h=e[t];b.push(" ",h.name,'="',k(h.value,!0),'"')}b[b.length]=!g||m?">":" />";g&&f&&c[d]&&0<b.length&&(t=b[b.length-1],0<t.length&&"\n"!==t&&b.push("\n"))},end:function(a){b.push("</",a,">");f&&c[a]&&0<b.length&&(a=b[b.length-1],0<a.length&&"\n"!==a&&b.push("\n"))},text:function(a,c){0<a.length&&(b[b.length]=c?a:k(a))},cdata:function(a){b.push("<![CDATA[",a,"]]\x3e")},comment:function(a){b.push("\x3c!--",a,"--\x3e")},pi:function(a,c){c?b.push("<?",a," ",k(c),
"?>"):b.push("<?",a,"?>");f&&b.push("\n")},doctype:function(a){b.push("<!DOCTYPE",a,">",f?"\n":"")},reset:function(){b.length=0},getContent:function(){return b.join("").replace(/\n$/,"")}}}});w("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(l,h){return function(e,d){var b=new l(e);e=e||{};e.validate="validate"in e?e.validate:!0;this.schema=d=d||new h;this.writer=b;this.serialize=function(f){function a(f){var e=k[f.type],m,g;if(e)e(f);else{e=f.name;var n=f.shortEnded;
var t=f.attributes;if(c&&t&&1<t.length){var h=[];h.map={};if(g=d.getElementRule(f.name)){var q=0;for(m=g.attributesOrder.length;q<m;q++){var p=g.attributesOrder[q];if(p in t.map){var r=t.map[p];h.map[p]=r;h.push({name:p,value:r})}}q=0;for(m=t.length;q<m;q++)p=t[q].name,p in h.map||(r=t.map[p],h.map[p]=r,h.push({name:p,value:r}));t=h}}b.start(f.name,t,n);if(!n){if(f=f.firstChild){do a(f);while(f=f.next)}b.end(e)}}}var c=e.validate;var k={3:function(a){b.text(a.value,a.raw)},8:function(a){b.comment(a.value)},
7:function(a){b.pi(a.name,a.value)},10:function(a){b.doctype(a.value)},4:function(a){b.cdata(a.value)},11:function(b){if(b=b.firstChild){do a(b);while(b=b.next)}}};b.reset();if(1!=f.type||e.inner)k[11](f);else a(f);return b.getContent()}}});w("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/SaxParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools tinymce/text/Zwsp".split(" "),function(l,h,e,d,b,f,
a,c,k,m){function v(a){var b;(a=a.lastChild)&&"br"===a.name&&(b=a.prev)&&"br"===b.name&&(a.remove(),b.remove())}var u=k.each,g=k.trim,n=l.DOM;return function(f,y){function q(a){var b=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+r.join("|")+')="[^"]+"'].join("|"),"gi");return a=m.trim(a.replace(b,""))}function p(a){var b=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c,d,f=y.schema;a=q(a);for(d=f.getShortEndedElements();c=b.exec(a);){var g=b.lastIndex;var n=c[0].length;c=
d[c[1]]?g:e.findEndTag(f,a,g);a=a.substring(0,g-n)+a.substring(c);b.lastIndex=g-n}return a}var r=["data-mce-selected"];if(y){var t=y.dom;var l=y.schema}t=t||n;l=l||new a(f);f.entity_encoding=f.entity_encoding||"named";f.remove_trailing_brs="remove_trailing_brs"in f?f.remove_trailing_brs:!0;var z=new h(f,l);z.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c=a.length,d;c--;)d=a[c],d.attr("tabindex",d.attributes.map["data-mce-tabindex"]),d.attr(b,null)});z.addAttributeFilter("src,href,style",
function(a,b){for(var c=a.length,d,e,g="data-mce-"+b,n=f.url_converter,k=f.url_converter_scope;c--;)d=a[c],e=d.attributes.map[g],void 0!==e?(d.attr(b,0<e.length?e:null),d.attr(g,null)):(e=d.attributes.map[b],"style"===b?e=t.serializeStyle(t.parseStyle(e),d.name):n&&(e=n.call(k,e,b,d.name)),d.attr(b,0<e.length?e:null))});z.addAttributeFilter("class",function(a){for(var b=a.length,c,d;b--;)if(c=a[b],d=c.attr("class"))d=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<d.length?
d:null)});z.addAttributeFilter("data-mce-type",function(a,b,c){b=a.length;for(var d;b--;)d=a[b],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove()});z.addNodeFilter("noscript",function(a){for(var b=a.length,c;b--;)if(c=a[b].firstChild)c.value=d.decode(c.value)});z.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,
"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,"")}for(var d=a.length,f,e,g;d--;)f=a[d],e=f.firstChild?f.firstChild.value:"","script"===b?((g=f.attr("type"))&&f.attr("type","mce-no/type"==g?null:g.replace(/^mce\-/,"")),0<e.length&&(f.firstChild.value="// <![CDATA[\n"+c(e)+"\n// ]]\x3e")):0<e.length&&(f.firstChild.value="\x3c!--\n"+c(e)+"\n--\x3e")});z.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=
a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))});z.addNodeFilter("xml:namespace,input",function(a,b){for(var c=a.length,d;c--;)d=a[c],7===d.type?d.remove():1===d.type&&("input"!==b||"type"in d.attributes.map||d.attr("type","text"))});z.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",
function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)});return{schema:l,addNodeFilter:z.addNodeFilter,addAttributeFilter:z.addAttributeFilter,serialize:function(a,d){if(c.ie&&0<t.select("script,style,select,map").length){var e=a.innerHTML;a=a.cloneNode(!1);t.setHTML(a,e)}else a=a.cloneNode(!0);e=document.implementation;if(e.createHTMLDocument){var n=e.createHTMLDocument("");u("BODY"==a.nodeName?a.childNodes:[a],function(a){n.body.appendChild(n.importNode(a,!0))});a="BODY"!=a.nodeName?n.body.firstChild:
n.body;var k=t.doc;t.doc=n}d=d||{};d.format=d.format||"html";d.selection&&(d.forced_root_block="");d.no_events||(d.node=a,this.onPreProcess(d));var q=z.parse(g(d.getInner?a.innerHTML:t.getOuterHTML(a)),d);v(q);e=new b(f,l);d.content=e.serialize(q);d.cleanup||(d.content=m.trim(d.content),d.content=d.content.replace(/\uFEFF/g,""));if(!d.no_events)this.onPostProcess(d);k&&(t.doc=k);d.node=null;return d.content},addRules:function(a){l.addValidElements(a)},setRules:function(a){l.setValidElements(a)},onPreProcess:function(a){y&&
y.fire("PreProcess",a)},onPostProcess:function(a){y&&y.fire("PostProcess",a)},addTempAttr:function(a){-1===k.inArray(r,a)&&(z.addAttributeFilter(a,function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),r.push(a))},trimHtml:q,getTrimmedContent:function(){return p(y.getBody().innerHTML)},trimContent:p}}});w("tinymce/dom/TridentSelection",[],function(){return function(l){function h(b,d){var a=0,c,f=-1;var e=b.duplicate();e.collapse(d);var h=e.parentElement();if(h.ownerDocument===l.dom.doc){for(;"false"===
h.contentEditable;)h=h.parentNode;if(!h.hasChildNodes())return{node:h,inside:1};var u=h.children;for(c=u.length-1;a<=c;){var g=Math.floor((a+c)/2);var n=u[g];e.moveToElementText(n);f=e.compareEndPoints(d?"StartToStart":"EndToEnd",b);if(0<f)c=g-1;else if(0>f)a=g+1;else return{node:n}}if(0>f){if(n)e.collapse(!1);else{e.moveToElementText(h);e.collapse(!0);n=h;var t=!0}for(a=0;0!==e.compareEndPoints(d?"StartToStart":"StartToEnd",b)&&0!==e.move("character",1)&&h==e.parentElement();)a++}else for(e.collapse(!0),
a=0;0!==e.compareEndPoints(d?"StartToStart":"StartToEnd",b)&&0!==e.move("character",-1)&&h==e.parentElement();)a++;return{node:n,position:f,offset:a,inside:t}}}var e=this,d=l.dom;this.getBookmark=function(b){function f(a){var b,c,f=[];var e=a.parentNode;for(b=d.getRoot().parentNode;e!=b&&9!==e.nodeType;){var k=e.children;for(c=k.length;c--;)if(a===k[c]){f.push(c);break}a=e;e=e.parentNode}return f}function a(a){if(a=h(c,a))return{position:a.position,offset:a.offset,indexes:f(a.node),inside:a.inside}}
var c=l.getRng(),e={};2===b&&(c.item?e.start={ctrl:!0,indexes:f(c.item(0))}:(e.start=a(!0),l.isCollapsed()||(e.end=a())));return e};this.moveToBookmark=function(b){function f(a){var b;var c=d.getRoot();for(b=a.length-1;0<=b;b--){var f=c.children;var e=a[b];e<=f.length-1&&(c=f[e])}return c}function a(a){var d=b[a?"start":"end"];if(d){var k=0<d.position;var g=c.createTextRange();g.moveToElementText(f(d.indexes));var n=d.offset;void 0!==n?(g.collapse(d.inside||k),g.moveStart("character",k?-n:n)):g.collapse(a);
e.setEndPoint(a?"StartToStart":"EndToStart",g);a&&e.collapse(!0)}}var c=d.doc.body;if(b.start){if(b.start.ctrl){var e=c.createControlRange();e.addElement(f(b.start.indexes))}else e=c.createTextRange(),a(!0),a();e.select()}};this.addRange=function(b){function f(b){var f=d.create("a");var n=b?e:v;var k=b?h:u;var q=g.duplicate();if(n==a||n==a.documentElement)n=c,k=0;if(3==n.nodeType)n.parentNode.insertBefore(f,n),q.moveToElementText(f),q.moveStart("character",k),d.remove(f),g.setEndPoint(b?"StartToStart":
"EndToEnd",q);else{var t=n.childNodes;t.length?(k>=t.length?d.insertAfter(f,t[t.length-1]):n.insertBefore(f,t[k]),q.moveToElementText(f)):n.canHaveHTML&&(n.innerHTML="<span>&#xFEFF;</span>",f=n.firstChild,q.moveToElementText(f),q.collapse(!1));g.setEndPoint(b?"StartToStart":"EndToEnd",q);d.remove(f)}}var a=l.dom.doc,c=a.body;var e=b.startContainer;var h=b.startOffset;var v=b.endContainer;var u=b.endOffset;var g=c.createTextRange();if(e==v&&1==e.nodeType){if(h==u&&!e.hasChildNodes()){if(e.canHaveHTML){(b=
e.previousSibling)&&!b.hasChildNodes()&&d.isBlock(b)?b.innerHTML="&#xFEFF;":b=null;e.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";g.moveToElementText(e.lastChild);g.select();d.doc.selection.clear();e.innerHTML="";b&&(b.innerHTML="");return}h=d.nodeIndex(e);e=e.parentNode}if(h==u-1)try{var n=e.childNodes[h];var t=c.createControlRange();t.addElement(n);t.select();var y=l.getRng();if(y.item&&n===y.item(0))return}catch(q){}}f(!0);f();g.select()};this.getRangeAt=function(){function b(b){var c=
h(f,b),d=0;var e=c.node;var k=c.offset;if(c.inside&&!e.hasChildNodes())a[b?"setStart":"setEnd"](e,0);else if(void 0===k)a[b?"setStartBefore":"setEndAfter"](e);else{if(0>c.position){c=c.inside?e.firstChild:e.nextSibling;if(!c){a[b?"setStartAfter":"setEndAfter"](e);return}if(!k){if(3==c.nodeType)a[b?"setStart":"setEnd"](c,0);else a[b?"setStartBefore":"setEndBefore"](c);return}for(;c;){if(3==c.nodeType){var q=c.nodeValue;d+=q.length;if(d>=k){e=c;d-=k;d=q.length-d;break}}c=c.nextSibling}}else{c=e.previousSibling;
if(!c)return a[b?"setStartBefore":"setEndBefore"](e);if(!k){if(3==e.nodeType)a[b?"setStart":"setEnd"](c,e.nodeValue.length);else a[b?"setStartAfter":"setEndAfter"](c);return}for(;c;){if(3==c.nodeType&&(d+=c.nodeValue.length,d>=k)){e=c;d-=k;break}c=c.previousSibling}}a[b?"setStart":"setEnd"](e,d)}}var f=l.getRng(),a=d.createRng();var c=f.item?f.item(0):f.parentElement();if(c.ownerDocument!=d.doc)return a;var k=l.isCollapsed();if(f.item)return a.setStart(c.parentNode,d.nodeIndex(c)),a.setEnd(a.startContainer,
a.startOffset+1),a;try{b(!0),k||b()}catch(u){if(-2147024809==u.number){var m=e.getBookmark(2);var v=f.duplicate();v.collapse(!0);c=v.parentElement();k||(v=f.duplicate(),v.collapse(!1),v=v.parentElement(),v.innerHTML=v.innerHTML);c.innerHTML=c.innerHTML;e.moveToBookmark(m);f=l.getRng();b(!0);k||b()}else throw u;}return a}}});w("tinymce/util/VK",["tinymce/Env"],function(l){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(h){return h.shiftKey||
h.ctrlKey||h.altKey||this.metaKeyPressed(h)},metaKeyPressed:function(h){return l.mac?h.metaKey:h.ctrlKey&&!h.altKey}}});w("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(l,h,e,d,b){var f=b.isContentEditableFalse,a=b.isContentEditableTrue;return function(b,k){function c(a){var b=k.settings.object_resizing;if(!1===b||d.iOS)return!1;"string"!=typeof b&&(b="table,img,div");return"false"===a.getAttribute("data-mce-resize")||
a==k.getBody()?!1:k.dom.is(a,b)}function v(a){var b=a.screenX-J;var c=a.screenY-K;Q=b*M[2]+I;ca=c*M[3]+L;Q=5>Q?5:Q;ca=5>ca?5:ca;if("IMG"==C.nodeName&&!1!==k.settings.resize_img_proportional?!l.modifierPressed(a):l.modifierPressed(a)||"IMG"==C.nodeName&&0!==M[2]*M[3])N(b)>N(c)?(ca=aa(Q*O),Q=aa(ca/O)):(Q=aa(ca/O),ca=aa(Q*O));x.setStyles(H,{width:Q,height:ca});a=M.startPos.x+b;var d=M.startPos.y+c;a=0<a?a:0;d=0<d?d:0;x.setStyles(w,{left:a,top:d,display:"block"});w.innerHTML=Q+" &times; "+ca;0>M[2]&&
H.clientWidth<=Q&&x.setStyle(H,"left",T+(I-Q));0>M[3]&&H.clientHeight<=ca&&x.setStyle(H,"top",P+(L-ca));b=R.scrollWidth-W;c=R.scrollHeight-ia;0!==b+c&&x.setStyles(w,{left:a-b,top:d-c});E||(k.fire("ObjectResizeStart",{target:C,width:I,height:L}),E=!0)}function u(){function a(a,b){b&&(C.style[a]||!k.schema.isValid(C.nodeName.toLowerCase(),a)?x.setStyle(C,a,b):x.setAttrib(C,a,b))}E=!1;a("width",Q);a("height",ca);x.unbind(F,"mousemove",v);x.unbind(F,"mouseup",u);S!=F&&(x.unbind(S,"mousemove",v),x.unbind(S,
"mouseup",u));x.remove(H);x.remove(w);B&&"TABLE"!=C.nodeName||g(C);k.fire("ObjectResized",{target:C,width:Q,height:ca});x.setAttrib(C,"style",x.getAttrib(C,"style"));k.nodeChanged()}function g(a,b,f){n();D();var e=x.getPos(a,R);T=e.x;P=e.y;e=a.getBoundingClientRect();var g=e.width||e.right-e.left;var q=e.height||e.bottom-e.top;C!=a&&(r(),C=a,Q=ca=0);e=k.fire("ObjectSelected",{target:a});c(a)&&!e.isDefaultPrevented()?G(fa,function(a,c){function e(b){J=b.screenX;K=b.screenY;I=C.clientWidth;L=C.clientHeight;
O=L/I;M=a;a.startPos={x:g*a[0]+T,y:q*a[1]+P};W=R.scrollWidth;ia=R.scrollHeight;H=C.cloneNode(!0);x.addClass(H,"mce-clonedresizable");x.setAttrib(H,"data-mce-bogus","all");H.contentEditable=!1;H.unSelectabe=!0;x.setStyles(H,{left:T,top:P,margin:0});H.removeAttribute("data-mce-selected");R.appendChild(H);x.bind(F,"mousemove",v);x.bind(F,"mouseup",u);S!=F&&(x.bind(S,"mousemove",v),x.bind(S,"mouseup",u));w=x.add(R,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},I+" &times; "+L)}var n;b?c==
b&&e(f):((n=x.get("mceResizeHandle"+c))&&x.remove(n),n=x.add(R,"div",{id:"mceResizeHandle"+c,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+c+"-resize; margin:0; padding:0"}),d.ie&&(n.contentEditable=!1),x.bind(n,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();e(a)}),a.elm=n,x.setStyles(n,{left:g*a[0]+T-n.offsetWidth/2,top:q*a[1]+P-n.offsetHeight/2}))}):n();C.setAttribute("data-mce-selected","1")}function n(){var a,b;D();C&&C.removeAttribute("data-mce-selected");
for(a in fa)if(b=x.get("mceResizeHandle"+a))x.unbind(b),x.remove(b)}function t(a){function c(a,b){if(a){do if(a===b)return!0;while(a=a.parentNode)}}if(!E&&!k.removed){G(x.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")});var d="mousedown"==a.type?a.target:b.getNode();d=x.$(d).closest(B?"table":"table,img,hr")[0];if(c(d,R)&&(A(),a=b.getStart(!0),c(a,d)&&c(b.getEnd(!0),d)&&(!B||d!=a&&"IMG"!==a.nodeName))){g(d);return}n()}}function y(a){a=a.srcElement;
var b;var c=a.getBoundingClientRect();var d=U.clientX-c.left;var f=U.clientY-c.top;for(b in fa){c=fa[b];var e=a.offsetWidth*c[0];var n=a.offsetHeight*c[1];if(8>N(e-d)&&8>N(n-f)){M=c;break}}E=!0;k.fire("ObjectResizeStart",{target:C,width:C.clientWidth,height:C.clientHeight});k.getDoc().selection.empty();g(a,b,U)}function q(b){var c;a:{for(c=k.getBody();b&&b!=c;){if(a(b)||f(b)){c=b;break a}b=b.parentNode}c=null}return f(c)}function p(a){var b=a.srcElement;if(q(b))a.preventDefault?a.preventDefault():
a.returnValue=!1;else if(b!=C)if(k.fire("ObjectSelected",{target:b}),r(),0===b.id.indexOf("mceResizeHandle"))a.returnValue=!1;else if("IMG"==b.nodeName||"TABLE"==b.nodeName)n(),(C=b)&&b.attachEvent&&b.attachEvent("onresizestart",y)}function r(){C&&C.detachEvent&&C.detachEvent("onresizestart",y)}function D(){for(var a in fa){var b=fa[a];b.elm&&(x.unbind(b.elm),delete b.elm)}}function A(){try{k.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(V){}}function z(a){if(B){var b=F.body.createControlRange();
try{return b.addElement(a),b.select(),!0}catch(la){}}}var x=k.dom,G=h.each,C,H,w,M,U,J,K,T,P,I,L,O,E,Q,ca,F=k.getDoc(),S=document,B=d.ie&&11>d.ie,N=Math.abs,aa=Math.round,R=k.getBody(),W,ia;var fa={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};k.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected],.mce-content-body hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(d.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");k.on("init",function(){B?(k.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(n(),z(a.target))}),R&&R.attachEvent&&
R.attachEvent("oncontrolselect",p),k.on("mousedown",function(a){U=a})):(A(),11<=d.ie&&(k.on("mousedown click",function(a){var b=a.target,c=b.nodeName;E||!/^(TABLE|IMG|HR)$/.test(c)||q(b)||(k.selection.select(b,"TABLE"==c),"mousedown"==a.type&&k.nodeChanged())}),k.dom.bind(R,"mscontrolselect",function(a){function b(a){e.setEditorTimeout(k,function(){k.selection.select(a)})}q(a.target)?(a.preventDefault(),b(a.target)):/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&(a.preventDefault(),"IMG"==a.target.tagName&&
b(a.target))})));var a=e.throttle(function(a){k.composing||t(a)});k.on("nodechange ResizeEditor ResizeWindow drop",a);k.on("keyup compositionend",function(b){C&&"TABLE"==C.nodeName&&a(b)});k.on("hide blur",n)});k.on("remove",D);return{isResizable:c,showResizeRect:g,hideResizeRect:n,updateResizeRect:t,controlSelect:z,destroy:function(){C=H=null;B&&(r(),R&&R.detachEvent&&R.detachEvent("oncontrolselect",p))}}}});w("tinymce/util/Fun",[],function(){function l(e){var d=h.call(arguments);return d.length-
1>=e.length?e.apply(this,d.slice(1)):function(){var b=d.concat([].slice.call(arguments));return l.apply(this,b)}}var h=[].slice;return{constant:function(e){return function(){return e}},negate:function(e){return function(d){return!e(d)}},and:function(){var e=h.call(arguments);return function(d){for(var b=0;b<e.length;b++)if(!e[b](d))return!1;return!0}},or:function(){var e=h.call(arguments);return function(d){for(var b=0;b<e.length;b++)if(e[b](d))return!0;return!1}},curry:l,compose:function(e,d){return function(b){return e(d(b))}},
noop:function(){}}});w("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(l,h,e){function d(a){return n(a)?!1:m(a)?v(a.parentNode)?!1:!0:u(a)||k(a)||g(a)||c(a)}function b(b,d){for(b=b.parentNode;b&&b!=d;b=b.parentNode){if(c(b))return!1;if(a(b))break}return!0}function f(b){return c(b)?!0!==h.reduce(b.getElementsByTagName("*"),function(b,c){return b||a(c)},!1):!1}var a=l.isContentEditableTrue,c=l.isContentEditableFalse,k=l.isBr,m=l.isText,
v=l.matchNodeNames("script style textarea"),u=l.matchNodeNames("img input textarea hr iframe video audio object"),g=l.matchNodeNames("table"),n=e.isCaretContainer;return{isCaretCandidate:d,isInEditable:b,isAtomic:function(a){return u(a)||f(a)},isEditableCaretCandidate:function(a,c){return d(a)&&b(a,c)}}});w("tinymce/geom/ClientRect",[],function(){function l(b){return b?{left:a(b.left),top:a(b.top),bottom:a(b.bottom),right:a(b.right),width:a(b.width),height:a(b.height)}:{left:0,top:0,bottom:0,right:0,
width:0,height:0}}function h(a,b,d){return 0<=a&&a<=Math.min(b.height,d.height)/2}function e(a,b){return a.bottom<b.top?!0:a.top>b.bottom?!1:h(b.top-a.bottom,a,b)}function d(a,b){return a.top>b.bottom?!0:a.bottom<b.top?!1:h(b.bottom-a.top,a,b)}function b(a,b){return a.left<b.left}function f(a,b){return a.right>b.right}var a=Math.round;return{clone:l,collapse:function(a,b){a=l(a);b||(a.left+=a.width);a.right=a.left;a.width=0;return a},isEqual:function(a,b){return a.left===b.left&&a.top===b.top&&a.bottom===
b.bottom&&a.right===b.right},isAbove:e,isBelow:d,isLeft:b,isRight:f,compare:function(a,k){return e(a,k)?-1:d(a,k)?1:b(a,k)?-1:f(a,k)?1:0},containsXY:function(a,b,d){return b>=a.left&&b<=a.right&&d>=a.top&&d<=a.bottom}}});w("tinymce/text/ExtendingChar",[],function(){var l=RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");
return{isExtendingChar:function(h){return"string"==typeof h&&768<=h.charCodeAt(0)&&l.test(h)}}});w("tinymce/caret/CaretPosition","tinymce/util/Fun tinymce/dom/NodeType tinymce/dom/DOMUtils tinymce/dom/RangeUtils tinymce/caret/CaretCandidate tinymce/geom/ClientRect tinymce/text/ExtendingChar".split(" "),function(l,h,e,d,b,f,a){function c(a){return"createRange"in a?a.createRange():e.DOM.createRng()}function k(a){return a&&/[\r\n\t ]/.test(a)}function m(a){var b=a.startContainer,c=a.startOffset;return k(a.toString())&&
q(b.parentNode)&&(a=b.data,k(a[c-1])||k(a[c+1]))?!0:!1}function v(b){function d(a){var b=a.getClientRects();b=0<b.length?f.clone(b[0]):f.clone(a.getBoundingClientRect());if(r(a)&&0===b.left){var d=a.ownerDocument;b=c(d);var d=d.createTextNode("\u00a0"),e=a.parentNode;e.insertBefore(d,a);b.setStart(d,0);b.setEnd(d,1);a=f.clone(b.getBoundingClientRect());e.removeChild(d);return a}return b}function e(a,b){a=f.collapse(a,b);a.width=1;a.right=a.left+1;return a}function k(a){0!==a.height&&(0<h.length&&
f.isEqual(a,h[h.length-1])||h.push(a))}function q(b,f){var g=c(b.ownerDocument);if(f<b.data.length){if(a.isExtendingChar(b.data[f]))return h;if(a.isExtendingChar(b.data[f-1])&&(g.setStart(b,f),g.setEnd(b,f+1),!m(g)))return k(e(d(g),!1)),h}0<f&&(g.setStart(b,f-1),g.setEnd(b,f),m(g)||k(e(d(g),!1)));f<b.data.length&&(g.setStart(b,f),g.setEnd(b,f+1),m(g)||k(e(d(g),!0)))}var h=[];if(p(b.container()))return q(b.container(),b.offset()),h;if(g(b.container()))if(b.isAtEnd()){var t=A(b.container(),b.offset());
p(t)&&q(t,t.data.length);y(t)&&!r(t)&&k(e(d(t),!1))}else{t=A(b.container(),b.offset());p(t)&&q(t,0);if(y(t)&&b.isAtEnd())return k(e(d(t),!1)),h;b=A(b.container(),b.offset()-1);y(b)&&!r(b)&&(n(b)||n(t)||!y(t))&&k(e(d(b),!1));y(t)&&k(e(d(t),!0))}return h}function u(a,b,d){function f(){d||(d=v(new u(a,b)));return d}return{container:l.constant(a),offset:l.constant(b),toRange:function(){var d=c(a.ownerDocument);d.setStart(a,b);d.setEnd(a,b);return d},getClientRects:f,isVisible:function(){return 0<f().length},
isAtStart:function(){p(a);return 0===b},isAtEnd:function(){return p(a)?b>=a.data.length:b>=a.childNodes.length},isEqual:function(d){return d&&a===d.container()&&b===d.offset()},getNode:function(d){return A(a,d?b-1:b)}}}var g=h.isElement;b=b.isCaretCandidate;var n=h.matchStyleValues("display","block table"),t=h.matchStyleValues("float","left right"),y=l.and(g,b,l.negate(t)),q=l.negate(h.matchStyleValues("white-space","pre pre-line pre-wrap")),p=h.isText,r=h.isBr,D=e.nodeIndex,A=d.getNode;u.fromRangeStart=
function(a){return new u(a.startContainer,a.startOffset)};u.fromRangeEnd=function(a){return new u(a.endContainer,a.endOffset)};u.after=function(a){return new u(a.parentNode,D(a)+1)};u.before=function(a){return new u(a.parentNode,D(a))};return u});w("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(l,h,e,d,b){function f(a){a=a.parentNode;return y(a)?f(a):a}function a(b){return b?d.reduce(b.childNodes,
function(b,d){y(d)&&"BR"!=d.nodeName?b=b.concat(a(d)):b.push(d);return b},[]):[]}function c(a,b){for(;(a=a.previousSibling)&&t(a);)b+=a.data.length;return b}function k(a){return function(b){return a===b}}function m(b){var c=a(f(b));var e=d.findIndex(c,k(b),b);c=c.slice(0,e+1);var g=d.reduce(c,function(a,b,d){t(b)&&t(c[d-1])&&a++;return a},0);c=d.filter(c,l.matchNodeNames(b.nodeName));e=d.findIndex(c,k(b),b);return e-g}function v(a){return(t(a)?"text()":a.nodeName.toLowerCase())+"["+m(a)+"]"}function u(a,
b,d){var c=[];for(b=b.parentNode;!(b==a||d&&d(b));b=b.parentNode)c.push(b);return c}function g(b,c,f){var e=a(b),e=d.filter(e,function(a,b){return!t(a)||!t(e[b-1])}),e=d.filter(e,l.matchNodeNames(c));return e[f]}function n(a,d){for(var c=a,f=0,e;t(c);){e=c.data.length;if(d>=f&&d<=f+e){a=c;d-=f;break}if(!t(c.nextSibling)){a=c;d=e;break}f+=e;c=c.nextSibling}d>a.data.length&&(d=a.data.length);return new b(a,d)}var t=l.isText,y=l.isBogus,q=h.nodeIndex;return{create:function(a,b){var f=[];var g=b.container();
var n=b.offset();if(t(g))var k=c(g,n);else g=g.childNodes,n>=g.length?(k="after",n=g.length-1):k="before",g=g[n];f.push(v(g));n=u(a,g);n=d.filter(n,e.negate(l.isBogus));f=f.concat(d.map(n,function(a){return v(a)}));return f.reverse().join("/")+","+k},resolve:function(a,c){if(!c)return null;var f=c.split(",");c=f[0].split("/");var e=1<f.length?f[1]:"before";f=d.reduce(c,function(a,b){b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);if(!b)return null;"text()"===b[1]&&(b[1]="#text");return g(a,b[1],parseInt(b[2],
10))},a);return f?t(f)?n(f,parseInt(e,10)):(e="after"===e?q(f)+1:q(f),new b(f.parentNode,e)):null}}});w("tinymce/dom/BookmarkManager","tinymce/Env tinymce/util/Tools tinymce/caret/CaretContainer tinymce/caret/CaretBookmark tinymce/caret/CaretPosition tinymce/dom/NodeType tinymce/dom/RangeUtils".split(" "),function(l,h,e,d,b,f,a){function c(c){var m=c.dom;this.getBookmark=function(u,g){function n(a,b){var c=0;h.each(m.select(a),function(a){if("all"!==a.getAttribute("data-mce-bogus")){if(a==b)return!1;
c++}});return c}function t(a){function b(b){var c=b?"start":"end";var d=a[c+"Container"];c=a[c+"Offset"];1==d.nodeType&&"TR"==d.nodeName&&(d=d.childNodes,d=d[Math.min(b?c:c-1,d.length-1)])&&(c=b?0:d.childNodes.length,a["set"+(b?"Start":"End")](d,c))}b(!0);b();return a}function y(a){function b(a,b){var c=a[b?"startContainer":"endContainer"],f=a[b?"startOffset":"endOffset"],e=[],n,k=0;if(3==c.nodeType){if(g)for(n=c.previousSibling;n&&3==n.nodeType;n=n.previousSibling)f+=n.nodeValue.length;e.push(f)}else n=
c.childNodes,f>=n.length&&n.length&&(k=1,f=Math.max(0,n.length-1)),e.push(m.nodeIndex(n[f],g)+k);for(;c&&c!=d;c=c.parentNode)e.push(m.nodeIndex(c,g));return e}var d=m.getRoot(),f={};f.start=b(a,!0);c.isCollapsed()||(f.end=b(a));return f}function q(b){function c(b,c){if(f.isElement(b)&&(b=a.getNode(b,c),k(b)))return b;if(e.isCaretContainer(b)){f.isText(b)&&e.isCaretContainerBlock(b)&&(b=b.parentNode);var d=b.previousSibling;if(k(d))return d;d=b.nextSibling;if(k(d))return d}}return c(b.startContainer,
b.startOffset)||c(b.endContainer,b.endOffset)}var p;if(2==u){var r=(p=c.getNode())?p.nodeName:null;var l=c.getRng();return k(p)||"IMG"==r?{name:r,index:n(r,p)}:c.tridentSel?c.tridentSel.getBookmark(u):(p=q(l))?(r=p.tagName,{name:r,index:n(r,p)}):y(l)}if(3==u)return l=c.getRng(),{start:d.create(m.getRoot(),b.fromRangeStart(l)),end:d.create(m.getRoot(),b.fromRangeEnd(l))};if(u)return{rng:c.getRng()};l=c.getRng();var v=m.uniqueId();var z=c.isCollapsed();if(l.duplicate||l.item){if(l.item)return p=l.item(0),
r=p.nodeName,{name:r,index:n(r,p)};r=l.duplicate();try{l.collapse(),l.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),z||(r.collapse(!1),l.moveToElementText(r.parentElement()),0===l.compareEndPoints("StartToEnd",r)&&r.move("character",-1),r.pasteHTML('<span data-mce-type="bookmark" id="'+v+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(x){return null}}else{p=c.getNode();r=p.nodeName;if("IMG"==r)return{name:r,
index:n(r,p)};r=t(l.cloneRange());z||(r.collapse(!1),r.insertNode(m.create("span",{"data-mce-type":"bookmark",id:v+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));l=t(l);l.collapse(!0);l.insertNode(m.create("span",{"data-mce-type":"bookmark",id:v+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}c.moveToBookmark({id:v,keep:1});return{id:v}};this.moveToBookmark=function(a){function b(b){var c=a[b?"start":"end"],d;if(c){var f=c[0];var e=z;for(d=c.length-1;1<=d;d--){e=e.childNodes;
if(c[d]>e.length-1)return;e=e[c[d]]}3===e.nodeType&&(f=Math.min(c[0],e.nodeValue.length));1===e.nodeType&&(f=Math.min(c[0],e.childNodes.length));b?v.setStart(e,f):v.setEnd(e,f)}return!0}function f(b){var c=m.get(a.id+"_"+b);var d=a.keep;if(c){var f=c.parentNode;if("start"==b){if(d){f=c.firstChild;var e=1}else e=m.nodeIndex(c);q=p=f;r=u=e}else d?(f=c.firstChild,e=1):e=m.nodeIndex(c),p=f,u=e;if(!d){d=c.previousSibling;f=c.nextSibling;for(h.each(h.grep(c.childNodes),function(a){3==a.nodeType&&(a.nodeValue=
a.nodeValue.replace(/\uFEFF/g,""))});c=m.get(a.id+"_"+b);)m.remove(c,1);d&&f&&d.nodeType==f.nodeType&&3==d.nodeType&&!l.opera&&(e=d.nodeValue.length,d.appendData(f.nodeValue),m.remove(f),"start"==b?(q=p=d,r=u=e):(p=d,u=e))}}}function e(a){!m.isBlock(a)||a.innerHTML||l.ie||(a.innerHTML='<br data-mce-bogus="1" />');return a}function k(){var b=m.createRng();var c=d.resolve(m.getRoot(),a.start);b.setStart(c.container(),c.offset());c=d.resolve(m.getRoot(),a.end);b.setEnd(c.container(),c.offset());return b}
var q,p,r,u;if(a)if(h.isArray(a.start)){var v=m.createRng();var z=m.getRoot();if(c.tridentSel)return c.tridentSel.moveToBookmark(a);b(!0)&&b()&&c.setRng(v)}else"string"==typeof a.start?c.setRng(k(a)):a.id?(f("start"),f("end"),q&&(v=m.createRng(),v.setStart(e(q),r),v.setEnd(e(p),u),c.setRng(v))):a.name?c.select(m.select(a.name)[a.index]):a.rng&&c.setRng(a.rng)}}var k=f.isContentEditableFalse;c.isBookmarkNode=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")};return c});
w("tinymce/dom/Selection","tinymce/dom/TreeWalker tinymce/dom/TridentSelection tinymce/dom/ControlSelection tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/NodeType tinymce/Env tinymce/util/Tools tinymce/caret/CaretPosition".split(" "),function(l,h,e,d,b,f,a,c,k){function m(a,c,d,f){this.dom=a;this.win=c;this.serializer=d;this.editor=f;this.bookmarkManager=new b(this);this.controlSelection=new e(this,f);this.win.getSelection||(this.tridentSel=new h(this))}var v=c.each,u=c.trim,g=a.ie;
m.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b=this.getRng(),c=this.dom.create("body"),d=this.getSel(),f;a=a||{};var e=f="";a.get=!0;a.format=a.format||"html";a.selection=!0;this.editor.fire("BeforeGetContent",a);if("text"==a.format)return this.isCollapsed()?"":b.text||(d.toString?d.toString():"");b.cloneContents?
(b=b.cloneContents())&&c.appendChild(b):b.item!==F||b.htmlText!==F?(c.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString();/^\s/.test(c.innerHTML)&&(e=" ");/\s+$/.test(c.innerHTML)&&(f=" ");a.getInner=!0;a.content=this.isCollapsed()?"":e+this.serializer.serialize(c,a)+f;this.editor.fire("GetContent",a);return a.content},setContent:function(a,b){var c=this.getRng(),d=this.win.document;b=b||{format:"html"};b.set=!0;b.selection=!0;b.content=a;
b.no_events||this.editor.fire("BeforeSetContent",b);a=b.content;if(c.insertNode){a+='<span id="__caret">_</span>';if(c.startContainer==d&&c.endContainer==d)d.body.innerHTML=a;else if(c.deleteContents(),0===d.body.childNodes.length)d.body.innerHTML=a;else if(c.createContextualFragment)c.insertNode(c.createContextualFragment(a));else{var f=d.createDocumentFragment();var e=d.createElement("div");f.appendChild(e);e.outerHTML=a;c.insertNode(f)}f=this.dom.get("__caret");c=d.createRange();c.setStartBefore(f);
c.setEndBefore(f);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(D){}}else c.item&&(d.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",b)},getStart:function(a){var b=this.getRng();if(b.duplicate||b.item){if(b.item)return b.item(0);var c=b.duplicate();c.collapse(1);c=c.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());
for(b=a=b.parentElement();a=a.parentNode;)if(a==c){c=b;break}return c}c=b.startContainer;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[Math.min(c.childNodes.length-1,b.startOffset)]));return c&&3==c.nodeType?c.parentNode:c},getEnd:function(a){var b=this.getRng();if(b.duplicate||b.item){if(b.item)return b.item(0);b=b.duplicate();b.collapse(0);var c=b.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());return c&&"BODY"==c.nodeName?c.lastChild||c:c}c=b.endContainer;
var d=b.endOffset;1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[0<d?d-1:d]));return c&&3==c.nodeType?c.parentNode:c},getBookmark:function(a,b){return this.bookmarkManager.getBookmark(a,b)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(a,b){var c=this.dom,d=c.createRng();this.lastFocusBookmark=null;if(a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);d.setStart(a.parentNode,c);d.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(d,
a,!0),this._moveEndPoint(d,a));this.setRng(d)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng();if(b.item){var c=b.item(0);b=this.win.document.body.createTextRange();b.moveToElementText(c)}b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){function b(a,
b,c){try{return b.compareBoundaryPoints(a,c)}catch(x){return-1}}var c;if(!this.win)return null;var d=this.win.document;if("undefined"===typeof d||null===d)return null;if(!a&&this.lastFocusBookmark){var f=this.lastFocusBookmark;if(f.startContainer){var e=d.createRange();e.setStart(f.startContainer,f.startOffset);e.setEnd(f.endContainer,f.endOffset)}else e=f;return e}if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);try{if(c=this.getSel())e=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():
d.createRange()}catch(D){}a=this.editor.fire("GetSelectionRange",{range:e});if(a.range!==e)return a.range;if(g&&e&&e.setStart&&d.selection){try{f=d.selection.createRange()}catch(D){}f&&f.item&&(f=f.item(0),e=d.createRange(),e.setStartBefore(f),e.setEndAfter(f))}e||(e=d.createRange?d.createRange():d.body.createTextRange());e.setStart&&9===e.startContainer.nodeType&&e.collapsed&&(f=this.dom.getRoot(),e.setStart(f,0),e.setEnd(f,0));this.selectedRange&&this.explicitRange&&(0===b(e.START_TO_START,e,this.selectedRange)&&
0===b(e.END_TO_END,e,this.selectedRange)?e=this.explicitRange:this.explicitRange=this.selectedRange=null);return e},setRng:function(b,c){if(b)if(b.select){this.explicitRange=null;try{b.select()}catch(p){}}else if(!this.tridentSel){var d=this.getSel();var f=this.editor.fire("SetSelectionRange",{range:b});b=f.range;if(d){this.explicitRange=b;try{d.removeAllRanges(),d.addRange(b)}catch(p){}!1===c&&d.extend&&(d.collapse(b.endContainer,b.endOffset),d.extend(b.startContainer,b.startOffset));this.selectedRange=
0<d.rangeCount?d.getRangeAt(0):null}!b.collapsed&&b.startContainer==b.endContainer&&d.setBaseAndExtent&&!a.ie&&2>b.endOffset-b.startOffset&&b.startContainer.hasChildNodes()&&(f=b.startContainer.childNodes[b.startOffset])&&"IMG"==f.tagName&&(d.setBaseAndExtent(b.startContainer,b.startOffset,b.endContainer,b.endOffset),d.anchorNode===b.startContainer&&d.focusNode===b.endContainer||d.setBaseAndExtent(f,0,f,1));this.editor.fire("AfterSetSelectionRange",{range:b})}else if(b.cloneRange)try{this.tridentSel.addRange(b)}catch(p){}},
setNode:function(a){this.setContent(this.dom.getOuterHTML(a));return a},getNode:function(){function a(a,b){for(var c=a;a&&3===a.nodeType&&0===a.length;)a=b?a.nextSibling:a.previousSibling;return a||c}var b=this.getRng(),c=this.dom.getRoot();if(!b)return c;var d=b.startContainer;var f=b.endContainer;var e=b.startOffset;var g=b.endOffset;if(b.setStart){var k=b.commonAncestorContainer;return!b.collapsed&&(d==f&&2>g-e&&d.hasChildNodes()&&(k=d.childNodes[e]),3===d.nodeType&&3===f.nodeType&&(d=d.length===
e?a(d.nextSibling,!0):d.parentNode,f=0===g?a(f.previousSibling,!1):f.parentNode,d&&d===f))?d:k&&3==k.nodeType?k.parentNode:k}k=b.item?b.item(0):b.parentElement();k.ownerDocument!==this.win.document&&(k=c);return k},getSelectedBlocks:function(a,b){var c=this.dom,d=[];var f=c.getRoot();a=c.getParent(a||this.getStart(),c.isBlock);b=c.getParent(b||this.getEnd(),c.isBlock);a&&a!=f&&d.push(a);if(a&&b&&a!=b){var e=a;for(var g=new l(a,f);(e=g.next())&&e!=b;)c.isBlock(e)&&d.push(e)}b&&a!=b&&b!=f&&d.push(b);
return d},isForward:function(){var a=this.dom,b=this.getSel();if(!b||!b.anchorNode||!b.focusNode)return!0;var c=a.createRng();c.setStart(b.anchorNode,b.anchorOffset);c.collapse(!0);a=a.createRng();a.setStart(b.focusNode,b.focusOffset);a.collapse(!0);return 0>=c.compareBoundaryPoints(c.START_TO_START,a)},normalize:function(){var b=this.getRng();a.range&&(new d(this.dom)).normalize(b)&&this.setRng(b,this.isForward());return b},selectorChanged:function(a,b){var c=this;if(!c.selectorChangedData){c.selectorChangedData=
{};var d={};c.editor.on("NodeChange",function(a){var b=a.element,f=c.dom,e=f.getParents(b,null,f.getRoot()),g={};v(c.selectorChangedData,function(a,b){v(e,function(c){if(f.is(c,b))return d[b]||(v(a,function(a){a(!0,{node:c,selector:b,parents:e})}),d[b]=a),g[b]=a,!1})});v(d,function(a,c){g[c]||(delete d[c],v(a,function(a){a(!1,{node:b,selector:c,parents:e})}))})})}c.selectorChangedData[a]||(c.selectorChangedData[a]=[]);c.selectorChangedData[a].push(b);return c},getScrollContainer:function(){for(var a,
b=this.dom.getRoot();b&&"BODY"!=b.nodeName;){if(b.scrollHeight>b.clientHeight){a=b;break}b=b.parentNode}return a},scrollIntoView:function(a,b){function c(a){for(var b=0,c=0;a&&a.nodeType;)b+=a.offsetLeft||0,c+=a.offsetTop||0,a=a.offsetParent;return{x:b,y:c}}var d=this.dom;var e=d.getRoot();var g=0;if(f.isElement(a)){!1===b&&(g=a.offsetHeight);if("BODY"!=e.nodeName&&(e=this.getScrollContainer())){d=c(a).y-c(e).y+g;var k=e.clientHeight;g=e.scrollTop;if(d<g||d+25>g+k)e.scrollTop=d<g?d:d-k+25;return}e=
d.getViewPort(this.editor.getWin());d=d.getPos(a).y+g;g=e.y;k=e.h;(d<e.y||d+25>g+k)&&this.editor.getWin().scrollTo(0,d<g?d:d-k+25)}},placeCaretAt:function(a,b){this.setRng(d.getCaretRangeFromPoint(a,b,this.editor.getDoc()))},_moveEndPoint:function(b,c,d){var f=c,e=new l(c,f),g=this.dom.schema.getNonEmptyElements();do{if(3==c.nodeType&&0!==u(c.nodeValue).length){d?b.setStart(c,0):b.setEnd(c,c.nodeValue.length);return}if(g[c.nodeName]&&!/^(TD|TH)$/.test(c.nodeName)){d?b.setStartBefore(c):"BR"==c.nodeName?
b.setEndBefore(c):b.setEndAfter(c);return}if(a.ie&&11>a.ie&&this.dom.isBlock(c)&&this.dom.isEmpty(c)){d?b.setStart(c,0):b.setEnd(c,0);return}}while(c=d?e.next():e.prev());"BODY"==f.nodeName&&(d?b.setStart(f,0):b.setEnd(f,f.childNodes.length))},getBoundingClientRect:function(){var a=this.getRng();return a.collapsed?k.fromRangeStart(a).getClientRects()[0]:a.getBoundingClientRect()},destroy:function(){this.win=null;this.controlSelection.destroy()}};return m});w("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager",
"tinymce/util/Tools"],function(l,h){var e=h.each;return function(d){this.compare=function(b,f){function a(a){var b={};e(d.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&0!==c.indexOf("data-")&&(b[c]=d.getAttrib(a,c))});return b}function c(a,b){var c;for(c in a)if(a.hasOwnProperty(c)){var d=b[c];if("undefined"==typeof d||a[c]!=d)return!1;delete b[c]}for(c in b)if(b.hasOwnProperty(c))return!1;return!0}return b.nodeName==f.nodeName&&c(a(b),a(f))&&c(d.parseStyle(d.getAttrib(b,
"style")),d.parseStyle(d.getAttrib(f,"style")))?!l.isBookmarkNode(b)&&!l.isBookmarkNode(f):!1}}});w("tinymce/fmt/Preview",["tinymce/dom/DOMUtils","tinymce/util/Tools","tinymce/html/Schema"],function(l,h,e){function d(a,b){function d(a){m="string"===typeof a?{name:a,classes:[],attrs:{}}:a;a=c.create(m.name);var b=m;b.classes.length&&c.addClass(a,b.classes.join(" "));c.setAttribs(a,b.attrs);return a}function f(a,b){var c="string"!==typeof a?a.nodeName.toLowerCase():a;return(c=k.getElementRule(c).parentsRequired)&&
c.length?b&&-1!==h.inArray(c,b)?b:c[0]:!1}function g(a,b,e){var k,n=b.length&&b[0],q=n&&n.name;if(k=f(a,q))if(q==k){var m=b[0];b=b.slice(1)}else m=k;else if(n)m=b[0],b=b.slice(1);else if(!e)return a;if(m){var p=d(m);p.appendChild(a)}e&&(p||(p=c.create("div"),p.appendChild(a)),h.each(e,function(b){b=d(b);p.insertBefore(b,a)}));return g(p,b,m&&m.siblings)}var k=b&&b.schema||new e({});if(a&&a.length){var m=a[0];var l=d(m);var q=c.create("div");q.appendChild(g(l,a.slice(1),m.siblings));return q}return""}
function b(a){var b,c={classes:[],attrs:{}};a=c.selector=h.trim(a);"*"!==a&&(b=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(a,b,d,f,e){switch(b){case "#":c.attrs.id=d;break;case ".":c.classes.push(d);break;case ":":-1!==h.inArray(["checked","disabled","enabled","read-only","required"],d)&&(c.attrs[d]=d)}"["==f&&(a=e.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(c.attrs[a[1]]=a[2]);return""}));c.name=b||"div";return c}function f(a){if(!a||"string"!==typeof a)return[];a=a.split(/\s*,\s*/)[0];
a=a.replace(/\s*(~\+|~|\+|>)\s*/g,"$1");return h.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),function(a){a=h.map(a.split(/(?:~\+|~|\+)/),b);var c=a.pop();a.length&&(c.siblings=a);return c}).reverse()}var a=h.each,c=l.DOM;return{getCssText:function(b,e){var k="";var h=b.settings.preview_styles;if(!1===h)return"";"string"!==typeof h&&(h="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");if("string"==typeof e){e=b.formatter.get(e);
if(!e)return;e=e[0]}if("preview"in e&&(h=e.preview,!1===h))return"";var g=e.block||e.inline||"span";var n=f(e.selector);n.length?(n[0].name||(n[0].name=g),g=e.selector,n=d(n,b)):n=d([g],b);var m=c.select(g,n)[0]||n.firstChild;a(e.styles,function(a,b){(a=a.replace(/%(\w+)/g,""))&&c.setStyle(m,b,a)});a(e.attributes,function(a,b){(a=a.replace(/%(\w+)/g,""))&&c.setAttrib(m,b,a)});a(e.classes,function(a){a=a.replace(/%(\w+)/g,"");c.hasClass(m,a)||c.addClass(m,a)});b.fire("PreviewFormats");c.setStyles(n,
{position:"absolute",left:-65535});b.getBody().appendChild(n);var l=c.getStyle(b.getBody(),"fontSize",!0);l=/px$/.test(l)?parseInt(l,10):0;a(h.split(" "),function(a){var d=c.getStyle(m,a,!0);if("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(d)&&(d=c.getStyle(b.getBody(),a,!0),"#ffffff"==c.toHex(d).toLowerCase()))return;if("color"!=a||"#000000"!=c.toHex(d).toLowerCase()){if("font-size"==a&&/em|%$/.test(d)){if(0===l)return;d=parseFloat(d,10)/(/%$/.test(d)?100:1);d=d*l+"px"}"border"==
a&&d&&(k+="padding:0 2px;");k+=a+":"+d+";"}});b.fire("AfterPreviewFormats");c.remove(n);return k},parseSelector:f,selectorToHtml:function(a,b){return d(f(a),b)}}});w("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(l,h,e){var d={},b=l.filter,f=l.each;(function(a,b){d[a]||(d[a]=[]);d[a].push(b)})("pre",function(a){function c(a){return m(a.previousSibling)&&-1!=l.indexOf(v,a.previousSibling)}var d=a.selection.getRng();var m=h.matchNodeNames("pre");if(!d.collapsed){var v=
a.selection.getSelectedBlocks();f(b(b(v,m),c),function(a){var b=a.previousSibling;e(a).remove();e(b).append("<br><br>").append(a.childNodes)})}});return{postProcess:function(a,b){f(d[a],function(a){a(b)})}}});w("tinymce/Formatter","tinymce/dom/TreeWalker tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/ElementUtils tinymce/util/Fun tinymce/util/Tools tinymce/fmt/Preview tinymce/fmt/Hooks".split(" "),function(l,h,e,d,b,f,a,c){return function(k){function m(a){a.nodeType&&(a=a.nodeName);
return!!k.schema.getTextBlockElements()[a.toLowerCase()]}function v(a,b){return B.getParents(a,b,B.getRoot())}function u(a){return 1===a.nodeType&&"_mce_caret"===a.id}function g(a){return a?S[a]:S}function n(a,b){a&&("string"!==typeof a?Y(a,function(a,b){n(b,a)}):(b=b.length?b:[b],Y(b,function(a){a.deep===la&&(a.deep=!a.selector);a.split===la&&(a.split=!a.selector||a.inline);a.remove===la&&a.selector&&!a.inline&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"===typeof a.classes&&
(a.classes=a.classes.split(/\s+/))}),S[a]=b))}function t(a,b){var c=g(b);if(c)for(var d=0;d<c.length;d++)if(!1===c[d].inherit&&B.is(a,c[d].selector))return!0;return!1}function y(a){var b;k.dom.getParent(a,function(a){return(b=k.dom.getStyle(a,"text-decoration"))&&"none"!==b});return b}function q(a){if(1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType){var b=y(a.parentNode);k.dom.getStyle(a,"color")&&b?k.dom.setStyle(a,"text-decoration",b):k.dom.getStyle(a,"text-decoration")===b&&k.dom.setStyle(a,
"text-decoration",null)}}function p(a,b,d){function f(a,c){c=c||t;if(a){if(c.onformat)c.onformat(a,c,b,d);Y(c.styles,function(c,d){B.setStyle(a,d,J(c,b))});if(c.styles){var f=B.getAttrib(a,"style");f&&a.setAttribute("data-mce-style",f)}Y(c.attributes,function(c,d){B.setAttrib(a,d,J(c,b))});Y(c.classes,function(c){c=J(c,b);B.hasClass(a,c)||B.addClass(a,c)})}}function e(a,b){var c=!1;if(!t.selector)return!1;Y(a,function(a){if(!("collapsed"in a&&a.collapsed!==y)&&B.is(b,a.selector)&&!u(b))return f(b,
a),c=!0,!1});return c}function n(){var a=k.selection.getRng(),b=a.startContainer,c=a.endContainer;if(b!=c&&0===a.endOffset){a:{c=new l(c);for(d=c.prev2();d;d=c.prev2()){if(3==d.nodeType&&0<d.data.length){b=d;break a}if(1<d.childNodes.length||d==b||"BR"==d.tagName){b=d;break a}}b=void 0}a.setEnd(b,3==b.nodeType?b.data.length:b.childNodes.length)}return a}function h(c,d,g){var k=[],n=!0;var h=t.inline||t.block;var q=B.create(h);f(q);aa.walk(c,function(c){function d(c){var l=n;var y=c.nodeName.toLowerCase();
var v=c.parentNode.nodeName.toLowerCase();if(1===c.nodeType&&ha(c)){l=n;n="true"===ha(c);var A=!0}if(x(y,"br"))p=0,t.block&&B.remove(c);else if(t.wrapper&&D(c,a,b))p=0;else if(n&&!A&&t.block&&!t.wrapper&&m(y)&&R(v,h))c=B.rename(c,h),f(c),k.push(c),p=0;else{if(t.selector){var G=e(r,c);if(!t.inline||G){p=0;return}}!n||A||!R(h,y)||!R(v,h)||!g&&3===c.nodeType&&1===c.nodeValue.length&&65279===c.nodeValue.charCodeAt(0)||u(c)||t.inline&&W(c)?(p=0,Y(na(c.childNodes),d),A&&(n=l),p=0):(p||(p=B.clone(q,!1),
c.parentNode.insertBefore(p,c),k.push(p)),p.appendChild(c))}}var p;Y(c,d)});!0===t.links&&Y(k,function(a){function b(a){"A"===a.nodeName&&f(a,t);Y(na(a.childNodes),b)}b(a)});Y(k,function(c){function d(a){var b=0;Y(a.childNodes,function(a){K(a)||ba(a)||b++});return b}function e(a){var b=!1;Y(a.childNodes,function(a){if(C(a))return b=a,!1});return b}function g(a,b){do{if(1!==d(a))break;a=e(a);if(!a)break;else if(b(a))return a}while(a);return null}function n(a){var b;if((b=e(a))&&!ba(b)&&z(b,t)){var c=
B.clone(b,!1);f(c);B.replace(c,a,!0);B.remove(b,1)}return c||a}var h=d(c);if((1<k.length||!W(c))&&0===h)B.remove(c,1);else if(t.inline||t.wrapper)t.exact||1!==h||(c=n(c)),Y(r,function(a){Y(B.select(a.inline,c),function(c){ba(c)||I(a,b,c,a.exact?c:null)})}),D(c.parentNode,a,b)&&I(t,b,c)&&(c=0),t.merge_with_parents&&B.getParent(c.parentNode,function(d){if(D(d,a,b))return I(t,b,c)&&(c=0),!0}),W(c)||M(c,"fontSize")||(h=g(c,H("fontSize")))&&p("fontsize",{value:M(h,"fontSize")},c),c&&!1!==t.merge_siblings&&
(c=E(O(c),c),c=E(c,O(c,!0)))})}var r=g(a),t=r[0],y=!d&&N.isCollapsed();if("false"===ha(N.getNode())){d=N.getNode();var v=0;for(var A=r.length;v<A;v++)if(r[v].ceFalseOverride&&B.is(d,r[v].selector)){f(d,r[v]);break}}else if(t){if(d)d.nodeType?e(r,d)||(v=B.createRng(),v.setStartBefore(d),v.setEndAfter(d),h(P(v,r),null,!0)):h(d,null,!0);else if(y&&t.inline&&!B.select("td[data-mce-selected],th[data-mce-selected]").length)F("apply",a,b);else{A=k.selection.getNode();ia||!r[0].defaultBlock||B.getParent(A,
B.isBlock)||p(r[0].defaultBlock);k.selection.setRng(n());v=N.getBookmark();h(P(N.getRng(!0),r),v);if(t.styles){if(t.styles.color||t.styles.textDecoration)ua(A,q,"childNodes"),q(A);t.styles.backgroundColor&&G(A,H("fontSize"),w("backgroundColor",J(t.styles.backgroundColor,b)))}N.moveToBookmark(v);da(N.getRng(!0));k.nodeChanged()}c.postProcess(a,k)}}function r(a,b,c,d){function f(a){var c;if(1===a.nodeType&&ha(a)){var d=r;r="true"===ha(a);var e=!0}var g=na(a.childNodes);if(r&&!e){var k=0;for(c=m.length;k<
c&&!I(m[k],b,a,a);k++);}if(p.deep&&g.length){k=0;for(c=g.length;k<c;k++)f(g[k]);e&&(r=d)}}function e(c){var f;Y(v(c.parentNode).reverse(),function(c){var e;f||"_start"==c.id||"_end"==c.id||(e=D(c,a,b,d))&&!1!==e.split&&(f=c)});return f}function n(a){var c=e(a),d=a,f,g,k;if(c){var n=c.parentNode;for(f=d.parentNode;f&&f!=n;f=f.parentNode){var h=B.clone(f,!1);for(k=0;k<m.length;k++)if(I(m[k],b,h,h)){h=0;break}if(h){q&&h.appendChild(q);g||(g=h);var q=h}}p.mixed&&W(c)||(d=B.split(c,d));q&&(a.parentNode.insertBefore(q,
a),g.appendChild(a))}return d}function h(a){var b=B.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];ba(c)&&(c=c[a?"firstChild":"lastChild"]);3==c.nodeType&&0===c.data.length&&(c=a?b.previousSibling||b.nextSibling:b.nextSibling||b.previousSibling);B.remove(b,!0);return c}function q(a){var b=a.commonAncestorContainer;a=P(a,m,!0);if(p.split){var c=Q(a,!0);var d=Q(a);if(c!=d){/^(TR|TH|TD)$/.test(c.nodeName)&&c.firstChild&&(c="TR"==c.nodeName?c.firstChild.firstChild||c:c.firstChild||c);b&&/^T(HEAD|BODY|FOOT|R)$/.test(b.nodeName)&&
/^(TH|TD)$/.test(d.nodeName)&&d.firstChild&&(d=d.firstChild||d);if(B.isChildOf(c,d)&&!W(d)&&!/^(TH|TD)$/.test(c.nodeName)&&!/^(TH|TD)$/.test(d.nodeName)){c=T(c,"span",{id:"_start","data-mce-type":"bookmark"});n(c);c=h(!0);return}c=T(c,"span",{id:"_start","data-mce-type":"bookmark"});d=T(d,"span",{id:"_end","data-mce-type":"bookmark"});n(c);n(d);c=h(!0);d=h()}else c=d=n(c);a.startContainer=c.parentNode?c.parentNode:c;a.startOffset=fa(c);a.endContainer=d.parentNode?d.parentNode:d;a.endOffset=fa(d)+
1}aa.walk(a,function(a){Y(a,function(a){f(a);1===a.nodeType&&"underline"===k.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===y(a.parentNode)&&I({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var m=g(a),p=m[0],r=!0;if(c)if(c.nodeType){var t=B.createRng();t.setStartBefore(c);t.setEndAfter(c);q(t)}else q(c);else if("false"===ha(N.getNode())){c=N.getNode();t=0;for(var l=m.length;t<l&&(!m[t].ceFalseOverride||!I(m[t],b,c,c));t++);}else N.isCollapsed()&&p.inline&&
!B.select("td[data-mce-selected],th[data-mce-selected]").length?F("remove",a,b,d):(c=N.getBookmark(),q(N.getRng(!0)),N.moveToBookmark(c),p.inline&&A(a,b,N.getStart())&&da(N.getRng(!0)),k.nodeChanged())}function D(a,b,c,d){function f(a,b,f){var e,g=b[f];if(b.onmatch)return b.onmatch(a,b,f);if(g)if(g.length===la)for(e in g){if(g.hasOwnProperty(e)){var k="attributes"===f?B.getAttrib(a,e):M(a,e);if(d&&!k&&!b.exact||(!d||b.exact)&&!x(k,U(J(g[e],c),e)))return}}else for(e=0;e<g.length&&("attributes"===f?
!B.getAttrib(a,g[e]):!M(a,g[e]));e++);return b}var e=g(b),k;if(e&&a)for(k=0;k<e.length;k++)if(b=e[k],z(a,b)&&f(a,b,"attributes")&&f(a,b,"styles")){if(e=b.classes)for(k=0;k<e.length;k++)if(!B.hasClass(a,e[k]))return;return b}}function A(a,b,c){function d(c){var d=B.getRoot();if(c===d)return!1;c=B.getParent(c,function(c){return t(c,a)?!0:c.parentNode===d||!!D(c,a,b,!0)});return D(c,a,b)}if(c)return d(c);c=N.getNode();if(d(c))return!0;var f=N.getStart();return f!=c&&d(f)?!0:!1}function z(a,b){if(x(a,
b.inline)||x(a,b.block))return!0;if(b.selector)return 1==a.nodeType&&B.is(a,b.selector)}function x(a,b){a=a||"";b=b||"";a=""+(a.nodeName||a);b=""+(b.nodeName||b);return a.toLowerCase()==b.toLowerCase()}function G(a,b,c){Y(a.childNodes,function(a){C(a)&&(b(a)&&c(a),a.hasChildNodes()&&G(a,b,c))})}function C(a){return 1==a.nodeType&&!ba(a)&&!K(a)&&!u(a)}function H(a){return b.curry(function(a,b){return!(!b||!M(b,a))},a)}function w(a,c){return b.curry(function(a,b,c){B.setStyle(c,a,b)},a,c)}function M(a,
b){return U(B.getStyle(a,b),b)}function U(a,b){if("color"==b||"backgroundColor"==b)a=B.toHex(a);"fontWeight"==b&&700==a&&(a="bold");"fontFamily"==b&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,","));return""+a}function J(a,b){"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a}));return a}function K(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function T(a,b,c){b=B.create(b,c);a.parentNode.insertBefore(b,a);b.appendChild(a);return b}function P(a,b,c){function d(a){var c;
var d=c=a?q:r;var f=a?"previousSibling":"nextSibling";var e=B.getRoot();if(3==d.nodeType&&!K(d)&&(a?0<p:t<d.nodeValue.length))return d;for(;b[0].block_expand||!W(c);){for(a=c[f];a;a=a[f]){if(d=!ba(a)&&!K(a))d=a,d=!("BR"==d.nodeName&&d.getAttribute("data-mce-bogus")&&!d.nextSibling);if(d)return c}if(c==e||c.parentNode==e)break;c=c.parentNode}return c}function f(a,b){for(b===la&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);
return{node:a,offset:b}}function e(a){for(var b=a;b;){if(1===b.nodeType&&ha(b))return"false"===ha(b)?b:a;b=b.parentNode}return a}function g(a,b,d){function f(a,b){var f=a.nodeValue;"undefined"==typeof b&&(b=d?f.length:0);if(d){var e=f.lastIndexOf(" ",b);f=f.lastIndexOf("\u00a0",b);e=e>f?e:f;-1===e||c||e++}else e=f.indexOf(" ",b),f=f.indexOf("\u00a0",b),e=-1!==e&&(-1===f||e<f)?e:f;return e}var e;if(3===a.nodeType){b=f(a,b);if(-1!==b)return{container:a,offset:b};var g=a}for(a=new l(a,B.getParent(a,
W)||k.getBody());e=a[d?"prev":"next"]();)if(3===e.nodeType){if(g=e,b=f(e),-1!==b)return{container:e,offset:b}}else if(W(e))break;if(g)return b=d?0:g.length,{container:g,offset:b}}function n(c,d){var f,e;3==c.nodeType&&0===c.nodeValue.length&&c[d]&&(c=c[d]);var g=v(c);for(f=0;f<g.length;f++)for(e=0;e<b.length;e++){var k=b[e];if(!("collapsed"in k&&k.collapsed!==a.collapsed)&&B.is(g[f],k.selector))return g[f]}return c}function h(a,c){var d,f=B.getRoot();b[0].wrapper||(d=B.getParent(a,b[0].block,f));
d||(d=B.getParent(3==a.nodeType?a.parentNode:a,function(a){return a!=f&&m(a)}));d&&b[0].wrapper&&(d=v(d,"ul,ol").reverse()[0]||d);if(!d)for(d=a;d[c]&&!W(d[c])&&(d=d[c],!x(d,"br")););return d||a}var q=a.startContainer,p=a.startOffset,r=a.endContainer,t=a.endOffset;if(1==q.nodeType&&q.hasChildNodes()){var u=q.childNodes.length-1;q=q.childNodes[p>u?u:p];3==q.nodeType&&(p=0)}1==r.nodeType&&r.hasChildNodes()&&(u=r.childNodes.length-1,r=r.childNodes[t>u?u:t-1],3==r.nodeType&&(t=r.nodeValue.length));q=e(q);
r=e(r);if(ba(q.parentNode)||ba(q))q=ba(q)?q:q.parentNode,q=q.nextSibling||q,3==q.nodeType&&(p=0);if(ba(r.parentNode)||ba(r))r=ba(r)?r:r.parentNode,r=r.previousSibling||r,3==r.nodeType&&(t=r.length);if(b[0].inline){if(a.collapsed){if(u=g(q,p,!0))q=u.container,p=u.offset;if(u=g(r,t))r=u.container,t=u.offset}u=f(r,t);if(u.node){for(;u.node&&0===u.offset&&u.node.previousSibling;)u=f(u.node.previousSibling);u.node&&0<u.offset&&3===u.node.nodeType&&" "===u.node.nodeValue.charAt(u.offset-1)&&1<u.offset&&
(r=u.node,r.splitText(u.offset-1))}}if(b[0].inline||b[0].block_expand)b[0].inline&&3==q.nodeType&&0!==p||(q=d(!0)),b[0].inline&&3==r.nodeType&&t!==r.nodeValue.length||(r=d());b[0].selector&&!1!==b[0].expand&&!b[0].inline&&(q=n(q,"previousSibling"),r=n(r,"nextSibling"));if(b[0].block||b[0].selector)q=h(q,"previousSibling"),r=h(r,"nextSibling"),b[0].block&&(W(q)||(q=d(!0)),W(r)||(r=d()));1==q.nodeType&&(p=fa(q),q=q.parentNode);1==r.nodeType&&(t=fa(r)+1,r=r.parentNode);return{startContainer:q,startOffset:p,
endContainer:r,endOffset:t}}function I(a,b,c,d){var f,e;if(!(z(c,a)||a.links&&"A"==c.tagName))return!1;if("all"!=a.remove){Y(a.styles,function(f,g){f=U(J(f,b),g);"number"===typeof g&&(g=f,d=0);(a.remove_similar||!d||x(M(d,g),f))&&B.setStyle(c,g,"");e=1});e&&""===B.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style"));Y(a.attributes,function(a,f){a=J(a,b);"number"===typeof f&&(f=a,d=0);if(!d||x(B.getAttrib(d,f),a)){if("class"==f&&(a=B.getAttrib(c,f))){var e="";Y(a.split(/\s+/),
function(a){/mce\-\w+/.test(a)&&(e+=(e?" ":"")+a)});if(e){B.setAttrib(c,f,e);return}}"class"==f&&c.removeAttribute("className");V.test(f)&&c.removeAttribute("data-mce-"+f);c.removeAttribute(f)}});Y(a.classes,function(a){a=J(a,b);d&&!B.hasClass(d,a)||B.removeClass(c,a)});var g=B.getAttribs(c);for(f=0;f<g.length;f++){var k=g[f].nodeName;if(0!==k.indexOf("_")&&0!==k.indexOf("data-"))return!1}}if("none"!=a.remove)return L(c,a),!0}function L(a,b){function c(a,b,c){a=O(a,b,c);return!a||"BR"==a.nodeName||
W(a)}var d=a.parentNode,f;b.block&&(ia?d==B.getRoot()&&(b.list_block&&x(a,b.list_block)||Y(na(a.childNodes),function(a){R(ia,a.nodeName.toLowerCase())?f?f.appendChild(a):(f=T(a,ia),B.setAttribs(f,k.settings.forced_root_block_attrs)):f=0})):W(a)&&!W(d)&&(c(a,!1)||c(a.firstChild,!0,1)||a.insertBefore(B.create("br"),a.firstChild),c(a,!0)||c(a.lastChild,!1,1)||a.appendChild(B.create("br"))));b.selector&&b.inline&&!x(b.inline,a)||B.remove(a,1)}function O(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",
a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!K(a))return a}function E(a,b){function c(a,b){for(f=a;f&&(3!=f.nodeType||0===f.nodeValue.length);f=f[b])if(1==f.nodeType&&!ba(f))return f;return a}var f;var e=new d(B);if(a&&b&&(a=c(a,"previousSibling"),b=c(b,"nextSibling"),e.compare(a,b))){for(f=a.nextSibling;f&&f!=b;)e=f,f=f.nextSibling,a.appendChild(e);B.remove(b);Y(na(b.childNodes),function(b){a.appendChild(b)});return a}return b}function Q(a,b){var c=a[b?"startContainer":"endContainer"];var d=a[b?"startOffset":
"endOffset"];if(1==c.nodeType){var f=c.childNodes.length-1;!b&&d&&d--;c=c.childNodes[d>f?f:d]}3===c.nodeType&&b&&d>=c.nodeValue.length&&(c=(new l(c,k.getBody())).next()||c);3!==c.nodeType||b||0!==d||(c=(new l(c,k.getBody())).prev()||c);return c}function F(a,b,c,d){function f(a){var b=B.create("span",{id:"_mce_caret","data-mce-bogus":!0,style:v?"color:red":""});a&&b.appendChild(k.getDoc().createTextNode("\ufeff"));return b}function e(a,b){for(;a;){if(3===a.nodeType&&"\ufeff"!==a.nodeValue||1<a.childNodes.length)return!1;
b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function n(a){for(;a;){if("_mce_caret"===a.id)return a;a=a.parentNode}}function h(a){if(a){var b=new l(a,a);for(a=b.current();a;a=b.next())if(3===a.nodeType)return a}}function q(a,b){if(a){var c=N.getRng(!0);if(e(a))!1!==b&&(c.setStartBefore(a),c.setEndBefore(a)),B.remove(a);else{var d=h(a);"\ufeff"===d.nodeValue.charAt(0)&&(d.deleteData(0,1),c.startContainer==d&&0<c.startOffset&&c.setStart(d,c.startOffset-1),c.endContainer==d&&0<c.endOffset&&c.setEnd(d,
c.endOffset-1));B.remove(a,1)}N.setRng(c)}else if(a=n(N.getStart()),!a)for(;a=B.get("_mce_caret");)q(a,!1)}function t(){var a,d;var e=N.getRng(!0);var k=e.startOffset;var q=e.startContainer.nodeValue;(a=n(N.getStart()))&&(d=h(a));var r=/[^\s\u00a0\u00ad\u200b\ufeff]/;q&&0<k&&k<q.length&&r.test(q.charAt(k))&&r.test(q.charAt(k-1))?(a=N.getBookmark(),e.collapse(!0),e=P(e,g(b)),e=aa.split(e),p(b,c,e),N.moveToBookmark(a)):(a&&"\ufeff"===d.nodeValue||(a=f(!0),d=a.firstChild,e.insertNode(a),k=1),p(b,c,a),
N.setCursorLocation(d,k))}function u(){var a=N.getRng(!0),e,k=[];var n=a.startContainer;var h=a.startOffset;var q=n;3==n.nodeType&&(h!=n.nodeValue.length&&(e=!0),q=q.parentNode);for(;q;){if(D(q,b,c,d)){var p=q;break}q.nextSibling&&(e=!0);k.push(q);q=q.parentNode}if(p)if(e)q=N.getBookmark(),a.collapse(!0),a=P(a,g(b),!0),a=aa.split(a),r(b,c,a),N.moveToBookmark(q);else{q=a=f();for(n=k.length-1;0<=n;n--)q.appendChild(B.clone(k[n],!1)),q=q.firstChild;q.appendChild(B.doc.createTextNode("\ufeff"));q=q.firstChild;
(k=B.getParent(p,m))&&B.isEmpty(k)?p.parentNode.replaceChild(a,p):B.insertAfter(a,p);N.setCursorLocation(q,1);B.isEmpty(p)&&B.remove(p)}}function y(){var a;(a=n(N.getStart()))&&!B.isEmpty(a)&&ua(a,function(a){1!=a.nodeType||"_mce_caret"===a.id||B.isEmpty(a)||B.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var v=k.settings.caret_debug;k._hasCaretEvents||(ma=function(){var a=[],b;if(e(n(N.getStart()),a))for(b=a.length;b--;)B.setAttrib(a[b],"data-mce-bogus","1")},oa=function(a){a=a.keyCode;q();8==
a&&N.isCollapsed()&&"\ufeff"==N.getStart().innerHTML&&q(n(N.getStart()));37!=a&&39!=a||q(n(N.getStart()));y()},k.on("SetContent",function(a){a.selection&&y()}),k._hasCaretEvents=!0);"apply"==a?t():u()}function da(a){var b=a.startContainer,c=a.startOffset,d;if(a.startContainer==a.endContainer&&(d=a.startContainer.childNodes[a.startOffset])&&/^(IMG)$/.test(d.nodeName))return;if(3==b.nodeType&&c>=b.nodeValue.length){c=fa(b);b=b.parentNode;var f=!0}if(1==b.nodeType)for(d=b.childNodes,b=d[Math.min(c,d.length-
1)],b=new l(b,B.getParent(b,B.isBlock)),(c>d.length-1||f)&&b.next(),c=b.current();c;c=b.next())if(3==c.nodeType&&!K(c)){f=B.create("a",{"data-mce-bogus":"all"},"\ufeff");c.parentNode.insertBefore(f,c);a.setStart(c,0);N.setRng(a);B.remove(f);break}}var S={},B=k.dom,N=k.selection,aa=new h(B),R=k.schema.isValidChild,W=B.isBlock,ia=k.settings.forced_root_block,fa=B.nodeIndex,V=/^(src|href|style)$/,X,la,ha=B.getContentEditable,oa,ma,ba=e.isBookmarkNode,Y=f.each,na=f.grep,ua=f.walk,pa=f.extend;pa(this,
{get:g,register:n,unregister:function(a){a&&S[a]&&delete S[a];return S},apply:p,remove:r,toggle:function(a,b,c){var d=g(a);!A(a,b,c)||"toggle"in d[0]&&!d[0].toggle?p(a,b,c):r(a,b,c)},match:A,matchAll:function(a,b){var c=[],d={};var f=N.getStart();B.getParent(f,function(f){var e;for(e=0;e<a.length;e++){var g=a[e];!d[g]&&D(f,g,b)&&(d[g]=!0,c.push(g))}},B.getRoot());return c},matchNode:D,canApply:function(a){a=g(a);var b,c;if(a){var d=N.getStart();d=v(d);for(c=a.length-1;0<=c;c--){var f=a[c].selector;
if(!f||a[c].defaultBlock)return!0;for(b=d.length-1;0<=b;b--)if(B.is(d[b],f))return!0}}return!1},formatChanged:function(a,b,c){if(!X){X={};var d={};k.on("NodeChange",function(a){var b=v(a.element),c={},b=f.grep(b,function(a){return 1==a.nodeType&&!a.getAttribute("data-mce-bogus")});Y(X,function(a,f){Y(b,function(e){if(D(e,f,{},a.similar))return d[f]||(Y(a,function(a){a(!0,{node:e,format:f,parents:b})}),d[f]=a),c[f]=a,!1;if(t(e,f))return!1})});Y(d,function(f,e){c[e]||(delete d[e],Y(f,function(c){c(!1,
{node:a.element,format:e,parents:b})}))})})}Y(a.split(","),function(a){X[a]||(X[a]=[],X[a].similar=c);X[a].push(b)});return this},getCssText:function(b){return a.getCssText(k,b)}});(function(){n({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},
{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,
styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},
preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],
strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},
superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(a,b,c){Y(c,function(b,c){B.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,
expand:!1,deep:!0}]});Y("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){n(a,{block:a,remove:"all"})});n(k.settings.formats)})();(function(){k.addShortcut("meta+b","bold_desc","Bold");k.addShortcut("meta+i","italic_desc","Italic");k.addShortcut("meta+u","underline_desc","Underline");for(var a=1;6>=a;a++)k.addShortcut("access+"+a,"",["FormatBlock",!1,"h"+a]);k.addShortcut("access+7","",["FormatBlock",!1,"p"]);k.addShortcut("access+8","",["FormatBlock",!1,"div"]);k.addShortcut("access+9",
"",["FormatBlock",!1,"address"])})();k.on("BeforeGetContent",function(a){ma&&"raw"!=a.format&&ma()});k.on("mouseup keydown",function(a){oa&&oa(a)})}});w("tinymce/undo/Diff",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(l,h){var e=l.length+h.length+2,d=Array(e),b=Array(e),f=function(c,e,m,v,u){a:{var g=e-c;var k=v-m;if(0===g||0===k)var t=null;else{t=g-k;g=k+g;var y=(0===g%2?g:g+1)/2;d[1+y]=c;b[1+y]=e+1;for(var q=0;q<=y;++q){for(var p=-q;p<=q;p+=2){var r=p+y;d[r]=p===-q||p!=q&&d[r-1]<
d[r+1]?d[r+1]:d[r-1]+1;k=d[r];for(g=k-c+m-p;k<e&&g<v&&l[k]===h[g];)d[r]=++k,++g;if(0!=t%2&&t-q<=p&&p<=t+q&&b[r-t]<=d[r]){t=a(b[r-t],p+c-m,e,v);break a}}for(p=t-q;p<=t+q;p+=2){r=p+y-t;b[r]=p===t-q||p!=t+q&&b[r+1]<=b[r-1]?b[r+1]-1:b[r-1];k=b[r]-1;for(g=k-c+m-p;k>=c&&g>=m&&l[k]===h[g];)b[r]=k--,g--;if(0===t%2&&-q<=p&&p<=q&&b[r]<=d[r+t]){t=a(b[r],p+c-m,e,v);break a}}}t=void 0}}if(null===t||t.start===e&&t.diag===e-v||t.end===c&&t.diag===c-m)for(t=c,g=m;t<e||g<v;)t<e&&g<v&&l[t]===h[g]?(u.push([0,l[t]]),
++t,++g):e-c>v-m?(u.push([2,l[t]]),++t):(u.push([1,h[g]]),++g);else{f(c,t.start,m,t.start-t.diag,u);for(c=t.start;c<t.end;++c)u.push([0,l[c]]);f(t.end,e,t.end-t.diag,v,u)}},a=function(a,b,d,f){for(var c=a;c-b<f&&c<d&&l[c]===h[c-b];)++c;return{start:a,end:c,diag:b}},e=[];f(0,l.length,0,h.length,e);return e}}});w("tinymce/undo/Fragments",["tinymce/util/Arr","tinymce/html/Entities","tinymce/undo/Diff"],function(l,h,e){var d=function(b){return 1===b.nodeType?b.outerHTML:3===b.nodeType?h.encodeRaw(b.data,
!1):8===b.nodeType?"\x3c!--"+b.data+"--\x3e":""},b=function(b,a){var c=0;l.each(b,function(b){if(b[0]===e.KEEP)c++;else if(b[0]===e.INSERT){var d=c,f=b[1];var k=document.createElement("div");b=document.createDocumentFragment();f&&(k.innerHTML=f);for(;f=k.firstChild;)b.appendChild(f);a.hasChildNodes()&&d<a.childNodes.length?(d=a.childNodes[d],d.parentNode.insertBefore(b,d)):a.appendChild(b);c++}else b[0]===e.DELETE&&(d=c,a.hasChildNodes()&&d<a.childNodes.length&&(d=a.childNodes[d],d.parentNode.removeChild(d)))})};
return{read:function(b){return l.map(b.childNodes,d)},write:function(f,a){var c=l.map(a.childNodes,d);b(e.diff(c,f),a);return a}}});w("tinymce/undo/Levels",["tinymce/util/Arr","tinymce/undo/Fragments"],function(l,h){var e=function(b){return{type:"fragmented",fragments:b,content:"",bookmark:null,beforeBookmark:null}},d=function(b){return{type:"complete",fragments:null,content:b,bookmark:null,beforeBookmark:null}},b=function(b){return"fragmented"===b.type?b.fragments.join(""):b.content};return{createFragmentedLevel:e,
createCompleteLevel:d,createFromEditor:function(b){var a=h.read(b.getBody());var c=l.map(a,function(a){return b.serializer.trimContent(a)});a=c.join("");return-1!==a.indexOf("</iframe>")?e(c):d(a)},applyToEditor:function(b,a,c){"fragmented"===a.type?h.write(a.fragments,b.getBody()):b.setContent(a.content,{format:"raw"});b.selection.moveToBookmark(c?a.beforeBookmark:a.bookmark)},isEq:function(d,a){return b(d)===b(a)}}});w("tinymce/UndoManager",["tinymce/util/VK","tinymce/util/Tools","tinymce/undo/Levels"],
function(l,h,e){return function(d){function b(b){a.typing=!1;a.add({},b)}function f(){a.typing&&(a.typing=!1,a.add())}var a=this,c=0,k=[],m,l,u=0;d.on("init",function(){a.add()});d.on("BeforeExecCommand",function(b){b=b.command;"Undo"!==b&&"Redo"!==b&&"mceRepaint"!==b&&(f(),a.beforeChange())});d.on("ExecCommand",function(a){var c=a.command;"Undo"!==c&&"Redo"!==c&&"mceRepaint"!==c&&b(a)});d.on("ObjectResizeStart Cut",function(){a.beforeChange()});d.on("SaveContent ObjectResized blur",b);d.on("DragEnd",
b);d.on("KeyUp",function(c){var f=c.keyCode;if(!c.isDefaultPrevented()){if(33<=f&&36>=f||37<=f&&40>=f||45===f||c.ctrlKey)b(),d.nodeChanged();46!==f&&8!==f||d.nodeChanged();l&&a.typing&&(d.isDirty()||(d.setDirty(k[0]&&!e.isEq(e.createFromEditor(d),k[0])),d.isDirty()&&d.fire("change",{level:k[0],lastLevel:null})),d.fire("TypingUndo"),l=!1,d.nodeChanged())}});d.on("KeyDown",function(c){var d=c.keyCode;if(!c.isDefaultPrevented())if(33<=d&&36>=d||37<=d&&40>=d||45===d)a.typing&&b(c);else{var f=c.ctrlKey&&
!c.altKey||c.metaKey;!(16>d||20<d)||224===d||91===d||a.typing||f||(a.beforeChange(),a.typing=!0,a.add({},c),l=!0)}});d.on("MouseDown",function(c){a.typing&&b(c)});d.addShortcut("meta+z","","Undo");d.addShortcut("meta+y,meta+shift+z","","Redo");d.on("AddUndo Undo Redo ClearUndos",function(a){a.isDefaultPrevented()||d.nodeChanged()});return a={data:k,typing:!1,beforeChange:function(){u||(m=d.selection.getBookmark(2,!0))},add:function(a,b){var f=d.settings;var g=e.createFromEditor(d);a=a||{};a=h.extend(a,
g);if(u||d.removed)return null;g=k[c];if(d.fire("BeforeAddUndo",{level:a,lastLevel:g,originalEvent:b}).isDefaultPrevented()||g&&e.isEq(g,a))return null;k[c]&&(k[c].beforeBookmark=m);if(f.custom_undo_redo_levels&&k.length>f.custom_undo_redo_levels){for(f=0;f<k.length-1;f++)k[f]=k[f+1];k.length--;c=k.length}a.bookmark=d.selection.getBookmark(2,!0);c<k.length-1&&(k.length=c+1);k.push(a);c=k.length-1;f={level:a,lastLevel:g,originalEvent:b};d.fire("AddUndo",f);0<c&&(d.setDirty(!0),d.fire("change",f));
return a},undo:function(){a.typing&&(a.add(),a.typing=!1);if(0<c){var b=k[--c];e.applyToEditor(d,b,!0);d.setDirty(!0);d.fire("undo",{level:b})}return b},redo:function(){if(c<k.length-1){var a=k[++c];e.applyToEditor(d,a,!1);d.setDirty(!0);d.fire("redo",{level:a})}return a},clear:function(){k=[];c=0;a.typing=!1;a.data=k;d.fire("ClearUndos")},hasUndo:function(){return 0<c||a.typing&&k[0]&&!e.isEq(e.createFromEditor(d),k[0])},hasRedo:function(){return c<k.length-1&&!a.typing},transact:function(b){f();
a.beforeChange();try{u++,b()}finally{u--}return a.add()},extra:function(b,f){if(a.transact(b)){var g=k[c].bookmark;var n=k[c-1];e.applyToEditor(d,n,!0);a.transact(f)&&(k[c-1].beforeBookmark=g)}}}}});w("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/caret/CaretContainer","tinymce/Env"],function(l,h,e,d){var b=d.ie&&11>d.ie;return function(f){function a(a){function t(a){return a&&c.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&
"true"!==c.getContentEditable(a)}function q(a){if(c.isBlock(a)){var b=k.getRng();a.appendChild(c.create("span",null,"\u00a0"));k.select(a);a.lastChild.outerHTML="";k.setRng(b)}}function p(a){var b=[],d;if(a){for(;a=a.firstChild;){if(c.isBlock(a))return;1!=a.nodeType||g[a.nodeName.toLowerCase()]||b.push(a)}for(d=b.length;d--;)a=b[d],!a.hasChildNodes()||a.firstChild==a.lastChild&&""===a.firstChild.nodeValue?c.remove(a):"A"==a.nodeName&&" "===(a.innerText||a.textContent)&&c.remove(a)}}function r(a){var b,
f,e=a;if(a){d.ie&&9>d.ie&&K&&K.firstChild&&K.firstChild==K.lastChild&&"BR"==K.firstChild.tagName&&c.remove(K.firstChild);if(/^(LI|DT|DD)$/.test(a.nodeName)){a:{for(b=a.firstChild;b;){if(1==b.nodeType||3==b.nodeType&&b.data&&/[\r\n\s]/.test(b.data))break a;b=b.nextSibling}b=void 0}b&&/^(UL|OL|DL)$/.test(b.nodeName)&&a.insertBefore(c.doc.createTextNode("\u00a0"),a.firstChild)}var g=c.createRng();d.ie||a.normalize();if(a.hasChildNodes()){for(b=new l(a,a);f=b.current();){if(3==f.nodeType){g.setStart(f,
0);g.setEnd(f,0);break}if(n[f.nodeName.toLowerCase()]){g.setStartBefore(f);g.setEndBefore(f);break}e=f;b.next()}f||(g.setStart(e,0),g.setEnd(e,0))}else if("BR"==a.nodeName)if(a.nextSibling&&c.isBlock(a.nextSibling)){if(!O||9>O){var q=c.create("br");a.parentNode.insertBefore(q,a)}g.setStartBefore(a);g.setEndBefore(a)}else g.setStartAfter(a),g.setEndAfter(a);else g.setStart(a,0),g.setEnd(a,0);k.setRng(g);c.remove(q);k.scrollIntoView(a)}}function D(a){var b=m.forced_root_block;b&&b.toLowerCase()===a.tagName.toLowerCase()&&
c.setAttribs(a,m.forced_root_block_attrs)}function A(a){a.innerHTML=b?"":'<br data-mce-bogus="1">'}function z(a){var d=P,f=u.getTextInlineElements();a||"TABLE"==da?(a=c.create(a||L),D(a)):a=K.cloneNode(!1);var e=a;if(!1!==m.keep_styles){do if(f[d.nodeName]&&"_mce_caret"!=d.id){var g=d.cloneNode(!1);c.setAttrib(g,"id","");a.hasChildNodes()?g.appendChild(a.firstChild):e=g;a.appendChild(g)}while((d=d.parentNode)&&d!=J)}b||(e.innerHTML='<br data-mce-bogus="1">');return a}function x(a){var b;if(3==P.nodeType&&
(a?0<I:I<P.nodeValue.length))return!1;if(P.parentNode==K&&Q&&!a||a&&1==P.nodeType&&P==K.firstChild)return!0;if("TABLE"===P.nodeName||P.previousSibling&&"TABLE"==P.previousSibling.nodeName)return Q&&!a||!Q&&a;var c=new l(P,K);for(3==P.nodeType&&(a&&0===I?c.prev():a||I!=P.nodeValue.length||c.next());b=c.current();){if(1===b.nodeType){if(!b.getAttribute("data-mce-bogus")&&(b=b.nodeName.toLowerCase(),g[b]&&"br"!==b))return!1}else if(3===b.nodeType&&!/^[ \t\r\n]*$/.test(b.nodeValue))return!1;a?c.prev():
c.next()}return!0}function G(a,b){var d,e=L||"P";var g=c.getParent(a,c.isBlock);if(!g||!t(g)){g=g||J;var k=g==f.getBody()||g&&/^(TD|TH|CAPTION)$/.test(g.nodeName)?g.nodeName.toLowerCase():g.parentNode.nodeName.toLowerCase();if(!g.hasChildNodes())return k=c.create(e),D(k),g.appendChild(k),T.setStart(k,0),T.setEnd(k,0),k;for(d=a;d.parentNode!=g;)d=d.parentNode;for(;d&&!c.isBlock(d);){var n=d;d=d.previousSibling}if(n&&u.isValidChild(k,e.toLowerCase())){k=c.create(e);D(k);n.parentNode.insertBefore(k,
n);for(d=n;d&&!c.isBlock(d);)g=d.nextSibling,k.appendChild(d),d=g;T.setStart(a,b);T.setEnd(a,b)}}return a}function C(){function a(a){for(var b=F[a?"firstChild":"lastChild"];b&&1!=b.nodeType;)b=b[a?"nextSibling":"previousSibling"];return b===K}function b(){var a=F.parentNode;return/^(LI|DT|DD)$/.test(a.nodeName)?a:F}if(F!=f.getBody()){var d=F.parentNode.nodeName;/^(OL|UL|LI)$/.test(d)&&(L="LI");B=L?z(L):c.create("BR");a(!0)&&a()?"LI"==d?c.insertAfter(B,b()):c.replace(B,F):a(!0)?"LI"==d?(c.insertAfter(B,
b()),B.appendChild(c.doc.createTextNode(" ")),B.appendChild(F)):F.parentNode.insertBefore(B,F):a()?(c.insertAfter(B,b()),q(B)):(F=b(),N=T.cloneRange(),N.setStartAfter(K),N.setEndAfter(F),aa=N.extractContents(),"LI"==L&&"LI"==aa.firstChild.nodeName?(B=aa.firstChild,c.insertAfter(aa,F)):(c.insertAfter(aa,F),c.insertAfter(B,F)));c.remove(K);r(B);v.add()}}function H(){f.execCommand("InsertLineBreak",!1,a)}function w(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;
while(a)}function M(a){var d;b||(a.normalize(),(d=a.lastChild)&&!/^(left|right)$/gi.test(c.getStyle(d,"float",!0))||c.add(a,"br"))}function U(){B=/^(H[1-6]|PRE|FIGURE)$/.test(da)&&"HGROUP"!=S?z(L):z();m.end_container_on_empty_block&&t(F)&&c.isEmpty(K)?B=c.split(F,K):c.insertAfter(B,K);r(B)}var J,K;var T=k.getRng(!0);if(!a.isDefaultPrevented())if(T.collapsed){(new h(c)).normalize(T);var P=T.startContainer;var I=T.startOffset;var L=(L=(m.force_p_newlines?"p":"")||m.forced_root_block)?L.toUpperCase():
"";var O=c.doc.documentMode;var E=a.shiftKey;if(1==P.nodeType&&P.hasChildNodes()){var Q=I>P.childNodes.length-1;P=P.childNodes[Math.min(I,P.childNodes.length-1)]||P;I=Q&&3==P.nodeType?P.nodeValue.length:0}if(J=function(a){for(var b=c.getRoot(),d;a!==b&&"false"!==c.getContentEditable(a);)"true"===c.getContentEditable(a)&&(d=a),a=a.parentNode;return a!==b?d:b}(P))if(v.beforeChange(),c.isBlock(J)||J==c.getRoot()){if(L&&!E||!L&&E)P=G(P,I);var F=(K=c.getParent(P,c.isBlock))?c.getParent(K.parentNode,c.isBlock):
null;var da=K?K.nodeName.toUpperCase():"";var S=F?F.nodeName.toUpperCase():"";"LI"!=S||a.ctrlKey||(K=F,da=S);f.undoManager.typing&&(f.undoManager.typing=!1,f.undoManager.add());if(/^(LI|DT|DD)$/.test(da)){if(!L&&E){H();return}if(c.isEmpty(K)){C();return}}if("PRE"==da&&!1!==m.br_in_pre){if(!E){H();return}}else if(!L&&!E&&"LI"!=da||L&&E){H();return}if(!L||K!==f.getBody()){L=L||"P";if(e.isCaretContainerBlock(K)){var B=e.showCaretContainerBlock(K);c.isEmpty(K)&&A(K);r(B)}else if(x())U();else if(x(!0))B=
K.parentNode.insertBefore(z(),K),q(B),r(K);else{var N=T.cloneRange();N.setEndAfter(K);var aa=N.extractContents();w(aa);B=aa.firstChild;c.insertAfter(aa,K);p(B);M(K);c.isEmpty(K)&&A(K);B.normalize();c.isEmpty(B)?(c.remove(B),U()):r(B)}c.setAttrib(B,"id","");f.fire("NewBlock",{newBlock:B});v.typing=!1;v.add()}}else L&&!E||H()}else f.execCommand("Delete")}var c=f.dom,k=f.selection,m=f.settings,v=f.undoManager,u=f.schema,g=u.getNonEmptyElements(),n=u.getMoveCaretBeforeOnEnterElements();f.on("keydown",
function(b){13==b.keyCode&&!1!==a(b)&&b.preventDefault()})}});w("tinymce/ForceBlocks",[],function(){return function(l){function h(){var c=b.getStart(),k=l.getBody(),h;var v=e.forced_root_block;if(c&&1===c.nodeType&&v){for(;c&&c!=k;){if(a[c.nodeName])return;c=c.parentNode}var u=b.getRng();if(u.setStart){var g=u.startContainer;var n=u.startOffset;var t=u.endContainer;var y=u.endOffset;try{var q=l.getDoc().activeElement===k}catch(A){}}else u.item&&(c=u.item(0),u=l.getDoc().body.createTextRange(),u.moveToElementText(c)),
q=u.parentElement().ownerDocument===l.getDoc(),c=u.duplicate(),c.collapse(!0),n=-1*c.move("character",-16777215),c.collapsed||(c=u.duplicate(),c.collapse(!1),y=-1*c.move("character",-16777215)-n);c=k.firstChild;for(h=k.nodeName.toLowerCase();c;)if((3===c.nodeType||1==c.nodeType&&!a[c.nodeName])&&f.isValidChild(h,v.toLowerCase()))if(3===c.nodeType&&0===c.nodeValue.length){var p=c;c=c.nextSibling;d.remove(p)}else{if(!r){var r=d.create(v,l.settings.forced_root_block_attrs);c.parentNode.insertBefore(r,
c);var D=!0}p=c;c=c.nextSibling;r.appendChild(p)}else r=null,c=c.nextSibling;if(D&&q){if(u.setStart)u.setStart(g,n),u.setEnd(t,y),b.setRng(u);else try{u=l.getDoc().body.createTextRange(),u.moveToElementText(k),u.collapse(!0),u.moveStart("character",n),0<y&&u.moveEnd("character",y),u.select()}catch(A){}l.nodeChanged()}}}var e=l.settings,d=l.dom,b=l.selection,f=l.schema,a=f.getBlockElements();if(e.forced_root_block)l.on("NodeChange",h)}});w("tinymce/caret/CaretUtils","tinymce/util/Fun tinymce/dom/TreeWalker tinymce/dom/NodeType tinymce/caret/CaretPosition tinymce/caret/CaretContainer tinymce/caret/CaretCandidate".split(" "),
function(l,h,e,d,b,f){function a(a,b){for(var c;c=a(b);)if(!q(c))return c;return null}function c(a,b){for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(g(a))return a;return b}function k(a,b){for(;a&&a!=b;){if(t(a))return a;a=a.parentNode}return null}function m(a,b){var c=b.ownerDocument.createRange();a?(c.setStartBefore(b),c.setEndBefore(b)):(c.setStartAfter(b),c.setEndAfter(b));return c}function v(a,b,c){var d;for(d=a?"previousSibling":"nextSibling";c&&c!=b;){a=c[d];y(a)&&(a=a[d]);if(n(a)){if(k(a,b)==
k(c,b))return a;break}if(D(a))break;c=c.parentNode}return null}function u(a,b){if(b){var c=b.container();var d=b.offset();c=r(c)?c.childNodes[d+a]:null}else c=null;return n(c)}var g=e.isContentEditableTrue,n=e.isContentEditableFalse,t=e.matchStyleValues("display","block table table-cell table-caption"),y=b.isCaretContainer,q=b.isCaretContainerBlock,p=l.curry,r=e.isElement,D=f.isCaretCandidate,A=p(m,!0),z=p(m,!1);return{isForwards:function(a){return 0<a},isBackwards:function(a){return 0>a},findNode:function(b,
c,d,f,e){f=new h(b,f);if(0>c){if(n(b)||q(b))if(b=a(f.prev,!0),d(b))return b;for(;b=a(f.prev,e);)if(d(b))return b}if(0<c){if(n(b)||q(b))if(b=a(f.next,!0),d(b))return b;for(;b=a(f.next,e);)if(d(b))return b}return null},getEditingHost:c,getParentBlock:k,isInSameBlock:function(a,b,c){return k(a.container(),c)==k(b.container(),c)},isInSameEditingHost:function(a,b,d){return c(a.container(),d)==c(b.container(),d)},isBeforeContentEditableFalse:p(u,0),isAfterContentEditableFalse:p(u,-1),normalizeRange:function(a,
c,d){var f=p(v,!0,c),g=p(v,!1,c);var k=d.startContainer;var q=d.startOffset;if(b.isCaretContainerBlock(k)){r(k)||(k=k.parentNode);var h=k.getAttribute("data-mce-caret");if("before"==h&&(c=k.nextSibling,n(c)))return A(c);if("after"==h&&(c=k.previousSibling,n(c)))return z(c)}if(!d.collapsed)return d;if(e.isText(k)){if(y(k)){if(1===a){if(c=g(k))return A(c);if(c=f(k))return z(c)}if(-1===a){if(c=f(k))return z(c);if(c=g(k))return A(c)}return d}if(b.endsWithCaretContainer(k)&&q>=k.data.length-1)return 1===
a&&(c=g(k))?A(c):d;if(b.startsWithCaretContainer(k)&&1>=q)return-1===a&&(c=f(k))?z(c):d;if(q===k.data.length)return(c=g(k))?A(c):d;if(0===q&&(c=f(k)))return z(c)}return d}}});w("tinymce/caret/CaretWalker","tinymce/dom/NodeType tinymce/caret/CaretCandidate tinymce/caret/CaretPosition tinymce/caret/CaretUtils tinymce/util/Arr tinymce/util/Fun".split(" "),function(l,h,e,d,b,f){function a(a,b){for(var c=[];a&&a!=b;)c.push(a),a=a.parentNode;return c}function c(a,b){return a.hasChildNodes()&&b<a.childNodes.length?
a.childNodes[b]:null}function k(a,b){if(t(a)){if(q(b.previousSibling)&&!u(b.previousSibling))return e.before(b);if(u(b))return e(b,0)}if(y(a)){if(q(b.nextSibling)&&!u(b.nextSibling))return e.after(b);if(u(b))return e(b,b.data.length)}return y(a)?n(b)?e.before(b):e.after(b):e.before(b)}function m(n,h,z){if(!g(z)||!h)return null;var A=h;var D=A.container();var C=A.offset();if(u(D)){if(y(n)&&0<C)return e(D,--C);if(t(n)&&C<D.length)return e(D,++C);h=D}else{if(y(n)&&0<C&&(h=c(D,C-1),q(h)))return!p(h)&&
(n=d.findNode(h,n,r,h))?u(n)?e(n,n.data.length):e.after(n):u(h)?e(h,h.data.length):e.before(h);if(t(n)&&C<D.childNodes.length&&(h=c(D,C),q(h)))return D=h,D=l.isBr(D)?(A=m(1,e.after(D),z))?!d.isInSameBlock(e.before(D),e.before(A),z):!1:!1,D?m(n,e.after(h),z):!p(h)&&(n=d.findNode(h,n,r,h))?u(n)?e(n,0):e.before(n):u(h)?e(h,0):e.after(h);h=A.getNode()}if(t(n)&&A.isAtEnd()||y(n)&&A.isAtStart())if(h=d.findNode(h,n,f.constant(!0),z,!0),r(h))return k(n,h);h=d.findNode(h,n,r,z);return!(z=b.last(b.filter(a(D,
z),v)))||h&&z.contains(h)?h?k(n,h):null:A=t(n)?e.after(z):e.before(z)}var v=l.isContentEditableFalse,u=l.isText,g=l.isElement,n=l.isBr,t=d.isForwards,y=d.isBackwards,q=h.isCaretCandidate,p=h.isAtomic,r=h.isEditableCaretCandidate;return function(a){return{next:function(b){return m(1,b,a)},prev:function(b){return m(-1,b,a)}}}});w("tinymce/InsertList",["tinymce/util/Tools","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(l,h,e){var d=function(a,b,c){b=b.serialize(c);a=a.createFragment(b);
b=a.firstChild;c=a.lastChild;b&&"META"===b.nodeName&&b.parentNode.removeChild(b);c&&"mce_marker"===c.id&&c.parentNode.removeChild(c);return a},b=function(a){return l.grep(a.childNodes,function(a){return"LI"===a.nodeName})},f=function(a){return 0<a.length&&!a[a.length-1].firstChild?a.slice(0,-1):a},a=function(a,b){var c=a.getParent(b,a.isBlock);return c&&"LI"===c.nodeName?c:null},c=function(a,b){var c=b.cloneRange(),d=b.cloneRange();c.setStartBefore(a);d.setEndAfter(a);return[c.cloneContents(),d.cloneContents()]},
k=function(a,b){var c=e.before(a);return(c=(new h(b)).next(c))?c.toRange():null},m=function(a,b){var c=e.after(a);return(c=(new h(b)).prev(c))?c.toRange():null},v=function(a,b,d,f){f=c(a,f);var e=a.parentNode;e.insertBefore(f[0],a);l.each(b,function(b){e.insertBefore(b,a)});e.insertBefore(f[1],a);e.removeChild(a);return m(b[b.length-1],d)},u=function(a,b,c){var d=a.parentNode;l.each(b,function(b){d.insertBefore(b,a)});return k(a,c)},g=function(a,b,c,d){d.insertAfter(b.reverse(),a);return m(b[0],c)};
return{isListFragment:function(a){var b=a.firstChild;a=a.lastChild;b&&"meta"===b.name&&(b=b.next);a&&"mce_marker"===a.attr("id")&&(a=a.prev);return b&&b===a?"ul"===b.name||"ol"===b.name:!1},insertAtCaret:function(c,k,m,q){c=d(k,c,q);var n=a(k,m.startContainer);c=f(b(c.firstChild));q=k.getRoot();var r=function(b){var c=e.fromRangeStart(m),d=new h(k.getRoot());return(b=1===b?d.prev(c):d.next(c))?a(k,b.getNode())!==n:!0};return r(1)?u(n,c,q):r(2)?g(n,c,q,k):v(n,c,q,m)},isParentBlockLi:function(b,c){return!!a(b,
c)},trimListItems:f,listItems:b}});w("tinymce/InsertContent","tinymce/Env tinymce/util/Tools tinymce/html/Serializer tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/dom/ElementUtils tinymce/dom/NodeType tinymce/InsertList".split(" "),function(l,h,e,d,b,f,a,c){var k=a.matchNodeNames("td th"),m=function(a,b,c){if("all"===c.getAttribute("data-mce-bogus"))c.parentNode.insertBefore(a.dom.createFragment(b),c);else{var d=c.firstChild,f=c.lastChild;!d||d===f&&"BR"===d.nodeName?a.dom.setHTML(c,
b):a.selection.setContent(b)}},v=function(a,g,n){function t(a){function b(a){return d[a]&&3==d[a].nodeType}var c=v.getRng(!0);var d=c.startContainer;c=c.startOffset;3==d.nodeType&&(0<c?a=a.replace(/^&nbsp;/," "):b("previousSibling")||(a=a.replace(/^ /,"&nbsp;")),c<d.length?a=a.replace(/&nbsp;(<br>|)$/," "):b("nextSibling")||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")));return a}function u(){var a=v.getRng(!0);var b=a.startContainer;var c=a.startOffset;3==b.nodeType&&a.collapsed&&("\u00a0"===b.data[c]?
(b.deleteData(c,1),/[\u00a0| ]$/.test(g)||(g+=" ")):"\u00a0"===b.data[c-1]&&(b.deleteData(c-1,1),/[\u00a0| ]$/.test(g)||(g=" "+g)))}function q(b){return b&&!a.schema.getShortEndedElements()[b.nodeName]}var p,r=a.schema.getTextInlineElements(),v=a.selection,A=a.dom;/^ | $/.test(g)&&(g=t(g));var z=a.parser;var x=n.merge;var G=new e({validate:a.settings.validate},a.schema);var C={content:g,format:"html",selection:!0};a.fire("BeforeSetContent",C);g=C.content;-1==g.indexOf("{$caret}")&&(g+="{$caret}");
g=g.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');var H=v.getRng();var w=H.startContainer||(H.parentElement?H.parentElement():null);var M=a.getBody();w===M&&v.isCollapsed()&&A.isBlock(M.firstChild)&&q(M.firstChild)&&A.isEmpty(M.firstChild)&&(H=A.createRng(),H.setStart(M.firstChild,0),H.setEnd(M.firstChild,0),v.setRng(H));v.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),u());w=v.getNode();M={context:w.nodeName.toLowerCase(),
data:n.data};var U=z.parse(g,M);if(!0===n.paste&&c.isListFragment(U)&&c.isParentBlockLi(A,w))H=c.insertAtCaret(G,A,a.selection.getRng(!0),U),a.selection.setRng(H),a.fire("SetContent",C);else{(function(a){for(;a=a.walk();)1===a.type&&a.attr("data-mce-fragment","1")})(U);var J=U.lastChild;if("mce_marker"==J.attr("id"))for(n=J,J=J.prev;J;J=J.walk(!0))if(3==J.type||!A.isBlock(J.name)){a.schema.isValidChild(J.parent.name,"span")&&J.parent.insert(n,J,"br"===J.name);break}a._selectionOverrides.showBlockCaretContainer(w);
if(M.invalid){v.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');w=v.getNode();n=a.getBody();for(9==w.nodeType?w=J=n:J=w;J!==n;)w=J,J=J.parentNode;g=w==n?n.innerHTML:A.getOuterHTML(w);g=G.serialize(z.parse(g.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return G.serialize(U)})));w==n?A.setHTML(n,g):A.setOuterHTML(w,g)}else g=G.serialize(U),m(a,g,w);(function(){if(x){var b=a.getBody(),c=new f(A);h.each(A.select("*[data-mce-fragment]"),function(a){for(var d=
a.parentNode;d&&d!=b;d=d.parentNode)r[a.nodeName.toLowerCase()]&&c.compare(d,a)&&A.remove(a,!0)})}})();(function(c){function f(c){c=b.fromRangeStart(c);if(c=(new d(a.getBody())).next(c))return c.toRange()}var e,g;c&&(v.scrollIntoView(c),(e=function(b){for(var c=a.getBody();b&&b!==c;b=b.parentNode)if("false"===a.dom.getContentEditable(b))return b;return null}(c))?(A.remove(c),v.select(e)):(H=A.createRng(),(J=c.previousSibling)&&3==J.nodeType?(H.setStart(J,J.nodeValue.length),l.ie||(p=c.nextSibling)&&
3==p.nodeType&&(J.appendData(p.data),p.parentNode.removeChild(p))):(H.setStartBefore(c),H.setEndBefore(c)),e=A.getParent(c,A.isBlock),A.remove(c),e&&A.isEmpty(e)&&(a.$(e).empty(),H.setStart(e,0),H.setEnd(e,0),k(e)||e.getAttribute("data-mce-fragment")||!(g=f(H))?A.add(e,A.create("br",{"data-mce-bogus":"1"})):(H=g,A.remove(e))),v.setRng(H)))})(A.get("mce_marker"));(function(a){h.each(a.getElementsByTagName("*"),function(a){a.removeAttribute("data-mce-fragment")})})(a.getBody());a.fire("SetContent",
C);a.addVisual()}};return{insertAtCaret:function(a,b){if("string"!==typeof b){var c=h.extend({paste:b.paste,data:{paste:b.paste}},b);var d=b.content}else d=b,c={};v(a,d,c)}}});w("tinymce/EditorCommands","tinymce/Env tinymce/util/Tools tinymce/dom/RangeUtils tinymce/dom/TreeWalker tinymce/InsertContent tinymce/dom/NodeType".split(" "),function(l,h,e,d,b,f){var a=h.each,c=h.extend,k=h.map,m=h.inArray,v=h.explode,u=l.ie&&11>l.ie;return function(g){function h(a){var b;if(!g.quirks.isHidden()){a=a.toLowerCase();
if(b=A.state[a])return b(a);try{return g.getDoc().queryCommandState(a)}catch(H){}return!1}}function t(b,c){c=c||"exec";a(b,function(b,d){a(d.toLowerCase().split(","),function(a){A[c][a]=b})})}function y(a,b,c){b===F&&(b=!1);c===F&&(c=null);return g.getDoc().execCommand(a,b,c)}function q(a,b){D.toggle(a,b?{value:b}:F);g.nodeChanged()}var p,r,D,A={state:{},exec:{},value:{}},z=g.settings,x;g.on("PreInit",function(){p=g.dom;r=g.selection;z=g.settings;D=g.formatter});c(this,{execCommand:function(b,c,d,
f){var e=0;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(b)||f&&f.skip_focus||g.focus();f=g.fire("BeforeExecCommand",{command:b,ui:c,value:d});if(f.isDefaultPrevented())return!1;var k=b.toLowerCase();if(f=A.exec[k])return f(k,c,d),g.fire("ExecCommand",{command:b,ui:c,value:d}),!0;a(g.plugins,function(a){if(a.execCommand&&a.execCommand(b,c,d))return g.fire("ExecCommand",{command:b,ui:c,value:d}),e=!0,!1});if(e)return e;if(g.theme&&g.theme.execCommand&&g.theme.execCommand(b,
c,d))return g.fire("ExecCommand",{command:b,ui:c,value:d}),!0;try{e=g.getDoc().execCommand(b,c,d)}catch(J){}return e?(g.fire("ExecCommand",{command:b,ui:c,value:d}),!0):!1},queryCommandState:h,queryCommandValue:function(a){var b;if(!g.quirks.isHidden()){a=a.toLowerCase();if(b=A.value[a])return b(a);try{return g.getDoc().queryCommandValue(a)}catch(H){}}},queryCommandSupported:function(a){a=a.toLowerCase();if(A.exec[a])return!0;try{return g.getDoc().queryCommandSupported(a)}catch(C){}return!1},addCommands:t,
addCommand:function(a,b,c){a=a.toLowerCase();A.exec[a]=function(a,d,f,e){return b.call(c||g,d,f,e)}},addQueryStateHandler:function(a,b,c){a=a.toLowerCase();A.state[a]=function(){return b.call(c||g)}},addQueryValueHandler:function(a,b,c){a=a.toLowerCase();A.value[a]=function(){return b.call(c||g)}},hasCustomCommand:function(a){a=a.toLowerCase();return!!A.exec[a]}});t({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){g.undoManager.add()},"Cut,Copy,Paste":function(a){var b=
g.getDoc();try{y(a)}catch(ja){var c=!0}"paste"!==a||b.queryCommandEnabled(a)||(c=!0);if(c||!b.queryCommandSupported(a))a=g.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),l.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),g.notificationManager.open({text:a,type:"error"})},unlink:function(){if(r.isCollapsed()){var a=g.dom.getParent(g.selection.getStart(),"a");a&&g.dom.remove(a,!0)}else D.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(b){var c=
b.substring(7);"full"==c&&(c="justify");a(["left","center","right","justify"],function(a){c!=a&&D.remove("align"+a)});"none"!=c&&q("align"+c)},"InsertUnorderedList,InsertOrderedList":function(a){y(a);if(a=p.getParent(r.getNode(),"ol,ul")){var b=a.parentNode;/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(x=r.getBookmark(void 0),p.split(b,a),r.moveToBookmark(x))}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){q(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){q(a,c)},FontSize:function(a,
b,c){if(1<=c&&7>=c){var d=v(z.font_size_style_values);c=(b=v(z.font_size_classes))?b[c-1]||c:d[c-1]||c}q(a,c)},RemoveFormat:function(a){D.remove(a)},mceBlockQuote:function(){q("blockquote")},FormatBlock:function(a,b,c){return q(c||"p")},mceCleanup:function(){var a=r.getBookmark();g.setContent(g.getContent({cleanup:!0}),{cleanup:!0});r.moveToBookmark(a)},mceRemoveNode:function(a,b,c){a=c||r.getNode();a!=g.getBody()&&(x=r.getBookmark(void 0),g.dom.remove(a,!0),r.moveToBookmark(x))},mceSelectNodeDepth:function(a,
b,c){var d=0;p.getParent(r.getNode(),function(a){if(1==a.nodeType&&d++==c)return r.select(a),!1},g.getBody())},mceSelectNode:function(a,b,c){r.select(c)},mceInsertContent:function(a,c,d){b.insertAtCaret(g,d)},mceInsertRawHTML:function(a,b,c){r.setContent("tiny_mce_marker");g.setContent(g.getContent().replace(/tiny_mce_marker/g,function(){return c}))},mceToggleFormat:function(a,b,c){q(c)},mceSetContent:function(a,b,c){g.setContent(c)},"Indent,Outdent":function(b){var c;var d=z.indentation;var f=/[a-z%]+$/i.exec(d);
d=parseInt(d,10);h("InsertUnorderedList")||h("InsertOrderedList")?y(b):(z.forced_root_block||p.getParent(r.getNode(),p.isBlock)||D.apply("div"),a(r.getSelectedBlocks(),function(a){if("false"!==p.getContentEditable(a)&&"LI"!==a.nodeName){var e=g.getParam("indent_use_margin",!1)?"margin":"padding",e="TABLE"===a.nodeName?"margin":e,e=e+("rtl"==p.getStyle(a,"direction",!0)?"Right":"Left");"outdent"==b?(c=Math.max(0,parseInt(a.style[e]||0,10)-d),p.setStyle(a,e,c?c+f:"")):(c=parseInt(a.style[e]||0,10)+
d+f,p.setStyle(a,e,c))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){g.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){g.hasVisual=!g.hasVisual;g.addVisual()},mceReplaceContent:function(a,b,c){g.execCommand("mceInsertContent",!1,c.replace(/\{\$selection\}/g,r.getContent({format:"text"})))},mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=p.getParent(r.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||D.remove("link");c.href&&D.apply("link",
c,a)},selectAll:function(){var a=p.getRoot();if(r.getRng().setStart){if(a=p.getParent(r.getStart(),f.isContentEditableTrue)){var b=p.createRng();b.selectNodeContents(a);r.setRng(b)}}else b=r.getRng(),b.item||(b.moveToElementText(a),b.select())},"delete":function(){y("Delete");var a=g.getBody();p.isEmpty(a)&&(g.setContent(""),a.firstChild&&p.isBlock(a.firstChild)?g.selection.setCursorLocation(a.firstChild,0):g.selection.setCursorLocation(a,0))},mceNewDocument:function(){g.setContent("")},InsertLineBreak:function(a,
b,c){a=r.getRng(!0);(new e(p)).normalize(a);var f=a.startOffset,k=a.startContainer;1==k.nodeType&&k.hasChildNodes()&&(b=f>k.childNodes.length-1,k=k.childNodes[Math.min(f,k.childNodes.length-1)]||k,f=b&&3==k.nodeType?k.nodeValue.length:0);var h=p.getParent(k,p.isBlock);b=h?h.nodeName.toUpperCase():"";var q=h?p.getParent(h.parentNode,p.isBlock):null,n=q?q.nodeName.toUpperCase():"";c=c&&c.ctrlKey;"LI"!=n||c||(h=q,b=n);if(k&&3==k.nodeType&&f>=k.nodeValue.length){if(c=!u){a:{c=new d(k,h);for(f=g.schema.getNonEmptyElements();k=
c.next();)if(f[k.nodeName.toLowerCase()]||0<k.length){c=!0;break a}c=void 0}c=!c}if(c){c=p.create("br");a.insertNode(c);a.setStartAfter(c);a.setEndAfter(c);var m=!0}}c=p.create("br");a.insertNode(c);k=p.doc.documentMode;u&&"PRE"==b&&(!k||8>k)&&c.parentNode.insertBefore(p.doc.createTextNode("\r"),c);b=p.create("span",{},"&nbsp;");c.parentNode.insertBefore(b,c);r.scrollIntoView(b);p.remove(b);m?(a.setStartBefore(c),a.setEndBefore(c)):(a.setStartAfter(c),a.setEndAfter(c));r.setRng(a);g.undoManager.add();
return!0}});t({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b="align"+a.substring(7);a=r.isCollapsed()?[p.getParent(r.getNode(),p.isBlock)]:r.getSelectedBlocks();a=k(a,function(a){return!!D.matchNode(a,b)});return-1!==m(a,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return D.match(a)},mceBlockQuote:function(){return D.match("blockquote")},Outdent:function(){var a;return z.inline_styles&&((a=p.getParent(r.getStart(),p.isBlock))&&0<parseInt(a.style.paddingLeft,
10)||(a=p.getParent(r.getEnd(),p.isBlock))&&0<parseInt(a.style.paddingLeft,10))?!0:h("InsertUnorderedList")||h("InsertOrderedList")||!z.inline_styles&&!!p.getParent(r.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=p.getParent(r.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state");t({"FontSize,FontName":function(a){var b=0,c;if(c=p.getParent(r.getNode(),"span"))b="fontsize"==a?c.style.fontSize:
c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase();return b}},"value");t({Undo:function(){g.undoManager.undo()},Redo:function(){g.undoManager.redo()}})}});w("tinymce/util/URI",["tinymce/util/Tools"],function(l){function h(a,c){var f=this;a=d(a);c=f.settings=c||{};var m=c.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a))f.source=a;else{var l=0===a.indexOf("//");0!==a.indexOf("/")||l||(a=(m?m.protocol||"http":"http")+"://mce_host"+a);if(!/^[\w\-]*:?\/\//.test(a)){var u=
c.base_uri?c.base_uri.path:(new h(location.href)).directory;""===c.base_uri.protocol?a="//mce_host"+f.toAbsPath(u,a):(a=/([^#?]*)([#?]?.*)/.exec(a),a=(m&&m.protocol||"http")+"://mce_host"+f.toAbsPath(u,a[1])+a[2])}a=a.replace(/@@/g,"(mce_at)");a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);e(b,function(b,c){var d=a[c];d&&(d=d.replace(/\(mce_at\)/g,
"@@"));f[b]=d});m&&(f.protocol||(f.protocol=m.protocol),f.userInfo||(f.userInfo=m.userInfo),f.port||"mce_host"!==f.host||(f.port=m.port),f.host&&"mce_host"!==f.host||(f.host=m.host),f.source="");l&&(f.protocol="")}}var e=l.each,d=l.trim,b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),f={ftp:21,http:80,https:443,mailto:25};h.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);this.path=a[0];this.directory=a[1];this.file=a[2];
this.source="";this.getURI()},toRelative:function(a){if("./"===a)return a;a=new h(a,{base_uri:this});if("mce_host"!=a.host&&this.host!=a.host&&a.host||this.port!=a.port||this.protocol!=a.protocol&&""!==a.protocol)return a.getURI();var b=this.getURI();var d=a.getURI();if(b==d||"/"==b.charAt(b.length-1)&&b.substr(0,b.length-1)==d)return b;b=this.toRelPath(this.path,a.path);a.query&&(b+="?"+a.query);a.anchor&&(b+="#"+a.anchor);return b},toAbsolute:function(a,b){a=new h(a,{base_uri:this});return a.getURI(b&&
this.isSameOrigin(a))},isSameOrigin:function(a){if(this.host==a.host&&this.protocol==a.protocol){if(this.port==a.port)return!0;var b=f[this.protocol];if(b&&(this.port||b)==(a.port||b))return!0}return!1},toRelPath:function(a,b){var c=0,d="",f;a=a.substring(0,a.lastIndexOf("/"));a=a.split("/");var e=b.split("/");if(a.length>=e.length){var g=0;for(f=a.length;g<f;g++)if(g>=e.length||a[g]!=e[g]){c=g+1;break}}if(a.length<e.length)for(g=0,f=e.length;g<f;g++)if(g>=a.length||a[g]!=e[g]){c=g+1;break}if(1===
c)return b;g=0;for(f=a.length-(c-1);g<f;g++)d+="../";g=c-1;for(f=e.length;g<f;g++)d=g!=c-1?d+("/"+e[g]):d+e[g];return d},toAbsPath:function(a,b){var c=0,d=[];var f=/\/$/.test(b)?"/":"";a=a.split("/");b=b.split("/");e(a,function(a){a&&d.push(a)});a=d;var h=b.length-1;for(d=[];0<=h;h--)0!==b[h].length&&"."!==b[h]&&(".."===b[h]?c++:0<c?c--:d.push(b[h]));h=a.length-c;h=0>=h?d.reverse().join("/"):a.slice(0,h).join("/")+"/"+d.reverse().join("/");0!==h.indexOf("/")&&(h="/"+h);f&&h.lastIndexOf("/")!==h.length-
1&&(h+=f);return h},getURI:function(a){if(!this.source||a){var b="";a||(b=this.protocol?b+(this.protocol+"://"):b+"//",this.userInfo&&(b+=this.userInfo+"@"),this.host&&(b+=this.host),this.port&&(b+=":"+this.port));this.path&&(b+=this.path);this.query&&(b+="?"+this.query);this.anchor&&(b+="#"+this.anchor);this.source=b}return this.source}};h.parseDataUri=function(a){var b,d;a=decodeURIComponent(a).split(",");(d=/data:([^;]+)/.exec(a[0]))&&(b=d[1]);return{type:b,data:a[1]}};h.getDocumentBaseUrl=function(a){a=
0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+a.pathname;/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));return a};return h});w("tinymce/util/Class",["tinymce/util/Tools"],function(l){function h(){}var e=l.each,d=l.extend,b,f;h.extend=b=function(a){function c(){var a,b;if(!f&&(this.init&&this.init.apply(this,arguments),b=this.Mixins))for(a=b.length;a--;){var c=b[a];c.init&&c.init.apply(this,
arguments)}}function k(){return this}function h(a,b){return function(){var c=this._super;this._super=l[a];var d=b.apply(this,arguments);this._super=c;return d}}var l=this.prototype,u;f=!0;var g=new this;f=!1;a.Mixins&&(e(a.Mixins,function(b){for(var c in b)"init"!==c&&(a[c]=b[c])}),l.Mixins&&(a.Mixins=l.Mixins.concat(a.Mixins)));a.Methods&&e(a.Methods.split(","),function(b){a[b]=k});a.Properties&&e(a.Properties.split(","),function(b){var c="_"+b;a[b]=function(a){return void 0!==a?(this[c]=a,this):
this[c]}});a.Statics&&e(a.Statics,function(a,b){c[b]=a});a.Defaults&&l.Defaults&&(a.Defaults=d({},l.Defaults,a.Defaults));for(u in a){var n=a[u];g[u]="function"==typeof n&&l[u]?h(u,n):n}c.prototype=g;c.constructor=c;c.extend=b;return c};return h});w("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(l){function h(d){function b(){return!1}function f(){return!0}function a(a,c,d,f){var g;!1===c&&(c=b);if(c){c={func:c};f&&l.extend(c,f);var k=a.toLowerCase().split(" ");for(g=k.length;g--;)a=
k[g],f=h[a],f||(f=h[a]=[],u(a,!0)),d?f.unshift(c):f.push(c)}return e}function c(a,b){var c,d,f;if(a){var g=a.toLowerCase().split(" ");for(c=g.length;c--;){a=g[c];var k=h[a];if(!a){for(d in h)u(d,!1),delete h[d];break}if(k){if(b)for(f=k.length;f--;)k[f].func===b&&(k=k.slice(0,f).concat(k.slice(f+1)),h[a]=k);else k.length=0;k.length||(u(a,!1),delete h[a])}}}else{for(a in h)u(a,!1);h={}}return e}var e=this,h={};d=d||{};var v=d.scope||e;var u=d.toggleEvent||b;e.fire=function(a,e){var g,k;a=a.toLowerCase();
e=e||{};e.type=a;e.target||(e.target=v);e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=f},e.stopPropagation=function(){e.isPropagationStopped=f},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=f},e.isDefaultPrevented=b,e.isPropagationStopped=b,e.isImmediatePropagationStopped=b);d.beforeFire&&d.beforeFire(e);if(g=h[a]){var q=0;for(k=g.length;q<k;q++){var n=g[q];n.once&&c(a,n.func);if(e.isImmediatePropagationStopped()){e.stopPropagation();break}if(!1===n.func.call(v,
e)){e.preventDefault();break}}}return e};e.on=a;e.off=c;e.once=function(b,c,d){return a(b,c,d,{once:!0})};e.has=function(a){a=a.toLowerCase();return!(!h[a]||0===h[a].length)}}var e=l.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend",
" ");h.isNative=function(d){return!!e[d.toLowerCase()]};return h});w("tinymce/data/Binding",[],function(){function l(h){this.create=h.create}l.create=function(h,e){return new l({create:function(d,b){function f(a){d.set(b,a.value)}d.on("change:"+b,function(a){h.set(e,a.value)});h.on("change:"+e,f);var a=d._bindings;a||(a=d._bindings=[],d.on("destroy",function(){for(var b=a.length;b--;)a[b]()}));a.push(function(){h.off("change:"+e,f)});return h.get(e)}})};return l});w("tinymce/util/Observable",["tinymce/util/EventDispatcher"],
function(l){function h(e){e._eventDispatcher||(e._eventDispatcher=new l({scope:e,toggleEvent:function(d,b){l.isNative(d)&&e.toggleNativeEvent&&e.toggleNativeEvent(d,b)}}));return e._eventDispatcher}return{fire:function(e,d,b){if(this.removed&&"remove"!==e)return d;d=h(this).fire(e,d,b);if(!1!==b&&this.parent)for(b=this.parent();b&&!d.isPropagationStopped();)b.fire(e,d,!1),b=b.parent();return d},on:function(e,d,b){return h(this).on(e,d,b)},off:function(e,d){return h(this).off(e,d)},once:function(e,
d){return h(this).once(e,d)},hasEventListeners:function(e){return h(this).has(e)}}});w("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(l,h,e,d){function b(f,a){var c;if(f===a)return!0;if(null===f||null===a||"object"!==typeof f||"object"!==typeof a)return f===a;if(d.isArray(a)){if(f.length!==a.length)return!1;for(c=f.length;c--;)if(!b(f[c],a[c]))return!1}if(0<f.nodeType||0<a.nodeType)return f===a;var e={};for(c in a){if(!b(f[c],
a[c]))return!1;e[c]=!0}for(c in f)if(!e[c]&&!b(f[c],a[c]))return!1;return!0}return e.extend({Mixins:[h],init:function(b){var a;b=b||{};for(a in b){var c=b[a];c instanceof l&&(b[a]=c.create(this,a))}this.data=b},set:function(d,a){var c=this.data[d];a instanceof l&&(a=a.create(this,d));if("object"===typeof d){for(f in d)this.set(f,d[f]);return this}if(!b(c,a)){this.data[d]=a;var f={target:this,name:d,value:a,oldValue:c};this.fire("change:"+d,f);this.fire("change",f)}return this},get:function(b){return this.data[b]},
has:function(b){return b in this.data},bind:function(b){return l.create(this,b)},destroy:function(){this.fire("destroy")}})});w("tinymce/ui/Selector",["tinymce/util/Class"],function(l){function h(a){for(var b=[],c=a.length,d;c--;)d=a[c],d.__checked||(b.push(d),d.__checked=1);for(c=b.length;c--;)delete b[c].__checked;return b}var e=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
b=/^\s*|\s*$/g,f,a=l.extend({init:function(a){function c(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function f(a){if(a)return function(b){return b._name===a}}function h(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.classes.contains(a[c]))return!1;return!0}}function l(a,b,c){if(a)return function(d){d=d[a]?d[a]():"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===d.indexOf(c):
"$="===b?d.substr(d.length-c.length)===c:!1:!!c}}function g(a){if(a){a=/(?:not\((.+)\))|(.+)/i.exec(a);if(!a[1])return a=a[2],function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1};var b=t(a[1],[]);return function(a){return!y(a,b)}}}function n(a,d,k){function n(a){a&&d.push(a)}a=e.exec(a.replace(b,""));n(c(a[1]));n(f(a[2]));n(h(a[3]));n(l(a[4],a[5],a[6]));n(g(a[7]));d.pseudo=!!a[7];d.direct=k;return d}function t(a,b){var c=[],f;do if(d.exec(""),
f=d.exec(a))if(a=f[3],c.push(f[1]),f[2]){var e=f[3];break}while(f);e&&t(e,b);a=[];for(e=0;e<c.length;e++)">"!=c[e]&&a.push(n(c[e],[],">"===c[e-1]));b.push(a);return b}var y=this.match;this._selectors=t(a,[])},match:function(a,b){var c,d,f,e,k,h;b=b||this._selectors;var l=0;for(c=b.length;l<c;l++){var q=b[l];var p=q.length;var r=a;var D=0;for(d=p-1;0<=d;d--)for(e=q[d];r;){if(e.pseudo){var A=r.parent().items();for(k=h=A.length;k--&&A[k]!==r;);}A=0;for(f=e.length;A<f;A++)if(!e[A](r,k,h)){A=f+1;break}if(A===
f){D++;break}else if(d===p-1)break;r=r.parent()}if(D===p)return!0}return!1},find:function(b){function c(a,b,f){var e,g,k=b[f];var h=0;for(e=a.length;h<e;h++){var n=a[h];var m=0;for(g=k.length;m<g;m++)if(!k[m](n,h,e)){m=g+1;break}if(m===g)f==b.length-1?d.push(n):n.items&&c(n.items(),b,f+1);else if(k.direct)break;n.items&&c(n.items(),b,f)}}var d=[],e,l=this._selectors;if(b.items){var g=0;for(e=l.length;g<e;g++)c(b.items(),l[g],0);1<e&&(d=h(d))}f||(f=a.Collection);return new f(d)}});return a});w("tinymce/ui/Collection",
["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(l,h,e){var d=Array.prototype.push,b=Array.prototype.slice;var f={length:0,init:function(a){a&&this.add(a)},add:function(b){l.isArray(b)?d.apply(this,b):b instanceof a?this.add(b.toArray()):d.call(this,b);return this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;a<b;a++)delete this[a];return this},filter:function(b){var c,d=[];if("string"===typeof b){b=new h(b);var f=function(a){return b.match(a)}}else f=
b;var e=0;for(c=this.length;e<c;e++){var g=this[e];f(g)&&d.push(g)}return new a(d)},slice:function(){return new a(b.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){l.each(this,a);return this},toArray:function(){return l.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new a(l.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].classes.contains(a):!1},prop:function(a,
b){var c;if(void 0!==b)return this.each(function(c){if(c[a])c[a](b)}),this;if((c=this[0])&&c[a])return c[a]()},exec:function(a){var b=l.toArray(arguments).slice(1);this.each(function(c){c[a]&&c[a].apply(c,b)});return this},remove:function(){for(var a=this.length;a--;)this[a].remove();return this},addClass:function(a){return this.each(function(b){b.classes.add(a)})},removeClass:function(a){return this.each(function(b){b.classes.remove(a)})}};l.each("fire on off show hide append prepend before after reflow".split(" "),
function(a){f[a]=function(){var b=l.toArray(arguments);this.each(function(c){a in c&&c[a].apply(c,b)});return this}});l.each("text name disabled active selected checked visible parent value data".split(" "),function(a){f[a]=function(b){return this.prop(a,b)}});var a=e.extend(f);return h.Collection=a});w("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(l,h,e){var d=0,b={id:function(){return"mceu_"+d++},create:function(b,a,c){var d=document.createElement(b);
e.DOM.setAttribs(d,a);"string"===typeof c?d.innerHTML=c:h.each(c,function(a){a.nodeType&&d.appendChild(a)});return d},createFragment:function(b){return e.DOM.createFragment(b)},getWindowSize:function(){return e.DOM.getViewPort()},getSize:function(b){if(b.getBoundingClientRect){var a=b.getBoundingClientRect();var c=Math.max(a.width||a.right-a.left,b.offsetWidth);b=Math.max(a.height||a.bottom-a.bottom,b.offsetHeight)}else c=b.offsetWidth,b=b.offsetHeight;return{width:c,height:b}},getPos:function(d,
a){return e.DOM.getPos(d,a||b.getContainer())},getContainer:function(){return l.container?l.container:document.body},getViewPort:function(b){return e.DOM.getViewPort(b)},get:function(b){return document.getElementById(b)},addClass:function(b,a){return e.DOM.addClass(b,a)},removeClass:function(b,a){return e.DOM.removeClass(b,a)},hasClass:function(b,a){return e.DOM.hasClass(b,a)},toggleClass:function(b,a,c){return e.DOM.toggleClass(b,a,c)},css:function(b,a,c){return e.DOM.setStyle(b,a,c)},getRuntimeStyle:function(b,
a){return e.DOM.getStyle(b,a,!0)},on:function(b,a,c,d){return e.DOM.bind(b,a,c,d)},off:function(b,a,c){return e.DOM.unbind(b,a,c)},fire:function(b,a,c){return e.DOM.fire(b,a,c)},innerHtml:function(b,a){e.DOM.setHTML(b,a)}};return b});w("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(l){if(l){if("number"===typeof l)return l=l||0,{top:l,left:l,bottom:l,right:l};l=l.split(" ");var h=l.length;1===h?l[1]=l[2]=l[3]=l[0]:2===h?(l[2]=l[0],l[3]=l[1]):3===h&&(l[3]=l[1]);return{top:parseInt(l[0],
10)||0,right:parseInt(l[1],10)||0,bottom:parseInt(l[2],10)||0,left:parseInt(l[3],10)||0}}},measureBox:function(l,h){function e(b){var d=document.defaultView;return d?(b=b.replace(/[A-Z]/g,function(a){return"-"+a}),d.getComputedStyle(l,null).getPropertyValue(b)):l.currentStyle[b]}function d(b){b=parseFloat(e(b),10);return isNaN(b)?0:b}return{top:d(h+"TopWidth"),right:d(h+"RightWidth"),bottom:d(h+"BottomWidth"),left:d(h+"LeftWidth")}}}});w("tinymce/ui/ClassList",["tinymce/util/Tools"],function(l){function h(){}
function e(d){this.cls=[];this.cls._map={};this.onchange=d||h;this.prefix=""}l.extend(e.prototype,{add:function(d){d&&!this.contains(d)&&(this.cls._map[d]=!0,this.cls.push(d),this._change());return this},remove:function(d){if(this.contains(d)){for(var b=0;b<this.cls.length&&this.cls[b]!==d;b++);this.cls.splice(b,1);delete this.cls._map[d];this._change()}return this},toggle:function(d,b){var f=this.contains(d);f!==b&&(f?this.remove(d):this.add(d),this._change());return this},contains:function(d){return!!this.cls._map[d]},
_change:function(){delete this.clsValue;this.onchange.call(this)}});e.prototype.toString=function(){if(this.clsValue)return this.clsValue;var d="";for(var b=0;b<this.cls.length;b++)0<b&&(d+=" "),d+=this.prefix+this.cls[b];return d};return e});w("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(l){var h={},e;return{add:function(d){(d=d.parent())&&d._layout&&!d._layout.isNative()&&(h[d._id]||(h[d._id]=d),e||(e=!0,l.requestAnimationFrame(function(){var b;e=!1;for(b in h){var d=h[b];d.state.get("rendered")&&
d.reflow()}h={}},document.body)))},remove:function(d){h[d._id]&&delete h[d._id]}}});w("tinymce/ui/Control","tinymce/util/Class tinymce/util/Tools tinymce/util/EventDispatcher tinymce/data/ObservableObject tinymce/ui/Collection tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/ui/BoxUtils tinymce/ui/ClassList tinymce/ui/ReflowQueue".split(" "),function(l,h,e,d,b,f,a,c,k,m){function v(a){a._eventDispatcher||(a._eventDispatcher=new e({scope:a,toggleEvent:function(b,c){c&&e.isNative(b)&&(a._nativeEvents||
(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&u(a))}}));return a._eventDispatcher}function u(b){function c(a){var c=b.getParentCtrl(a.target);c&&c.fire(a.type,a)}function d(){var a=l._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),l._lastHoverCtrl=null)}function f(a){var c=b.getParentCtrl(a.target);a=l._lastHoverCtrl;var d=0,f;if(c!==a){l._lastHoverCtrl=c;var e=c.parents().toArray().reverse();e.push(c);
if(a){c=a.parents().toArray().reverse();c.push(a);for(d=0;d<c.length&&e[d]===c[d];d++);for(f=c.length-1;f>=d;f--)a=c[f],a.fire("mouseleave",{target:a.getEl()})}for(f=d;f<e.length;f++)c=e[f],c.fire("mouseenter",{target:c.getEl()})}}function e(a){a.preventDefault();"mousewheel"==a.type?(a.deltaY=-.025*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-.025*a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail);b.fire("wheel",a)}var k,h,n;if(h=b._nativeEvents){var q=b.parents().toArray();q.unshift(b);var m=0;for(k=q.length;!l&&
m<k;m++)var l=q[m]._eventsRoot;l||(l=q[q.length-1]||b);b._eventsRoot=l;k=m;for(m=0;m<k;m++)q[m]._eventsRoot=l;m=l._delegates;m||(m=l._delegates={});for(n in h){if(!h)return!1;if("wheel"===n)if(g)a(b.getEl()).on("mousewheel",e);else a(b.getEl()).on("DOMMouseScroll",e);else"mouseenter"===n||"mouseleave"===n?l._hasMouseEnter||(a(l.getEl()).on("mouseleave",d).on("mouseover",f),l._hasMouseEnter=1):m[n]||(a(l.getEl()).on(n,c),m[n]=!0),h[n]=!1}}}var g="onmousewheel"in document,n,t=0,y={Statics:{classPrefix:"mce-"},
isRtl:function(){return n.rtl},classPrefix:"mce-",init:function(b){function f(a){var b;a=a.split(" ");for(b=0;b<a.length;b++)e.classes.add(a[b])}var e=this,g,n;e.settings=b=h.extend({},e.Defaults,b);e._id=b.id||"mceu_"+t++;e._aria={role:b.role};e._elmCache={};e.$=a;e.state=new d({visible:!0,active:!1,disabled:!1,value:""});e.data=new d(b.data);e.classes=new k(function(){e.state.get("rendered")&&(e.getEl().className=this.toString())});e.classes.prefix=e.classPrefix;if(g=b.classes)e.Defaults&&(n=e.Defaults.classes)&&
g!=n&&f(n),f(g);h.each("title text name visible disabled active value".split(" "),function(a){if(a in b)e[a](b[a])});e.on("click",function(){if(e.disabled())return!1});e.settings=b;e.borderBox=c.parseBox(b.border);e.paddingBox=c.parseBox(b.padding);e.marginBox=c.parseBox(b.margin);b.hidden&&e.hide()},Properties:"parent,name",getContainerElm:function(){return f.getContainer()},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},initLayoutRect:function(){var a=
this.settings,b=this.getEl();var d=this.borderBox=this.borderBox||c.measureBox(b,"border");this.paddingBox=this.paddingBox||c.measureBox(b,"padding");this.marginBox=this.marginBox||c.measureBox(b,"margin");var e=f.getSize(b);var g=a.minWidth;var k=a.minHeight;b=g||e.width;var h=k||e.height;e=a.width;var n=a.height;var m=a.autoResize;m="undefined"!=typeof m?m:!e&&!n;e=e||b;n=n||h;var l=d.left+d.right;d=d.top+d.bottom;var t=a.maxWidth||65535,u=a.maxHeight||65535;this._layoutRect=a={x:a.x||0,y:a.y||
0,w:e,h:n,deltaW:l,deltaH:d,contentW:e-l,contentH:n-d,innerW:e-l,innerH:n-d,startMinWidth:g||0,startMinHeight:k||0,minW:Math.min(b,t),minH:Math.min(h,u),maxW:t,maxH:u,autoResize:m,scrollW:0};this._lastLayoutRect={};return a},layoutRect:function(a){var b=this._layoutRect;b||(b=this.initLayoutRect());if(a){var c=b.deltaW;var d=b.deltaH;void 0!==a.x&&(b.x=a.x);void 0!==a.y&&(b.y=a.y);void 0!==a.minW&&(b.minW=a.minW);void 0!==a.minH&&(b.minH=a.minH);var f=a.w;void 0!==f&&(f=f<b.minW?b.minW:f,f=f>b.maxW?
b.maxW:f,b.w=f,b.innerW=f-c);f=a.h;void 0!==f&&(f=f<b.minH?b.minH:f,f=f>b.maxH?b.maxH:f,b.h=f,b.innerH=f-d);f=a.innerW;void 0!==f&&(f=f<b.minW-c?b.minW-c:f,f=f>b.maxW-c?b.maxW-c:f,b.innerW=f,b.w=f+c);f=a.innerH;void 0!==f&&(f=f<b.minH-d?b.minH-d:f,f=f>b.maxH-d?b.maxH-d:f,b.innerH=f,b.h=f+d);void 0!==a.contentW&&(b.contentW=a.contentW);void 0!==a.contentH&&(b.contentH=a.contentH);a=this._lastLayoutRect;if(a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h)(f=n.repaintControls)&&f.map&&!f.map[this._id]&&(f.push(this),
f.map[this._id]=!0),a.x=b.x,a.y=b.y,a.w=b.w,a.h=b.h;return this}return b},repaint:function(){var a;var b=document.createRange?function(a){return a}:Math.round;var c=this.getEl().style;var d=this._layoutRect;var f=this._lastRepaintRect||{};var e=this.borderBox;var g=e.left+e.right;e=e.top+e.bottom;d.x!==f.x&&(c.left=b(d.x)+"px",f.x=d.x);d.y!==f.y&&(c.top=b(d.y)+"px",f.y=d.y);d.w!==f.w&&(g=b(d.w-g),c.width=(0<=g?g:0)+"px",f.w=d.w);d.h!==f.h&&(g=b(d.h-e),c.height=(0<=g?g:0)+"px",f.h=d.h);if(this._hasBody&&
d.innerW!==f.innerW){g=b(d.innerW);if(a=this.getEl("body")){var k=a.style;k.width=(0<=g?g:0)+"px"}f.innerW=d.innerW}if(this._hasBody&&d.innerH!==f.innerH){g=b(d.innerH);if(a=a||this.getEl("body"))k=k||a.style,k.height=(0<=g?g:0)+"px";f.innerH=d.innerH}this._lastRepaintRect=f;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null;f.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;this.initLayoutRect()},on:function(a,
b){var c=this;v(c).on(a,function(a){var b,d;return"string"!=typeof a?a:function(f){b||c.parentsAndSelf().each(function(c){var f=c.settings.callbacks;if(f&&(b=f[a]))return d=c,!1});if(b)return b.call(d,f);f.action=a;this.fire("execute",f)}}(b));return c},off:function(a,b){v(this).off(a,b);return this},fire:function(a,b,c){b=b||{};b.control||(b.control=this);b=v(this).fire(a,b);if(!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return v(this).has(a)},
parents:function(a){var c,d=new b;for(c=this.parent();c;c=c.parent())d.add(c);a&&(d=d.filter(a));return d},parentsAndSelf:function(a){return(new b(this)).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){this.$el.html(a);return this},getEl:function(b){b=b?this._id+"-"+b:this._id;this._elmCache[b]||(this._elmCache[b]=a("#"+b)[0]);return this._elmCache[b]},show:function(){return this.visible(!0)},
hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(q){}return this},blur:function(){this.getEl().blur();return this},aria:function(a,b){var c=this.getEl(this.ariaTarget);if("undefined"===typeof b)return this._aria[a];this._aria[a]=b;this.state.get("rendered")&&c.setAttribute("role"==a?a:"aria-"+a,b);return this},encode:function(a,b){!1!==b&&(a=this.translate(a));return(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return n.translate?
n.translate(a):a},before:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this),!0);return this},after:function(a){var b=this.parent();b&&b.insert(a,b.items().indexOf(this));return this},remove:function(){var b=this,c=b.getEl(),d=b.parent(),f;if(b.items){var e=b.items().toArray();for(f=e.length;f--;)e[f].remove()}if(d&&d.items){var g=[];d.items().each(function(a){a!==b&&g.push(a)});d.items().set(g);d._lastRect=null}b._eventsRoot&&b._eventsRoot==b&&a(c).off();(d=b.getRoot().controlIdLookup)&&
delete d[b._id];c&&c.parentNode&&c.parentNode.removeChild(c);b.state.set("rendered",!1);b.state.destroy();b.fire("remove");return b},renderBefore:function(b){a(b).before(this.renderHtml());this.postRender();return this},renderTo:function(b){a(b||this.getContainerElm()).append(this.renderHtml());this.postRender();return this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var b=this,c=b.settings,
d,f;b.$el=a(b.getEl());b.state.set("rendered",!0);for(f in c)if(0===f.indexOf("on"))b.on(f.substr(2),c[f]);if(b._eventsRoot){for(d=b.parent();!e&&d;d=d.parent())var e=d._eventsRoot;if(e)for(f in e._nativeEvents)b._nativeEvents[f]=!0}u(b);c.style&&(d=b.getEl())&&(d.setAttribute("style",c.style),d.style.cssText=c.style);b.settings.border&&(c=b.borderBox,b.$el.css({"border-top-width":c.top,"border-right-width":c.right,"border-bottom-width":c.bottom,"border-left-width":c.left}));c=b.getRoot();c.controlIdLookup||
(c.controlIdLookup={});c.controlIdLookup[b._id]=b;for(var g in b._aria)b.aria(g,b._aria[g]);!1===b.state.get("visible")&&(b.getEl().style.display="none");b.bindStates();b.state.on("change:visible",function(a){a=a.value;var c;b.state.get("rendered")&&(b.getEl().style.display=!1===a?"none":"",b.getEl().getBoundingClientRect());if(c=b.parent())c._lastRect=null;b.fire(a?"show":"hide");m.add(b)});b.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,
d,f;var e=b;for(d=f=0;e&&e!=c&&e.nodeType;)d+=e.offsetLeft||0,f+=e.offsetTop||0,e=e.offsetParent;e=b.offsetWidth;b=b.offsetHeight;var g=c.clientWidth;var k=c.clientHeight;"end"==a?(d-=g-e,f-=k-b):"center"==a&&(d-=g/2-e/2,f-=k/2-b/2);c.scrollLeft=d;c.scrollTop=f;return this},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=b;return b},reflow:function(){m.remove(this);var a=this.parent();
a._layout&&!a._layout.isNative()&&a.reflow();return this}};h.each("text title visible disabled active value".split(" "),function(a){y[a]=function(b){if(0===arguments.length)return this.state.get(a);"undefined"!=typeof b&&this.state.set(a,b);return this}});return n=l.extend(y)});w("tinymce/ui/Factory",[],function(){var l={},h;return{add:function(e,d){l[e.toLowerCase()]=d},has:function(e){return!!l[e.toLowerCase()]},create:function(e,d){if(!h){var b=tinymce.ui;for(f in b)l[f.toLowerCase()]=b[f];h=!0}"string"==
typeof e?(d=d||{},d.type=e):(d=e,e=d.type);e=e.toLowerCase();var f=l[e];if(!f)throw Error("Could not find control by type: "+e);f=new f(d);f.type=e;return f}}});w("tinymce/ui/KeyboardNavigation",[],function(){return function(l){function h(a){return(a=a||q)&&1===a.nodeType?a.getAttribute("role"):null}function e(a){for(var b=a||q;b=b.parentNode;)if(a=h(b))return a}function d(a){var b=q;if(b&&1===b.nodeType)return b.getAttribute("aria-"+a)}function b(a){a=a.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==
a||"SELECT"==a}function f(a){function c(a){if(1==a.nodeType&&"none"!=a.style.display&&!a.disabled){var f=b(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(h(a))?!0:!1;f&&d.push(a);for(f=0;f<a.childNodes.length;f++)c(a.childNodes[f])}}var d=[];c(a||y.getEl());return d}function a(a){a=a||p;var b=a.parents().toArray();b.unshift(a);for(a=0;a<b.length;a++){var c=b[a];if(c.settings.ariaRoot)break}return c}function c(a,b){0>a?a=b.length-1:a>=b.length&&(a=
0);b[a]&&b[a].focus();return a}function k(b,d){var e=-1,g=a();d=d||f(g.getEl());for(var k=0;k<d.length;k++)d[k]===q&&(e=k);g.lastAriaIndex=c(e+b,d)}function m(){"tablist"==e()?k(-1,f(q.parentNode)):p.parent().submenu?p.fire("cancel"):k(-1)}function v(){var a=h(),b=e();"tablist"==b?k(1,f(q.parentNode)):"menuitem"==a&&"menu"==b&&d("haspopup")?t():k(1)}function u(){k(-1)}function g(){var a=h(),b=e();"menuitem"==a&&"menubar"==b?t():"button"==a&&d("haspopup")?t({key:"down"}):k(1)}function n(a){"tablist"==
e()?(a=f(p.getEl("body"))[0])&&a.focus():k(a.shiftKey?-1:1)}function t(a){a=a||{};p.fire("click",{target:q,aria:a})}var y=l.root;try{var q=document.activeElement}catch(r){q=document.body}var p=y.getParentCtrl(q);y.on("keydown",function(a){function c(a,c){b(q)||"slider"!==h(q)&&!1!==c(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:c(a,m);break;case 39:c(a,v);break;case 38:c(a,u);break;case 40:c(a,g);break;case 27:p.fire("cancel");break;case 14:case 13:case 32:c(a,t);break;
case 9:!1!==n(a)&&a.preventDefault()}});y.on("focusin",function(a){q=a.target;p=a.control});return{focusFirst:function(b){b=a(b);var d=f(b.getEl());b.settings.ariaRemember&&"lastAriaIndex"in b?c(b.lastAriaIndex,d):c(0,d)}}}});w("tinymce/ui/Container","tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/util/Tools tinymce/dom/DomQuery tinymce/ui/ClassList tinymce/ui/ReflowQueue".split(" "),function(l,h,e,d,b,f,a,c,k){var m={};return l.extend({init:function(a){var b=
this;b._super(a);a=b.settings;a.fixed&&b.state.set("fixed",!0);b._items=new h;b.isRtl()&&b.classes.add("rtl");b.bodyClasses=new c(function(){b.state.get("rendered")&&(b.getEl("body").className=this.toString())});b.bodyClasses.prefix=b.classPrefix;b.classes.add("container");b.bodyClasses.add("container-body");a.containerCls&&b.classes.add(a.containerCls);b._layout=d.create((a.layout||"")+"layout");b.settings.items?b.add(b.settings.items):b.add(b.render());b._hasBody=!0},items:function(){return this._items},
find:function(a){a=m[a]=m[a]||new e(a);return a.find(this)},add:function(a){this.items().add(this.create(a)).parent(this);return this},focus:function(a){var b;if(a&&(a=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)){a.focusFirst(this);return}a=this.find("*");this.statusbar&&a.add(this.statusbar.items());a.each(function(a){if(a.settings.autofocus)return b=null,!1;a.canFocus&&(b=b||a)});b&&b.focus();return this},replace:function(a,b){var c=this.items();for(var d=c.length;d--;)if(c[d]===a){c[d]=
b;break}0<=d&&((c=b.getEl())&&c.parentNode.removeChild(c),(c=a.getEl())&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var b=this,c,e=[];f.isArray(a)||(a=[a]);f.each(a,function(a){a&&(a instanceof l||("string"==typeof a&&(a={type:a}),c=f.extend({},b.settings.defaults,a),a.type=c.type=c.type||a.type||b.settings.defaultType||(c.defaults?c.defaults.type:null),a=d.create(c)),e.push(a))});return e},renderNew:function(){var b=this;b.items().each(function(c,d){c.parent(b);if(!c.state.get("rendered")){var f=
b.getEl("body");f.hasChildNodes()&&d<=f.childNodes.length-1?a(f.childNodes[d]).before(c.renderHtml()):a(f).append(c.renderHtml());c.postRender();k.add(c)}});b._layout.applyClasses(b.items().filter(":visible"));b._lastRect=null;return b},append:function(a){return this.add(a).renderNew()},prepend:function(a){this.items().set(this.create(a).concat(this.items().toArray()));return this.renderNew()},insert:function(a,b,c){a=this.create(a);var d=this.items();!c&&b<d.length-1&&(b+=1);0<=b&&b<d.length&&(c=
d.slice(0,b).toArray(),b=d.slice(b).toArray(),d.set(c.concat(a,b)));return this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},toJSON:function(){var a={};this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)});return a},renderHtml:function(){var a=this._layout,b=this.settings.role;this.preRender();a.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+
this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){this.items().exec("postRender");this._super();this._layout.postRender(this);this.state.set("rendered",!0);this.settings.style&&this.$el.css(this.settings.style);if(this.settings.border){var a=this.borderBox;this.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})}this.parent()||(this.keyboardNav=new b({root:this}));
return this},initLayoutRect:function(){var a=this._super();this._layout.recalc(this);return a},recalc:function(){var a=this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;k.remove(this);if(this.visible()){l.repaintControls=[];l.repaintControls.map={};this.recalc();for(a=l.repaintControls.length;a--;)l.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==
this.settings.layout&&this.repaint();l.repaintControls=[]}return this}})});w("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(l){function h(e){var d;if(e.changedTouches){var b="screenX screenY pageX pageY clientX clientY".split(" ");for(d=0;d<b.length;d++)e[b[d]]=e.changedTouches[0][b[d]]}}return function(e,d){var b,f=d.document||document,a,c,k;d=d||{};var m=function(b){h(b);if(b.button!==a)return v(b);b.deltaX=b.screenX-c;b.deltaY=b.screenY-k;b.preventDefault();d.drag(b)};var v=function(a){h(a);
l(f).off("mousemove touchmove",m).off("mouseup touchend",v);b.remove();d.stop&&d.stop(a)};this.destroy=function(){l(f.getElementById(d.handle||e)).off()};l(f.getElementById(d.handle||e)).on("mousedown touchstart",function(u){var g=Math.max;var n=f.documentElement;var t=f.body;var y=g(n.scrollWidth,t.scrollWidth);var q=g(n.clientWidth,t.clientWidth);var p=g(n.offsetWidth,t.offsetWidth);var r=g(n.scrollHeight,t.scrollHeight);var D=g(n.clientHeight,t.clientHeight);n=g(n.offsetHeight,t.offsetHeight);
y=y<p?q:y;r=r<n?D:r;h(u);u.preventDefault();a=u.button;D=f.getElementById(d.handle||e);c=u.screenX;k=u.screenY;D=window.getComputedStyle?window.getComputedStyle(D,null).getPropertyValue("cursor"):D.runtimeStyle.cursor;b=l("<div></div>").css({position:"absolute",top:0,left:0,width:y,height:r,zIndex:2147483647,opacity:1E-4,cursor:D}).appendTo(f.body);l(f).on("mousemove touchmove",m).on("mouseup touchend",v);d.start(u)})}});w("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(l,
h){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function e(){function d(a,d,f,g,k,h){var n;if(n=b.getEl("scroll"+a)){var m=d.toLowerCase();var p=f.toLowerCase();l(b.getEl("absend")).css(m,b.layoutRect()[g]-1);k?(l(n).css("display","block"),g=b.getEl("body"),a=b.getEl("scroll"+a+"t"),k=g["client"+f]-4,k-=c&&e?n["client"+h]:0,f=g["scroll"+f],f=k/f,h={},h[m]=g["offset"+d]+2,h[p]=k,l(n).css(h),h={},h[m]=g["scroll"+d]*f,h[p]=k*f,l(a).css(h)):l(n).css("display","none")}}
var a=b.getEl("body");var c=a.scrollWidth>a.clientWidth;var e=a.scrollHeight>a.clientHeight;d("h","Left","Width","contentW",c,"Height");d("v","Top","Height","contentH",e,"Width")}function d(){function d(a,c,d,f,e){var k,g=b._id+"-scroll"+a,n=b.classPrefix;l(b.getEl()).append('<div id="'+g+'" class="'+n+"scrollbar "+n+"scrollbar-"+a+'"><div id="'+g+'t" class="'+n+'scrollbar-thumb"></div></div>');b.draghelper=new h(g+"t",{start:function(){k=b.getEl("body")["scroll"+c];l("#"+g).addClass(n+"active")},
drag:function(g){var h=b.layoutRect();var n=h.contentW>h.innerW;h=h.contentH>h.innerH;var l=b.getEl("body")["client"+d]-4;l-=n&&h?b.getEl("scroll"+a)["client"+e]:0;n=l/b.getEl("body")["scroll"+d];b.getEl("body")["scroll"+c]=k+g["delta"+f]/n},stop:function(){l("#"+g).removeClass(n+"active")}})}b.classes.add("scroll");d("v","Top","Height","Y","Width");d("h","Left","Width","X","Height")}var b=this;b.settings.autoScroll&&(b._hasScroll||(b._hasScroll=!0,d(),b.on("wheel",function(d){var a=b.getEl("body");
a.scrollLeft+=10*(d.deltaX||0);a.scrollTop+=10*d.deltaY;e()}),l(b.getEl("body")).on("scroll",e)),e())}}});w("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(l,h){return l.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[h],renderHtml:function(){var e=this._layout,d=this.settings.html;this.preRender();e.preRender(this);"undefined"==typeof d?d='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+e.renderHtml(this)+"</div>":("function"==typeof d&&(d=d.call(this)),
this._hasBody=!1);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+d+"</div>"}})});w("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(l){function h(e,d,b){var f=l.getViewPort();var a=l.getPos(d);var c=a.x;a=a.y;e.state.get("fixed")&&"static"==l.getRuntimeStyle(document.body,"position")&&(c-=f.x,a-=f.y);e=e.getEl();var k=l.getSize(e);e=k.width;f=k.height;k=l.getSize(d);d=k.width;k=k.height;b=(b||"").split("");"b"===b[0]&&
(a+=k);"r"===b[1]&&(c+=d);"c"===b[0]&&(a+=Math.round(k/2));"c"===b[1]&&(c+=Math.round(d/2));"b"===b[3]&&(a-=f);"r"===b[4]&&(c-=e);"c"===b[3]&&(a-=Math.round(f/2));"c"===b[4]&&(c-=Math.round(e/2));return{x:c,y:a,w:e,h:f}}return{testMoveRel:function(e,d){for(var b=l.getViewPort(),f=0;f<d.length;f++){var a=h(this,e,d[f]);if(this.state.get("fixed")){if(0<a.x&&a.x+a.w<b.w&&0<a.y&&a.y+a.h<b.h)return d[f]}else if(a.x>b.x&&a.x+a.w<b.w+b.x&&a.y>b.y&&a.y+a.h<b.h+b.y)return d[f]}return d[0]},moveRel:function(e,
d){"string"!=typeof d&&(d=this.testMoveRel(e,d));var b=h(this,e,d);return this.moveTo(b.x,b.y)},moveBy:function(e,d){var b=this.layoutRect();this.moveTo(b.x+e,b.y+d);return this},moveTo:function(e,d){function b(a,b,d){return 0>a?0:a+d>b?(a=b-d,0>a?0:a):a}if(this.settings.constrainToViewport){var f=l.getViewPort(window),a=this.layoutRect();e=b(e,f.w+f.x,a.w);d=b(d,f.h+f.y,a.h)}this.state.get("rendered")?this.layoutRect({x:e,y:d}).repaint():(this.settings.x=e,this.settings.y=d);this.fire("move",{x:e,
y:d});return this}}});w("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(l){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(h,e){if(1>=h||1>=e){var d=l.getWindowSize();h=1>=h?h*d.w:h;e=1>=e?e*d.h:e}this._layoutRect.autoResize=!1;return this.layoutRect({minW:h,minH:e,w:h,h:e}).reflow()},resizeBy:function(h,e){var d=this.layoutRect();return this.resizeTo(d.w+h,d.h+e)}}});w("tinymce/ui/FloatPanel","tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/util/Delay".split(" "),
function(l,h,e,d,b,f){function a(){g||(g=function(a){if(2!=a.button)for(var b=y.length;b--;){var c=y[b],d=c.getParentCtrl(a.target),f;if((f=c.settings.autohide)&&!(f=!d)){a:{f=d;for(var e=c;f;){if(f==e){f=!0;break a}f=f.parent()}f=void 0}f=!f&&c.parent()!==d}f&&(a=c.fire("autohide",{target:a.target}),a.isDefaultPrevented()||c.hide())}},b(document).on("click touchstart",g))}function c(){n||(n=function(){var a;for(a=y.length;a--;)m(y[a])},b(window).on("scroll",n))}function k(){if(!t){var a=document.documentElement,
c=a.clientWidth,d=a.clientHeight;t=function(){document.all&&c==a.clientWidth&&d==a.clientHeight||(c=a.clientWidth,d=a.clientHeight,r.hideAll())};b(window).on("resize",t)}}function m(a){function b(b,c){for(var d,f=0;f<y.length;f++)if(y[f]!=a)for(d=y[f].parent();d&&(d=d.parent());)d==a&&y[f].fixed(b).moveBy(0,c).repaint()}var c=d.getViewPort().y;a.settings.autofix&&(a.state.get("fixed")?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,
a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function v(a,c){var d,f=r.zIndex||65535;if(a)q.push(c);else for(d=q.length;d--;)q[d]===c&&q.splice(d,1);if(q.length)for(d=0;d<q.length;d++){if(q[d].modal){f++;var e=q[d]}q[d].getEl().style.zIndex=f;q[d].zIndex=f;f++}d=b("#"+c.classPrefix+"modal-block",c.getContainerElm())[0];e?b(d).css("z-index",e.zIndex-1):d&&(d.parentNode.removeChild(d),p=!1);r.currentZIndex=f}function u(a){var b;for(b=y.length;b--;)y[b]===a&&y.splice(b,
1);for(b=q.length;b--;)q[b]===a&&q.splice(b,1)}var g,n,t,y=[],q=[],p,r=l.extend({Mixins:[h,e],init:function(d){var e=this;e._super(d);e._eventsRoot=e;e.classes.add("floatpanel");d.autohide&&(a(),k(),y.push(e));d.autofix&&(c(),e.on("move",function(){m(this)}));e.on("postrender show",function(a){if(a.control==e){var c=e.classPrefix;if(e.modal&&!p){var d=b("#"+c+"modal-block",e.getContainerElm());d[0]||(d=b('<div id="'+c+'modal-block" class="'+c+"reset "+c+'fade"></div>').appendTo(e.getContainerElm()));
f.setTimeout(function(){d.addClass(c+"in");b(e.getEl()).addClass(c+"in")});p=!0}v(!0,e)}});e.on("show",function(){e.parents().each(function(a){if(a.state.get("fixed"))return e.fixed(!0),!1})});d.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start"));e.aria("label",d.ariaLabel);e.aria("labelledby",e._id);e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(a){if(this.state.get("fixed")!=a){if(this.state.get("rendered")){var b=
d.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.classes.toggle("fixed",a);this.state.set("fixed",a)}return this},show:function(){var a,b=this._super();for(a=y.length;a--&&y[a]!==this;);-1===a&&y.push(this);return b},hide:function(){u(this);v(!1,this);return this._super()},hideAll:function(){r.hideAll()},close:function(){this.fire("close").isDefaultPrevented()||(this.remove(),v(!1,this));return this},remove:function(){u(this);this._super()},postRender:function(){this.settings.bodyRole&&
this.getEl("body").setAttribute("role",this.settings.bodyRole);return this._super()}});r.hideAll=function(){for(var a=y.length;a--;){var b=y[a];b&&b.settings.autohide&&(b.hide(),y.splice(a,1))}};return r});w("tinymce/ui/Window","tinymce/ui/FloatPanel tinymce/ui/Panel tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/ui/DragHelper tinymce/ui/BoxUtils tinymce/Env tinymce/util/Delay".split(" "),function(l,h,e,d,b,f,a,c){function k(b){var c=d("meta[name=viewport]")[0],f;!1!==a.overrideViewPort&&(c||(c=
document.createElement("meta"),c.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(c)),(f=c.getAttribute("content"))&&"undefined"!=typeof v&&(v=f),c.setAttribute("content",b?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":v))}var m=[],v="";l=l.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},
init:function(a){var b=this;b._super(a);b.isRtl()&&b.classes.add("rtl");b.classes.add("window");b.bodyClasses.add("window-body");b.state.set("fixed",!0);a.buttons&&(b.statusbar=new h({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b));b.on("click",function(a){var c=b.classPrefix+"close";(e.hasClass(a.target,c)||e.hasClass(a.target.parentNode,c))&&b.close()});
b.on("cancel",function(){b.close()});b.aria("describedby",b.describedBy||b._id+"-none");b.aria("label",a.title);b._fullscreen=!1},recalc:function(){var a=this.statusbar;this._fullscreen&&(this.layoutRect(e.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();var b=this.layoutRect();if(this.settings.title&&!this._fullscreen){var c=b.headerW;if(c>b.w){var d=b.x-Math.max(0,c/2);this.layoutRect({w:c,x:d});d=!0}}a&&(a.layoutRect({w:this.layoutRect().innerW}).recalc(),c=a.layoutRect().minW+
b.deltaW,c>b.w&&(d=b.x-Math.max(0,c-b.w),this.layoutRect({w:c,x:d}),d=!0));d&&this.recalc()},initLayoutRect:function(){var a=this._super(),b=0;if(this.settings.title&&!this._fullscreen){var c=this.getEl("head");c=e.getSize(c);a.headerW=c.width;a.headerH=c.height;b+=a.headerH}this.statusbar&&(b+=this.statusbar.layoutRect().h);a.deltaH+=b;a.minH+=b;a.h+=b;b=e.getWindowSize();a.x=this.settings.x||Math.max(0,b.w/2-a.w/2);a.y=this.settings.y||Math.max(0,b.h/2-a.h/2);return a},renderHtml:function(){var a=
this._layout,b=this._id,c=this.classPrefix,d=this.settings,f="",e="",k=d.html;this.preRender();a.preRender(this);d.title&&(f='<div id="'+b+'-head" class="'+c+'window-head"><div id="'+b+'-title" class="'+c+'title">'+this.encode(d.title)+'</div><div id="'+b+'-dragh" class="'+c+'dragh"></div><button type="button" class="'+c+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>');d.url&&(k='<iframe src="'+d.url+'" tabindex="-1"></iframe>');"undefined"==typeof k&&(k=a.renderHtml(this));
this.statusbar&&(e=this.statusbar.renderHtml());return'<div id="'+b+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+f+'<div id="'+b+'-body" class="'+this.bodyClasses+'">'+k+"</div>"+e+"</div></div>"},fullscreen:function(a){var b=this,k=document.documentElement,h,l=b.classPrefix;if(a!=b._fullscreen){d(window).on("resize",function(){if(b._fullscreen)if(h)b._timer||(b._timer=c.setTimeout(function(){var a=e.getWindowSize();b.moveTo(0,0).resizeTo(a.w,
a.h);b._timer=0},50));else{var a=(new Date).getTime();var d=e.getWindowSize();b.moveTo(0,0).resizeTo(d.w,d.h);50<(new Date).getTime()-a&&(h=!0)}});var m=b.layoutRect();(b._fullscreen=a)?(b._initial={x:m.x,y:m.y,w:m.w,h:m.h},b.borderBox=f.parseBox("0"),b.getEl("head").style.display="none",m.deltaH-=m.headerH+2,d([k,document.body]).addClass(l+"fullscreen"),b.classes.add("fullscreen"),a=e.getWindowSize(),b.moveTo(0,0).resizeTo(a.w,a.h)):(b.borderBox=f.parseBox(b.settings.border),b.getEl("head").style.display=
"",m.deltaH+=m.headerH,d([k,document.body]).removeClass(l+"fullscreen"),b.classes.remove("fullscreen"),b.moveTo(b._initial.x,b._initial.y).resizeTo(b._initial.w,b._initial.h))}return b.reflow()},postRender:function(){var a,c,d=this;setTimeout(function(){d.classes.add("in");d.fire("open")},0);d._super();d.statusbar&&d.statusbar.postRender();d.focus();this.dragHelper=new b(d._id+"-dragh",{start:function(){a=d.layoutRect().x;c=d.layoutRect().y},drag:function(b){d.moveTo(a+b.deltaX,c+b.deltaY)}});d.on("submit",
function(a){a.isDefaultPrevented()||d.close()});m.push(d);k(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();var a=this.classPrefix;var b;a:{for(b=0;b<m.length;b++)if(m[b]._fullscreen){b=!0;break a}b=!1}b&&d([document.documentElement,document.body]).removeClass(a+"fullscreen");for(a=m.length;a--;)m[a]===this&&m.splice(a,1);k(0<m.length)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];
return a?a.contentWindow:null}});(function(){if(!a.desktop){var b=window.innerWidth,f=window.innerHeight;c.setInterval(function(){var a=window.innerWidth,c=window.innerHeight;if(b!=a||f!=c)b=a,f=c,d(window).trigger("resize")},100)}d(window).on("resize",function(){var a,b=e.getWindowSize();for(a=0;a<m.length;a++){var c=m[a].layoutRect();m[a].moveTo(m[a].settings.x||Math.max(0,b.w/2-c.w/2),m[a].settings.y||Math.max(0,b.h/2-c.h/2))}})})();return l});w("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(l){var h=
l.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function d(a,c,d){return{type:"button",text:a,subtype:d?"primary":"",onClick:function(a){a.control.parents()[1].close();b(c)}}}var b=e.callback||function(){};switch(e.buttons){case h.OK_CANCEL:var f=
[d("Ok",!0,!0),d("Cancel",!1)];break;case h.YES_NO:case h.YES_NO_CANCEL:f=[d("Yes",1,!0),d("No",0)];e.buttons==h.YES_NO_CANCEL&&f.push(d("Cancel",-1));break;default:f=[d("Ok",!0,!0)]}return(new l({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:f,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){b(!1)}})).renderTo(document.body).reflow()},
alert:function(e,d){"string"==typeof e&&(e={text:e});e.callback=d;return h.msgBox(e)},confirm:function(e,d){"string"==typeof e&&(e={text:e});e.callback=d;e.buttons=h.OK_CANCEL;return h.msgBox(e)}}});return h});w("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(l,h){return function(e){function d(){if(a.length)return a[a.length-1]}function b(a){e.fire("OpenWindow",{win:a})}function f(a){e.fire("CloseWindow",{win:a})}var a=[];this.windows=a;e.on("remove",function(){for(var b=
a.length;b--;)a[b].close()});this.open=function(c,d){e.editorManager.setActive(e);c.title=c.title||" ";c.url=c.url||c.file;c.url&&(c.width=parseInt(c.width||320,10),c.height=parseInt(c.height||240,10));c.body&&(c.items={defaults:c.defaults,type:c.bodyType||"form",items:c.body,data:c.data,callbacks:c.commands});c.url||c.buttons||(c.buttons=[{text:"Ok",subtype:"primary",onclick:function(){k.find("form")[0].submit()}},{text:"Cancel",onclick:function(){k.close()}}]);var k=new l(c);a.push(k);k.on("close",
function(){for(var b=a.length;b--;)a[b]===k&&a.splice(b,1);a.length||e.focus();f(k)});if(c.data)k.on("postRender",function(){this.find("*").each(function(a){var b=a.name();b in c.data&&a.value(c.data[b])})});k.features=c||{};k.params=d||{};1===a.length&&e.nodeChanged();k=k.renderTo().reflow();b(k);return k};this.alert=function(a,d,l){var c=h.alert(a,function(){d?d.call(l||this):e.focus()});c.on("close",function(){f(c)});b(c)};this.confirm=function(a,d,e){var c=h.confirm(a,function(a){d.call(e||this,
a)});c.on("close",function(){f(c)});b(c)};this.close=function(){d()&&d().close()};this.getParams=function(){return d()?d().params:null};this.setParams=function(a){d()&&(d().params=a)};this.getWindows=function(){return a}}});w("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(l,h){return l.extend({Mixins:[h],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+
e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;e.state.on("change:text",function(d){e.getEl().lastChild.innerHTML=e.encode(d.value)});return e._super()},repaint:function(){var e=this.getEl().style;var d=this._layoutRect;e.left=d.x+"px";e.top=d.y+"px";e.zIndex=131070}})});w("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(l,h){var e,d=l.extend({init:function(b){var f=this;f._super(b);
b=f.settings;f.canFocus=!0;b.tooltip&&!1!==d.tooltips&&(f.on("mouseenter",function(a){var c=f.tooltip().moveTo(-65535);a.control==f?(a=c.text(b.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]),c.classes.toggle("tooltip-n","bc-tc"==a),c.classes.toggle("tooltip-nw","bc-tl"==a),c.classes.toggle("tooltip-ne","bc-tr"==a),c.moveRel(f.getEl(),a)):c.hide()}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()}));f.aria("label",b.ariaLabel||b.tooltip)},tooltip:function(){e||(e=
new h({type:"tooltip"}),e.renderTo());return e},postRender:function(){var b=this.settings;this._super();this.parent()||!b.width&&!b.height||(this.initLayoutRect(),this.repaint());b.autofocus&&this.focus()},bindStates:function(){function b(b){a.aria("disabled",b);a.classes.toggle("disabled",b)}function d(b){a.aria("pressed",b);a.classes.toggle("active",b)}var a=this;a.state.on("change:disabled",function(a){b(a.value)});a.state.on("change:active",function(a){d(a.value)});a.state.get("disabled")&&b(!0);
a.state.get("active")&&d(!0);return a._super()},remove:function(){this._super();e&&(e.remove(),e=null)}});return d});w("tinymce/ui/Progress",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{value:0},init:function(h){this._super(h);this.classes.add("progress");this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var h=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+h+'bar-container"><div class="'+h+'bar"></div></div><div class="'+
h+'text">0%</div></div>'},postRender:function(){this._super();this.value(this.settings.value);return this},bindStates:function(){function h(d){d=e.settings.filter(d);e.getEl().lastChild.innerHTML=d+"%";e.getEl().firstChild.firstChild.style.width=d+"%"}var e=this;e.state.on("change:value",function(d){h(d.value)});h(e.state.get("value"));return e._super()}})});w("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(l,h,e,d){return l.extend({Mixins:[h],
Defaults:{classes:"widget notification"},init:function(b){var d=this;d._super(b);b.text&&d.text(b.text);b.icon&&(d.icon=b.icon);b.color&&(d.color=b.color);b.type&&d.classes.add("notification-"+b.type);b.timeout&&(0>b.timeout||0<b.timeout)&&!b.closeButton?d.closeButton=!1:(d.classes.add("has-close"),d.closeButton=!0);b.progressBar&&(d.progressBar=new e);d.on("click",function(a){-1!=a.target.className.indexOf(d.classPrefix+"close")&&d.close()})},renderHtml:function(){var b=this.classPrefix,d="",a="",
c="",e="";this.icon&&(d='<i class="'+b+"ico "+b+"i-"+this.icon+'"></i>');this.color&&(e=' style="background-color: '+this.color+'"');this.closeButton&&(a='<button type="button" class="'+b+'close" aria-hidden="true">\u00d7</button>');this.progressBar&&(c=this.progressBar.renderHtml());return'<div id="'+this._id+'" class="'+this.classes+'"'+e+' role="presentation">'+d+'<div class="'+b+'notification-inner">'+this.state.get("text")+"</div>"+c+a+"</div>"},postRender:function(){var b=this;d.setTimeout(function(){b.$el.addClass(b.classPrefix+
"in")});return b._super()},bindStates:function(){var b=this;b.state.on("change:text",function(d){b.getEl().childNodes[1].innerHTML=d.value});b.progressBar&&b.progressBar.bindStates();return b._super()},close:function(){this.fire("close").isDefaultPrevented()||this.remove();return this},repaint:function(){var b=this.getEl().style;var d=this._layoutRect;b.left=d.x+"px";b.top=d.y+"px";b.zIndex=65534}})});w("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay","tinymce/util/Tools"],
function(l,h,e){return function(d){function b(){if(c.length)return c[c.length-1]}function f(){if(0<c.length){var a=c.slice(0,1)[0],b=d.inline?d.getElement():d.getContentAreaContainer();a.moveRel(b,"tc-tc");if(1<c.length)for(a=1;a<c.length;a++)c[a].moveRel(c[a-1].getEl(),"bc-tc")}}function a(a,b){if(b.progressBar||b.timeout)return null;var c=e.grep(a,function(a){return b.type===a.settings.type&&b.text===a.settings.text});return 0===c.length?null:c[0]}var c=[];this.notifications=c;d.on("remove",function(){for(var a=
c.length;a--;)c[a].close()});d.on("ResizeEditor",f);d.on("ResizeWindow",function(){h.requestAnimationFrame(function(){for(var a=0;a<c.length;a++)c[a].moveTo(0,0);f()})});this.open=function(b){if(!d.removed){d.editorManager.setActive(d);var e=a(c,b);if(null===e){var k=new l(b);c.push(k);0<b.timeout&&(k.timer=setTimeout(function(){k.close()},b.timeout));k.on("close",function(){var a=c.length;for(k.timer&&d.getWin().clearTimeout(k.timer);a--;)c[a]===k&&c.splice(a,1);f()});k.renderTo();f()}else k=e;return k}};
this.close=function(){b()&&b().close()};this.getNotifications=function(){return c};d.on("SkinLoaded",function(){var a=d.settings.service_message;a&&d.notificationManager.open({text:a,type:"warning",timeout:0,icon:""})})}});w("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(l){return{create:function(h,e,d){for(var b=[];e&&e!=h;e=e.parentNode)b.push(l.nodeIndex(e,d));return b},resolve:function(h,e){var d;var b=h;for(d=e.length-1;0<=d;d--){b=b.childNodes;if(e[d]>b.length-1)return null;b=b[e[d]]}return b}}});
w("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/dom/TreeWalker tinymce/dom/NodePath tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/util/Delay tinymce/caret/CaretContainer tinymce/caret/CaretPosition tinymce/caret/CaretWalker".split(" "),function(l,h,e,d,b,f,a,c,k,m,v,u){return function(g){function n(a,b){try{g.getDoc().execCommand(a,!1,b)}catch(ra){}}function t(){var a=g.getDoc().documentMode;return a?a:6}function y(a){if(a.dataTransfer){g.selection.isCollapsed()&&
"IMG"==a.target.tagName&&X.select(a.target);var b=g.selection.getContent();0<b.length&&(b="data:text/mce-internal,"+escape(g.id)+","+escape(b),a.dataTransfer.setData(na,b))}}function q(a){return a.dataTransfer&&(a=a.dataTransfer.getData(na))&&0<=a.indexOf("data:text/mce-internal,")?(a=a.substr(23).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null}function p(a){g.queryCommandSupported("mceInsertClipboardContent")?g.execCommand("mceInsertClipboardContent",!1,{content:a}):g.execCommand("mceInsertContent",
!1,a)}function r(){function a(a){var b=x.schema.getBlockElements(),c=g.getBody();if("BR"!=a.nodeName)return!1;for(;a!=c&&!b[a.nodeName];a=a.parentNode)if(a.nextSibling)return!1;return!0}function b(a,b){var c;for(c=a.nextSibling;c&&c!=b;c=c.nextSibling)if((3!=c.nodeType||0!==W.trim(c.data).length)&&c!==b)return!1;return c===b}function f(b,c,d){if(x.isChildOf(b,g.getBody())){var f=x.schema.getNonEmptyElements();for(b=new e(d||b,b);d=b[c?"next":"prev"]();)if(f[d.nodeName]&&!a(d)||3==d.nodeType&&0<d.data.length)return d}}
function n(a,c){if(!a.collapsed)return a;var d=a.startContainer;var e=a.startOffset;if(3==d.nodeType)if(c){if(e<d.data.length)return a}else if(0<e)return a;var k=h.getNode(d,e);var n=x.getParent(k,x.isBlock);var l=f(g.getBody(),c,k);var m=x.getParent(l,x.isBlock);d=1===d.nodeType&&e>d.childNodes.length-1;if(!k||!l)return a;if(m&&n!=m)if(c){if(!b(n,m))return a;1==k.nodeType?"BR"==k.nodeName?a.setStartBefore(k):a.setStartAfter(k):a.setStart(k,k.data.length);1==l.nodeType?a.setEnd(l,0):a.setEndBefore(l)}else{if(!b(m,
n))return a;1==l.nodeType?"BR"==l.nodeName?a.setStartBefore(l):a.setStartAfter(l):a.setStart(l,l.data.length);1==k.nodeType?d?a.setEndAfter(k):a.setEndBefore(k):a.setEndBefore(k)}return a}function m(a){var b=C.getRng(),b=n(b,a);a:{a=b;if(!a.collapsed){b=x.getParent(h.getNode(a.startContainer,a.startOffset));var c=x.getParent(h.getNode(a.endContainer,a.endOffset),x.isBlock);var d=g.schema.getTextBlockElements();if(b!=c&&d[b.nodeName]&&d[c.nodeName]&&"false"!==x.getContentEditable(b)&&"false"!==x.getContentEditable(c)){a.deleteContents();
d=f(b,!1);var e=f(c,!0);x.isEmpty(c)||W(b).append(c.childNodes);W(c).remove();d?1==d.nodeType?"BR"==d.nodeName?(a.setStartBefore(d),a.setEndBefore(d)):(a.setStartAfter(d),a.setEndAfter(d)):(a.setStart(d,d.data.length),a.setEnd(d,d.data.length)):e&&(1==e.nodeType?(a.setStartBefore(e),a.setEndBefore(e)):(a.setStart(e,0),a.setEnd(e,0)));C.setRng(a);a=!0;break a}}a=void 0}if(a)return!0}function r(a,b){function f(a,d){n=W(d).parents().filter(function(a,b){return!!g.schema.getTextInlineElements()[b.nodeName]});
k=a.cloneNode(!1);n=c.map(n,function(a){a=a.cloneNode(!1);k.hasChildNodes()&&a.appendChild(k.firstChild);k.appendChild(a);k.appendChild(a);return a});return n.length?(h=x.create("br"),n[0].appendChild(h),x.replace(k,a),b.setStartBefore(h),b.setEndBefore(h),g.selection.setRng(b),h):null}function e(a){return a&&g.schema.getTextBlockElements()[a.tagName]}var k,h,n;if(b.collapsed){var l=b.startContainer;var m=b.startOffset;var r=x.getParent(l,x.isBlock);if(e(r))if(1==l.nodeType){if(l=l.childNodes[m],
!l||"BR"==l.tagName){var q=a?r.nextSibling:r.previousSibling;if(x.isEmpty(r)&&e(q)&&x.isEmpty(q)&&f(r,l))return x.remove(q),!0}}else if(3==l.nodeType){l=d.create(r,l);q=r.cloneNode(!0);l=d.resolve(q,l);if(a){if(m>=l.data.length)return;l.deleteData(m,1)}else{if(0>=m)return;l.deleteData(m-1,1)}if(x.isEmpty(q))return f(r,l)}}}function t(a){if(!m(a)){c.each(g.getBody().getElementsByTagName("*"),function(a){"SPAN"==a.tagName&&a.setAttribute("mce-data-marked",1);!a.hasAttribute("data-mce-style")&&a.hasAttribute("style")&&
g.dom.setAttrib(a,"style",g.dom.getAttrib(a,"style"))});var b=new z(function(){});b.observe(g.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]});g.getDoc().execCommand(a?"ForwardDelete":"Delete",!1,null);var d=g.selection.getRng();var f=d.startContainer.parentNode;c.each(b.takeRecords(),function(a){if(x.isChildOf(a.target,g.getBody())){if("style"==a.attributeName){var b=a.target.getAttribute("data-mce-style");b?a.target.setAttribute("style",b):a.target.removeAttribute("style")}c.each(a.addedNodes,
function(a){if("SPAN"==a.nodeName&&!a.getAttribute("mce-data-marked")){if(a==f){var b=d.startOffset;var c=a.firstChild}x.remove(a,!0);c&&(d.setStart(c,b),d.setEnd(c,b),g.selection.setRng(d))}})}});b.disconnect();c.each(g.dom.select("span[mce-data-marked]"),function(a){a.removeAttribute("mce-data-marked")})}}function u(a){g.undoManager.transact(function(){t(a)})}var v=g.getDoc(),x=g.dom,C=g.selection,z=window.MutationObserver,A;if(!z){var D=!0;z=function(){function a(a){a=a.relatedNode||a.target;c.push({target:a,
addedNodes:[a]})}function b(a){c.push({target:a.relatedNode||a.target,attributeName:a.attrName})}var c=[],d;this.observe=function(c){d=c;d.addEventListener("DOMSubtreeModified",a,!1);d.addEventListener("DOMNodeInsertedIntoDocument",a,!1);d.addEventListener("DOMNodeInserted",a,!1);d.addEventListener("DOMAttrModified",b,!1)};this.disconnect=function(){d.removeEventListener("DOMSubtreeModified",a,!1);d.removeEventListener("DOMNodeInsertedIntoDocument",a,!1);d.removeEventListener("DOMNodeInserted",a,
!1);d.removeEventListener("DOMAttrModified",b,!1)};this.takeRecords=function(){return c}}}g.on("keydown",function(a){var b=a.keyCode==fa,c=a.ctrlKey||a.metaKey;if(!a.isDefaultPrevented()&&(b||a.keyCode==ia)){var d=g.selection.getRng(),f=d.startContainer,e=d.startOffset;b&&a.shiftKey||(r(b,d)?a.preventDefault():!c&&d.collapsed&&3==f.nodeType&&(b?e<f.data.length:0<e)||(a.preventDefault(),c&&g.selection.getSel().modify("extend",b?"forward":"backward",a.metaKey?"lineboundary":"word"),t(b)))}});g.on("keypress",
function(a){if(!a.isDefaultPrevented()&&!C.isCollapsed()&&31<a.charCode&&!l.metaKeyPressed(a)){var b;var c=g.selection.getRng();var d=String.fromCharCode(a.charCode);a.preventDefault();a=W(c.startContainer).parents().filter(function(a,b){return!!g.schema.getTextInlineElements()[b.nodeName]});t(!0);a=a.filter(function(a,b){return!W.contains(g.getBody(),b)});if(a.length){var f=x.createFragment();a.each(function(a,c){c=c.cloneNode(!1);f.hasChildNodes()?c.appendChild(f.firstChild):b=c;f.appendChild(c);
f.appendChild(c)});b.appendChild(g.getDoc().createTextNode(d));d=x.getParent(c.startContainer,x.isBlock);x.isEmpty(d)?W(d).empty().append(f):c.insertNode(f);c.setStart(b.firstChild,1);c.setEnd(b.firstChild,1);g.selection.setRng(c)}else g.selection.setContent(d)}});g.addCommand("Delete",function(){t()});g.addCommand("ForwardDelete",function(){t(!0)});D||(g.on("dragstart",function(a){A=C.getRng();y(a)}),g.on("drop",function(a){if(!a.isDefaultPrevented()){var b=q(a);b&&(a.preventDefault(),k.setEditorTimeout(g,
function(){var c=h.getCaretRangeFromPoint(a.x,a.y,v);A&&(C.setRng(A),A=null,u());C.setRng(c);p(b.html)}))}}),g.on("cut",function(a){a.isDefaultPrevented()||!a.clipboardData||g.selection.isCollapsed()||(a.preventDefault(),a.clipboardData.clearData(),a.clipboardData.setData("text/html",g.selection.getContent()),a.clipboardData.setData("text/plain",g.selection.getContent({format:"text"})),k.setEditorTimeout(g,function(){u(!0)}))}))}function D(){g.shortcuts.add("meta+a",null,"SelectAll")}function A(){g.settings.content_editable||
V.bind(g.getDoc(),"mousedown mouseup",function(a){if(a.target==g.getDoc().documentElement){var b=X.getRng();g.getBody().focus();"mousedown"==a.type?m.isCaretContainer(b.startContainer)||X.placeCaretAt(a.clientX,a.clientY):X.setRng(b)}})}function z(){g.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===ia&&g.getBody().getElementsByTagName("hr").length&&X.isCollapsed()&&0===X.getRng(!0).startOffset){var b=X.getNode(),c=b.previousSibling;"HR"==b.nodeName?(V.remove(b),a.preventDefault()):
c&&c.nodeName&&"hr"===c.nodeName.toLowerCase()&&(V.remove(c),a.preventDefault())}})}function x(){if(!window.Range.prototype.getClientRects)g.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=g.getBody();b.blur();k.setEditorTimeout(g,function(){b.focus()})}})}function w(){g.on("click",function(a){var b=a.target;/^(IMG|HR)$/.test(b.nodeName)&&"false"!==V.getContentEditableParent(b)&&(a.preventDefault(),X.select(b),g.nodeChanged());"A"==b.nodeName&&V.hasClass(b,
"mce-item-anchor")&&(a.preventDefault(),X.select(b))})}function C(){function a(){var a=V.getAttribs(X.getStart().cloneNode(!1));return function(){var b=X.getStart();b!==g.getBody()&&(V.setAttrib(b,"style",null),R(a,function(a){b.setAttributeNode(a.cloneNode(!0))}))}}function b(){return!X.isCollapsed()&&V.getParent(X.getStart(),V.isBlock)!=V.getParent(X.getEnd(),V.isBlock)}g.on("keypress",function(c){if(!c.isDefaultPrevented()&&(8==c.keyCode||46==c.keyCode)&&b()){var d=a();g.getDoc().execCommand("delete",
!1,null);d();c.preventDefault();return!1}});V.bind(g.getDoc(),"cut",function(c){if(!c.isDefaultPrevented()&&b()){var d=a();k.setEditorTimeout(g,function(){d()})}})}function H(){g.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===ia&&X.isCollapsed()&&0===X.getRng(!0).startOffset){var b=X.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})}function E(){7<t()||(n("RespectVisibilityInDesign",!0),g.contentStyles.push(".mceHideBrInPre pre br {display: none}"),
V.addClass(g.getBody(),"mceHideBrInPre"),ha.addNodeFilter("pre",function(a){for(var c=a.length,d,f,e,g;c--;)for(d=a[c].getAll("br"),f=d.length;f--;)e=d[f],(g=e.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":e.parent.insert(new b("#text",3),e,!0).value="\n"}),oa.addNodeFilter("pre",function(a){for(var b=a.length,c,d,f;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)f=c[d],(f=f.prev)&&3==f.type&&(f.value=f.value.replace(/\r?\n$/,""))}))}function M(){V.bind(g.getBody(),"mouseup",function(){var a,
b=X.getNode();if("IMG"==b.nodeName){if(a=V.getStyle(b,"width"))V.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),V.setStyle(b,"width","");if(a=V.getStyle(b,"height"))V.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),V.setStyle(b,"height","")}})}function U(){function a(){n("StyleWithCSS",!1);n("enableInlineTableEditing",!1);la.object_resizing||n("enableObjectResizing",!1)}if(!la.readonly)g.on("BeforeExecCommand MouseDown",a)}function J(){function a(){R(V.select("a"),function(a){var b=a.parentNode,c=
V.getRoot();if(b.lastChild===a){for(;b&&!V.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}V.add(b,"br",{"data-mce-bogus":1})}})}g.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function K(){if(la.forced_root_block)g.on("init",function(){n("DefaultParagraphSeparator",la.forced_root_block)})}function T(){g.on("keydown",function(a){var b;a.isDefaultPrevented()||a.keyCode!=ia||(b=g.getDoc().selection.createRange())&&b.item&&(a.preventDefault(),
g.undoManager.beforeChange(),V.remove(b.item(0)),g.undoManager.add())})}function P(){if(10<=t()){var a="";R("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"});g.contentStyles.push(a+"{padding-right: 1px !important}")}}function I(){9>t()&&(ha.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",d.value)}),oa.addNodeFilter("noscript",function(a){for(var c=a.length,d,e,g;c--;)if(d=a[c],e=a[c].firstChild)e.value=
f.decode(e.value);else if(g=d.attributes.map["data-mce-innertext"])d.attr("data-mce-innertext",null),e=new b("#text",3),e.value=g,e.raw=!0,d.append(e)}))}function L(){function a(a,b){var c=f.createTextRange();try{c.moveToPoint(a,b)}catch(xa){c=null}return c}function b(b){if(b.button){if(b=a(b.x,b.y))0<b.compareEndPoints("StartToStart",g)?b.setEndPoint("StartToStart",g):b.setEndPoint("EndToEnd",g),b.select()}else c()}function c(){var a=d.selection.createRange();g&&!a.item&&0===a.compareEndPoints("StartToEnd",
a)&&g.select();V.unbind(d,"mouseup",c);V.unbind(d,"mousemove",b);g=e=0}var d=V.doc,f=d.body,e,g,k;d.documentElement.unselectable=!0;V.bind(d,"mousedown contextmenu",function(f){"HTML"===f.target.nodeName&&(e&&c(),k=d.documentElement,!(k.scrollHeight>k.clientHeight)&&(e=1,g=a(f.x,f.y)))&&(V.bind(d,"mouseup",c),V.bind(d,"mousemove",b),V.getRoot().focus(),g.select())})}function O(){g.on("keyup focusin mouseup",function(a){65==a.keyCode&&l.metaKeyPressed(a)||X.normalize()},!0)}function F(){if(!g.inline)g.on("keydown",
function(){document.activeElement==document.body&&g.getWin().focus()})}function Q(){g.inline||(g.contentStyles.push("body {min-height: 150px}"),g.on("click",function(b){"HTML"==b.target.nodeName&&(11<a.ie?g.getBody().focus():(b=g.selection.getRng(),g.getBody().focus(),g.selection.setRng(b),g.selection.normalize(),g.nodeChanged()))}))}function ca(){if(a.mac)g.on("keydown",function(a){!l.metaKeyPressed(a)||a.shiftKey||37!=a.keyCode&&39!=a.keyCode||(a.preventDefault(),g.selection.getSel().modify("move",
37==a.keyCode?"backward":"forward","lineboundary"))})}function da(){g.on("click",function(a){var b=a.target;do if("A"===b.tagName){a.preventDefault();break}while(b=b.parentNode)});g.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function S(){g.on("init",function(){g.dom.bind(g.getBody(),"submit",function(a){a.preventDefault()})})}function B(){ha.addNodeFilter("br",function(a){for(var b=a.length;b--;)"Apple-interchange-newline"==a[b].attr("class")&&a[b].remove()})}function N(){g.on("dragstart",
function(a){y(a)});g.on("drop",function(a){if(!a.isDefaultPrevented()){var b=q(a);b&&b.id!=g.id&&(a.preventDefault(),a=h.getCaretRangeFromPoint(a.x,a.y,g.getDoc()),X.setRng(a),p(b.html))}})}function aa(){function a(a){var b=new u(a.getBody()),c=a.selection.getRng(),d=v.fromRangeStart(c),f=v.fromRangeEnd(c),c=b.prev(d),b=b.next(f);return!a.selection.isCollapsed()&&(!c||c.isAtStart()&&d.isEqual(c))&&(!b||b.isAtEnd()&&d.isEqual(b))}g.on("keypress",function(b){!b.isDefaultPrevented()&&!X.isCollapsed()&&
31<b.charCode&&!l.metaKeyPressed(b)&&a(g)&&(b.preventDefault(),g.setContent(String.fromCharCode(b.charCode)),g.selection.select(g.getBody(),!0),g.selection.collapse(!1),g.nodeChanged())});g.on("keydown",function(b){var c=b.keyCode;b.isDefaultPrevented()||c!=fa&&c!=ia||!a(g)||(b.preventDefault(),g.setContent(""),g.nodeChanged())})}var R=c.each,W=g.$,ia=l.BACKSPACE,fa=l.DELETE,V=g.dom,X=g.selection,la=g.settings,ha=g.parser,oa=g.serializer,ma=a.gecko,ba=a.ie,Y=a.webkit,na=ba?"Text":"URL";(function(){g.on("keydown",
function(a){if(!a.isDefaultPrevented()&&a.keyCode==l.BACKSPACE){a=X.getRng();var b=a.startContainer;var c=a.startOffset;var d=V.getRoot();var f=b;if(a.collapsed&&0===c){for(;f&&f.parentNode&&f.parentNode.firstChild==f&&f.parentNode!=d;)f=f.parentNode;"BLOCKQUOTE"===f.tagName&&(g.formatter.toggle("blockquote",null,f),a=V.createRng(),a.setStart(b,0),a.setEnd(b,0),X.setRng(a))}}})})();(function(){function a(a){var b=V.create("body");a=a.cloneContents();b.appendChild(a);return X.serializer.serialize(b,
{format:"html"})}g.on("keydown",function(b){var c=b.keyCode;if(!b.isDefaultPrevented()&&(c==fa||c==ia)){var d=g.selection.isCollapsed();c=g.getBody();if(!d||V.isEmpty(c)){if(d=!d){d=g.selection.getRng();if(d.setStart){d=a(d);var f=V.createRng();f.selectNode(g.getBody());f=a(f);d=d===f}else d.item?d=!1:(f=d.duplicate(),f.moveToElementText(g.getBody()),d=h.compareRanges(d,f));d=!d}d||(b.preventDefault(),g.setContent(""),c.firstChild&&V.isBlock(c.firstChild)?g.selection.setCursorLocation(c.firstChild,
0):g.selection.setCursorLocation(c,0),g.nodeChanged())}}})})();a.windowsPhone||O();Y&&(aa(),r(),A(),w(),K(),S(),H(),B(),a.iOS?(F(),Q(),da()):D());ba&&11>a.ie&&(z(),document.body.setAttribute("role","application"),E(),M(),T(),P(),I(),L());11<=a.ie&&(Q(),H());a.ie&&(D(),n("AutoUrlDetect",!1),N());ma&&(aa(),z(),x(),C(),U(),J(),g.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),ca(),H());return{refreshContentEditable:function(){},isHidden:function(){if(!ma)return 0;
var a=g.selection.getSel();return!a||!a.rangeCount||0===a.rangeCount}}}});w("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(l,h,e){function d(a,b){return"selectionchange"==b?a.getDoc():!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(b)?a.getDoc().documentElement:a.settings.event_root?(a.eventRoot||(a.eventRoot=f.select(a.settings.event_root)[0]),a.eventRoot):a.getBody()}function b(b,e){var c=d(b,e);b.delegates||(b.delegates=
{});if(!b.delegates[e])if(b.settings.event_root){if(a||(a={},b.editorManager.on("removeEditor",function(){var c;if(!b.editorManager.activeEditor&&a){for(c in a)b.dom.unbind(d(b,c));a=null}})),!a[e]){var k=function(a){for(var c=a.target,d=b.editorManager.editors,k=d.length;k--;){var h=d[k].getBody();if(h===c||f.isChildOf(c,h))h=d[k],h.hidden||h.readonly||d[k].fire(e,a)}};a[e]=k;f.bind(c,e,k)}}else k=function(a){b.hidden||b.readonly||b.fire(e,a)},f.bind(c,e,k),b.delegates[e]=k}var f=h.DOM,a;h={bindPendingEventDelegates:function(){var a=
this;e.each(a._pendingNativeEvents,function(c){b(a,c)})},toggleNativeEvent:function(a,f){"focus"!=a&&"blur"!=a&&(f?this.initialized?b(this,a):this._pendingNativeEvents?this._pendingNativeEvents.push(a):this._pendingNativeEvents=[a]:this.initialized&&(this.dom.unbind(d(this,a),a,this.delegates[a]),delete this.delegates[a]))},unbindAllNativeEvents:function(){var a;if(this.delegates){for(a in this.delegates)this.dom.unbind(d(this,a),a,this.delegates[a]);delete this.delegates}this.inline||(this.getBody().onload=
null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc()));this.dom.unbind(this.getBody());this.dom.unbind(this.getContainer())}};return h=e.extend({},l,h)});w("tinymce/Mode",[],function(){function l(d,b,f){try{d.getDoc().execCommand(b,!1,f)}catch(a){}}function h(d){var b=d.getBody();var f=function(a){0<d.dom.getParents(a.target,"a").length&&a.preventDefault()};d.dom.bind(b,"click",f);return{unbind:function(){d.dom.unbind(b,"click",f)}}}function e(d,b){d._clickBlocker&&(d._clickBlocker.unbind(),
d._clickBlocker=null);b?(d._clickBlocker=h(d),d.selection.controlSelection.hideResizeRect(),d.readonly=!0,d.getBody().contentEditable=!1):(d.readonly=!1,d.getBody().contentEditable=!0,l(d,"StyleWithCSS",!1),l(d,"enableInlineTableEditing",!1),l(d,"enableObjectResizing",!1),d.focus(),d.nodeChanged())}return{setMode:function(d,b){if(b!=(d.readonly?"readonly":"design")){if(d.initialized)e(d,"readonly"==b);else d.on("init",function(){e(d,"readonly"==b)});d.fire("SwitchMode",{mode:b})}}}});w("tinymce/Shortcuts",
["tinymce/util/Tools","tinymce/Env"],function(l,h){var e=l.each,d=l.explode,b={f9:120,f10:121,f11:122},f=l.makeMap("alt,ctrl,shift,meta,access");return function(a){function c(a){var c,g={};e(d(a,"+"),function(a){a in f?g[a]=!0:/^[0-9]{2,}$/.test(a)?g.keyCode=parseInt(a,10):(g.charCode=a.charCodeAt(0),g.keyCode=b[a]||a.toUpperCase().charCodeAt(0))});a=[g.keyCode];for(c in f)g[c]?a.push(c):g[c]=!1;g.id=a.join(",");g.access&&(g.alt=!0,h.mac?g.ctrl=!0:g.shift=!0);g.meta&&(h.mac?g.meta=!0:(g.ctrl=!0,g.meta=
!1));return g}function k(b,f,e,g){b=l.map(d(b,">"),c);b[b.length-1]=l.extend(b[b.length-1],{func:e,scope:g||a});return l.extend(b[0],{desc:a.translate(f),subpatterns:b.slice(1)})}function m(a,b){return b&&b.ctrl==a.ctrlKey&&b.meta==a.metaKey&&b.alt==a.altKey&&b.shift==a.shiftKey?a.keyCode==b.keyCode||a.charCode&&a.charCode==b.charCode?(a.preventDefault(),!0):!1:!1}function v(a){return a.func?a.func.call(a.scope):null}var u={},g=[];a.on("keyup keypress keydown",function(a){(a.altKey||a.ctrlKey||a.metaKey||
"keydown"===a.type&&112<=a.keyCode&&123>=a.keyCode)&&!a.isDefaultPrevented()&&(e(u,function(b){if(m(a,b))return g=b.subpatterns.slice(0),"keydown"==a.type&&v(b),!0}),m(a,g[0])&&(1===g.length&&"keydown"==a.type&&v(g[0]),g.shift()))});this.add=function(b,c,f,g){var h=f;"string"===typeof f?f=function(){a.execCommand(h,!1,null)}:l.isArray(h)&&(f=function(){a.execCommand(h[0],h[1],h[2])});e(d(l.trim(b.toLowerCase())),function(a){a=k(a,c,f,g);u[a.id]=a});return!0};this.remove=function(a){a=k(a);return u[a.id]?
(delete u[a.id],!0):!1}}});w("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(l,h,e){return function(d,b){function f(a){var b={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[a.blob().type.toLowerCase()]||"dat";return a.filename()+"."+b}function a(a,c,d,f){var e=new XMLHttpRequest;e.open("POST",b.url);e.withCredentials=b.credentials;e.upload.onprogress=function(a){f(a.loaded/a.total*100)};e.onerror=function(){d("Image upload failed due to a XHR Transport error. Code: "+
e.status)};e.onload=function(){var a;if(200!=e.status)d("HTTP Error: "+e.status);else if((a=JSON.parse(e.responseText))&&"string"==typeof a.location){var f=b.basePath;a=a.location;f=f?f.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a;c(f)}else d("Invalid JSON: "+e.responseText)};var g=new FormData;g.append("file",a.blob(),a.filename());e.send(g)}function c(){return new l(function(a){a([])})}function k(a,b){return{url:"",blobInfo:a,status:!1,error:b}}function m(a,b){h.each(n[a],function(a){a(b)});delete n[a]}
function v(a,b,c){d.markPending(a.blobUri());return new l(function(g){var h,l=function(){};try{var n=function(a){0>a||100<a||(h||(h=c()),h.progressBar.value(a))};b({id:a.id,blob:a.blob,base64:a.base64,filename:e.constant(f(a))},function(b){h&&(h.close(),n=l);d.markUploaded(a.blobUri(),b);m(a.blobUri(),{url:b,blobInfo:a,status:!0});g({url:b,blobInfo:a,status:!0})},function(b){h&&(h.close(),n=l);d.removeFailed(a.blobUri());m(a.blobUri(),k(a,b));g(k(a,b))},n)}catch(z){g(k(a,z.message))}})}function u(a){var b=
a.blobUri();return new l(function(a){n[b]=n[b]||[];n[b].push(a)})}function g(a,c){a=h.grep(a,function(a){return!d.isUploaded(a.blobUri())});return l.all(h.map(a,function(a){return d.isPending(a.blobUri())?u(a):v(a,b.handler,c)}))}var n={};b=h.extend({credentials:!1,handler:a},b);return{upload:function(d,f){return b.url||b.handler!==a?g(d,f):c()}}}});w("tinymce/file/Conversions",["tinymce/util/Promise"],function(l){function h(b){return new l(function(d){var a=new XMLHttpRequest;a.open("GET",b,!0);
a.responseType="blob";a.onload=function(){200==this.status&&d(this.response)};a.send()})}function e(b){var d,a;b=decodeURIComponent(b).split(",");(a=/data:([^;]+)/.exec(b[0]))&&(d=a[1]);return{type:d,data:b[1]}}function d(b){return new l(function(d){var a;b=e(b);try{var c=atob(b.data)}catch(m){d(new Blob([]));return}var f=new Uint8Array(c.length);for(a=0;a<f.length;a++)f[a]=c.charCodeAt(a);d(new Blob([f],{type:b.type}))})}return{uriToBlob:function(b){return 0===b.indexOf("blob:")?h(b):0===b.indexOf("data:")?
d(b):null},blobToDataUri:function(b){return new l(function(d){var a=new FileReader;a.onloadend=function(){d(a.result)};a.readAsDataURL(b)})},parseDataUri:e}});w("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(l,h,e,d,b){var f=0;return function(a,c){var k={};return{findAll:function(m,v){function u(a,b){var e;if(0===a.src.indexOf("blob:"))(e=c.getByUri(a.src))?b({image:a,blobInfo:e}):d.uriToBlob(a.src).then(function(k){d.blobToDataUri(k).then(function(h){g=
d.parseDataUri(h).data;e=c.create("blobid"+f++,k,g);c.add(e);b({image:a,blobInfo:e})})});else{var g=d.parseDataUri(a.src).data;(e=c.findFirst(function(a){return a.base64()===g}))?b({image:a,blobInfo:e}):d.uriToBlob(a.src).then(function(d){e=c.create("blobid"+f++,d,g);c.add(e);b({image:a,blobInfo:e})})}}v||(v=e.constant(!0));var g=h.filter(m.getElementsByTagName("img"),function(c){var d=c.src;return!b.fileApi||c.hasAttribute("data-mce-bogus")||c.hasAttribute("data-mce-placeholder")||!d||d==b.transparentSrc?
!1:0===d.indexOf("blob:")?!a.isUploaded(d):0===d.indexOf("data:")?v(c):!1});g=h.map(g,function(a){if(k[a.src])return new l(function(b){k[a.src].then(function(c){b({image:a,blobInfo:c.blobInfo})})});var b=(new l(function(b){u(a,b)})).then(function(a){delete k[a.image.src];return a})["catch"](function(b){delete k[a.src];return b});return k[a.src]=b});return l.all(g)}}}});w("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(l,h){return function(){function e(a){return d(function(b){return b.id()===
a})}function d(a){return l.filter(b,a)[0]}var b=[],f=h.constant;return{create:function(a,b,d,e){return{id:f(a),filename:f(e||a),blob:f(b),base64:f(d),blobUri:f(URL.createObjectURL(b))}},add:function(a){e(a.id())||b.push(a)},get:e,getByUri:function(a){return d(function(b){return b.blobUri()==a})},findFirst:d,removeByUri:function(a){b=l.filter(b,function(b){return b.blobUri()===a?(URL.revokeObjectURL(b.blobUri()),!1):!0})},destroy:function(){l.each(b,function(a){URL.revokeObjectURL(a.blobUri())});b=
[]}}}});w("tinymce/file/UploadStatus",[],function(){return function(){function l(e){return e in h}var h={};return{hasBlobUri:l,getResultUri:function(e){return(e=h[e])?e.resultUri:null},isPending:function(e){return l(e)?1===h[e].status:!1},isUploaded:function(e){return l(e)?2===h[e].status:!1},markPending:function(e){h[e]={status:1,resultUri:null}},markUploaded:function(e,d){h[e]={status:2,resultUri:d}},removeFailed:function(e){delete h[e]},destroy:function(){h={}}}}});w("tinymce/ErrorReporter",["tinymce/AddOnManager"],
function(l){var h=l.PluginManager,e=function(d,b){if(d._skinLoaded)d.notificationManager.open({type:"error",text:b});else d.on("SkinLoaded",function(){d.notificationManager.open({type:"error",text:b})})};return{pluginLoadError:function(d,b){a:{for(f in h.urls)if(h.urls[f]+"/plugin"+d.suffix+".js"===b)break a;var f=null}e(d,f?"Failed to load plugin: "+f+" from url "+b:"Failed to load plugin url: "+b)},uploadError:function(d,b){e(d,"Failed to upload image: "+b)}}});w("tinymce/EditorUpload","tinymce/util/Arr tinymce/file/Uploader tinymce/file/ImageScanner tinymce/file/BlobCache tinymce/file/UploadStatus tinymce/ErrorReporter".split(" "),
function(l,h,e,d,b,f){return function(a){function c(b){return function(c){return a.selection?b(c):[]}}function k(a,b,c){var d=0;do d=a.indexOf(b,d),-1!==d&&(a=a.substring(0,d)+c+a.substr(d+b.length),d+=c.length-b.length+1);while(-1!==d);return a}function m(a,b,c){a=k(a,'src="'+b+'"','src="'+c+'"');return a=k(a,'data-mce-src="'+b+'"','data-mce-src="'+c+'"')}function v(b,c){l.each(a.undoManager.data,function(a){"fragmented"===a.type?a.fragments=l.map(a.fragments,function(a){return m(a,b,c)}):a.content=
m(a.content,b,c)})}function u(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function g(b){r||(r=new h(z,{url:A.images_upload_url,basePath:A.images_upload_base_path,credentials:A.images_upload_credentials,handler:A.images_upload_handler}));return y().then(c(function(d){var e=l.map(d,function(a){return a.blobInfo});return r.upload(e,u).then(c(function(c){c=l.map(c,function(b,c){var e=d[c].image;if(b.status&&!1!==a.settings.images_replace_blob_uris){var g=
b.url;p.removeByUri(e.src);v(e.src,g);a.$(e).attr({src:A.images_reuse_filename?g+("?"+(new Date).getTime()):g,"data-mce-src":a.convertURL(g,"src")})}else b.error&&f.uploadError(a,b.error);return{element:e,status:b.status}});b&&b(c);return c}))}))}function n(a){if(!1!==A.automatic_uploads)return g(a)}function t(a){return A.images_dataimg_filter?A.images_dataimg_filter(a):!0}function y(){D||(D=new e(z,p));return D.findAll(a.getBody(),t).then(c(function(a){l.each(a,function(a){v(a.image.src,a.blobInfo.blobUri());
a.image.src=a.blobInfo.blobUri();a.image.removeAttribute("data-mce-src")});return a}))}function q(b){return b.replace(/src="(blob:[^"]+)"/g,function(b,c){var d=z.getResultUri(c);if(d)return'src="'+d+'"';(d=p.getByUri(c))||(d=l.reduce(a.editorManager.editors,function(a,b){return a||b.editorUpload.blobCache.getByUri(c)},null));return d?'src="data:'+d.blob().type+";base64,"+d.base64()+'"':b})}var p=new d,r,D,A=a.settings,z=new b;a.on("setContent",function(){!1!==a.settings.automatic_uploads?n():y()});
a.on("RawSaveContent",function(a){a.content=q(a.content)});a.on("getContent",function(a){a.source_view||"raw"==a.format||(a.content=q(a.content))});a.on("PostRender",function(){a.parser.addNodeFilter("img",function(a){l.each(a,function(a){var b=a.attr("src");p.getByUri(b)||(b=z.getResultUri(b))&&a.attr("src",b)})})});return{blobCache:p,uploadImages:g,uploadImagesAuto:n,scanForImages:y,destroy:function(){p.destroy();z.destroy();D=r=null}}}});w("tinymce/caret/FakeCaret","tinymce/caret/CaretContainer tinymce/caret/CaretPosition tinymce/dom/NodeType tinymce/dom/RangeUtils tinymce/dom/DomQuery tinymce/geom/ClientRect tinymce/util/Delay".split(" "),
function(l,h,e,d,b,f,a){var c=e.isContentEditableFalse;return function(d,e){function k(){var a;var c=b("*[contentEditable=false]",d);for(a=0;a<c.length;a++){var f=c[a];var e=f.previousSibling;if(l.endsWithCaretContainer(e)){var k=e.data;1==k.length?e.parentNode.removeChild(e):e.deleteData(k.length-1,1)}e=f.nextSibling;l.startsWithCaretContainer(e)&&(k=e.data,1==k.length?e.parentNode.removeChild(e):e.deleteData(0,1))}m&&(l.remove(m),m=null);n&&(n.remove(),n=null);clearInterval(g)}function h(){g=a.setInterval(function(){b("div.mce-visual-caret",
d).toggleClass("mce-visual-caret-hidden")},500)}var g,n,m;return{show:function(a,g){k();if(e(g)){m=l.insertBlock("p",g,a);var p=f.collapse(g.getBoundingClientRect(),a);if("BODY"==d.tagName){var r=d.ownerDocument.documentElement;var q=d.scrollLeft||r.scrollLeft;r=d.scrollTop||r.scrollTop}else r=d.getBoundingClientRect(),q=d.scrollLeft-r.left,r=d.scrollTop-r.top;p.left+=q;p.right+=q;p.top+=r;p.bottom+=r;p.width=1;q=g.offsetWidth-g.clientWidth;0<q&&(a&&(q*=-1),p.left+=q,p.right+=q);b(m).css("top",p.top);
n=b('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(p).appendTo(d);a&&n.addClass("mce-visual-caret-before");h();p=g.ownerDocument.createRange();p.setStart(m,0);p.setEnd(m,0)}else m=l.insertInline(g,a),p=g.ownerDocument.createRange(),c(m.nextSibling)?(p.setStart(m,0),p.setEnd(m,0)):(p.setStart(m,1),p.setEnd(m,1));return p},hide:k,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},
destroy:function(){a.clearInterval(g)}}}});w("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(l,h,e){function d(b){function f(a){return l.map(a,function(a){a=e.clone(a);a.node=b;return a})}if(l.isArray(b))return l.reduce(b,function(a,b){return a.concat(d(b))},[]);if(h.isElement(b))return f(b.getClientRects());if(h.isText(b)){var a=b.ownerDocument.createRange();a.setStart(b,0);a.setEnd(b,b.data.length);return f(a.getClientRects())}}return{getClientRects:d}});
w("tinymce/caret/LineWalker","tinymce/util/Fun tinymce/util/Arr tinymce/dom/Dimensions tinymce/caret/CaretCandidate tinymce/caret/CaretUtils tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/geom/ClientRect".split(" "),function(l,h,e,d,b,f,a,c){function k(a,c,f,e){for(;(e=b.findNode(e,a,d.isEditableCaretCandidate,c))&&!f(e););}function m(a,b,c,d,f,l){function g(d){var g=e.getClientRects(d);-1==a&&(g=g.reverse());for(d=0;d<g.length;d++){var k=g[d];if(!c(k,q)){0<n.length&&b(k,h.last(n))&&
m++;k.line=m;if(f(k))return!0;n.push(k)}}}var m=0,n=[];var q=h.last(l.getClientRects());if(!q)return n;l=l.getNode();g(l);k(a,d,g,l);return n}l=l.curry;var v=l(m,-1,c.isAbove,c.isBelow),u=l(m,1,c.isBelow,c.isAbove);return{upUntil:v,downUntil:u,positionsUntil:function(b,d,e,k){var g=new f(d);d=[];var l=0;if(1==b){b=g.next;g=c.isBelow;var m=c.isAbove;k=a.after(k)}else b=g.prev,g=c.isAbove,m=c.isBelow,k=a.before(k);var n=h.last(k.getClientRects());do if(k.isVisible()){var t=h.last(k.getClientRects());
if(!m(t,n)){0<d.length&&g(t,h.last(d))&&l++;t=c.clone(t);t.position=k;t.line=l;if(e(t))break;d.push(t)}}while(k=b(k));return d},isAboveLine:l(function(a,b){return b.line>a}),isLine:l(function(a,b){return b.line===a})}});w("tinymce/caret/LineUtils","tinymce/util/Fun tinymce/util/Arr tinymce/dom/NodeType tinymce/dom/Dimensions tinymce/geom/ClientRect tinymce/caret/CaretUtils tinymce/caret/CaretCandidate".split(" "),function(l,h,e,d,b,f,a){function c(a,b){return h.reduce(a,function(a,c){var d=Math.min(Math.abs(a.left-
b),Math.abs(a.right-b));var f=Math.min(Math.abs(c.left-b),Math.abs(c.right-b));return b>=c.left&&b<=c.right?c:b>=a.left&&b<=a.right?a:f==d&&v(c.node)||f<d?c:a})}function k(b,c,d,f){for(;(f=u(f,b,a.isEditableCaretCandidate,c))&&!d(f););}function m(a,c){function f(a,b){var f=h.filter(d.getClientRects(b),function(b){return!a(b,c)});e=e.concat(f);return 0===f.length}var e=[];e.push(c);k(-1,a,g(f,b.isAbove),c.node);k(1,a,g(f,b.isBelow),c.node);return e}var v=e.isContentEditableFalse,u=f.findNode,g=l.curry;
return{findClosestClientRect:c,findLineNodeRects:m,closestCaret:function(a,b,f){var e=d.getClientRects(h.filter(h.toArray(a.getElementsByTagName("*")),v));e=h.filter(e,function(a){return f>=a.top&&f<=a.bottom});return(e=c(e,b))&&(e=c(m(a,e),b))&&v(e.node)?{node:e.node,before:Math.abs(e.left-b)<Math.abs(e.right-b)}:null}}});w("tinymce/dom/MousePosition",[],function(){var l=function(h){var e=h.getBoundingClientRect();var d=h.ownerDocument;h=d.documentElement;d=d.defaultView;return{top:e.top+d.pageYOffset-
h.clientTop,left:e.left+d.pageXOffset-h.clientLeft}};return{calc:function(h,e){var d=h.inline?l(h.getBody()):{left:0,top:0},b=h.getBody(),b=h.inline?{left:b.scrollLeft,top:b.scrollTop}:{left:0,top:0};if(e.target.ownerDocument!==h.getDoc()){var f=l(h.getContentAreaContainer());var a=h.getBody();var c=h.getDoc().documentElement;var k={left:a.scrollLeft,top:a.scrollTop};a={left:a.scrollLeft||c.scrollLeft,top:a.scrollTop||c.scrollTop};a=h.inline?k:a;k=e.pageX-f.left+a.left;f=e.pageY-f.top+a.top}else k=
e.pageX,f=e.pageY;return{pageX:k-d.left+b.left,pageY:f-d.top+b.top}}}});w("tinymce/DragDropOverrides","tinymce/dom/NodeType tinymce/util/Arr tinymce/util/Fun tinymce/util/Delay tinymce/dom/DOMUtils tinymce/dom/MousePosition".split(" "),function(l,h,e,d,b,f){var a=l.isContentEditableFalse,c=l.isContentEditableTrue,k=function(b,c,d){return c===d||b.dom.isChildOf(c,d)||a(c)?!1:!0},m=function(a){a=a.cloneNode(!0);a.removeAttribute("data-mce-selected");return a},v=function(b,d){return function(f){if(0===
f.button){var g=h.find(d.dom.getParents(f.target),e.or(a,c)),k=d.getBody();if(a(g)&&g!==k){var k=d.dom.getPos(g),l=d.getBody(),m=d.getDoc().documentElement;b.element=g;b.screenX=f.screenX;b.screenY=f.screenY;b.maxX=(d.inline?l.scrollWidth:m.offsetWidth)-2;b.maxY=(d.inline?l.scrollHeight:m.offsetHeight)-2;b.relX=f.pageX-k.x;b.relY=f.pageY-k.y;b.width=g.offsetWidth;b.height=g.offsetHeight;f=b.width;k=b.height;g=g.cloneNode(!0);d.dom.setStyles(g,{width:f,height:k});d.dom.setAttrib(g,"data-mce-selected",
null);l=d.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});d.dom.setStyles(l,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:f,height:k});d.dom.setStyles(g,{margin:0,boxSizing:"border-box"});l.appendChild(g);b.ghost=l}}}},u=function(a,b){var c=d.throttle(function(a,c){b._selectionOverrides.hideFakeCaret();b.selection.placeCaretAt(a,c)},0);return function(d){var e=Math.max(Math.abs(d.screenX-a.screenX),
Math.abs(d.screenY-a.screenY));if(a.element&&!a.dragging&&10<e){if(b.fire("dragstart",{target:a.element}).isDefaultPrevented())return;a.dragging=!0;b.focus()}if(a.dragging){var g=f.calc(b,d);e=g.pageX-a.relX;g=g.pageY+5;var k=a.ghost,h=b.getBody();k.parentNode!==h&&h.appendChild(k);var k=a.ghost,h=a.width,l=a.height,m=a.maxX,n=a.maxY,p=0,q=0;k.style.left=e+"px";k.style.top=g+"px";e+h>m&&(p=e+h-m);g+l>n&&(q=g+l-n);k.style.width=h-p+"px";k.style.height=l-q+"px";c(d.clientX,d.clientY)}}},g=function(a){a=
a.getSel().getRangeAt(0).startContainer;return 3===a.nodeType?a.parentNode:a},n=function(a,b){return function(c){if(a.dragging&&k(b,g(b.selection),a.element)){var d=m(a.element);c=b.fire("drop",{targetClone:d,clientX:c.clientX,clientY:c.clientY});c.isDefaultPrevented()||(d=c.targetClone,b.undoManager.transact(function(){var c=a.element;c&&c.parentNode&&c.parentNode.removeChild(c);b.insertContent(b.dom.getOuterHTML(d));b._selectionOverrides.hideFakeCaret()}))}y(a)}},t=function(a,b){return function(){y(a);
a.dragging&&b.fire("dragend")}},y=function(a){a.dragging=!1;a.element=null;(a=a.ghost)&&a.parentNode&&a.parentNode.removeChild(a)},q=function(a){var c={};var d=b.DOM;var f=document;var e=v(c,a);var g=u(c,a);var k=n(c,a);var h=t(c,a);a.on("mousedown",e);a.on("mousemove",g);a.on("mouseup",k);d.bind(f,"mousemove",g);d.bind(f,"mouseup",h);a.on("remove",function(){d.unbind(f,"mousemove",g);d.unbind(f,"mouseup",h)})},p=function(b){b.on("drop",function(c){var d="undefined"!==typeof c.clientX?b.getDoc().elementFromPoint(c.clientX,
c.clientY):null;(a(d)||a(b.dom.getContentEditableParent(d)))&&c.preventDefault()})};return{init:function(a){q(a);p(a)}}});w("tinymce/SelectionOverrides","tinymce/Env tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/caret/CaretContainer tinymce/caret/CaretUtils tinymce/caret/FakeCaret tinymce/caret/LineWalker tinymce/caret/LineUtils tinymce/dom/NodeType tinymce/dom/RangeUtils tinymce/geom/ClientRect tinymce/util/VK tinymce/util/Fun tinymce/util/Arr tinymce/util/Delay tinymce/DragDropOverrides".split(" "),
function(l,h,e,d,b,f,a,c,k,m,v,u,g,n,t,y){function q(a,b){for(;(b=a(b))&&!b.isVisible(););return b}var p=g.curry,r=k.isContentEditableTrue,w=k.isContentEditableFalse,A=k.isElement,z=b.isAfterContentEditableFalse,x=b.isBeforeContentEditableFalse,G=m.getSelectedNode;return function(m){function C(a){return m.dom.isBlock(a)}function D(a){a&&m.selection.setRng(a)}function E(a,b,c){if(m.fire("ShowCaret",{target:b,direction:a,before:c}).isDefaultPrevented())return null;m.selection.scrollIntoView(b,-1===
a);return oa.show(c,b)}function U(a){if(m.fire("BeforeObjectSelected",{target:a}).isDefaultPrevented())return null;var b=a.ownerDocument.createRange();b.selectNode(a);return b}function J(a,c){c=b.normalizeRange(a,V,c);return-1==a?e.fromRangeStart(c):e.fromRangeEnd(c)}function K(a,c,f,e){if(!e.collapsed){var g=G(e);if(w(g))return E(a,g,-1==a)}var h=d.isCaretContainerBlock(e.startContainer);g=J(a,e);if(f(g))return U(g.getNode(-1==a));g=c(g);if(!g)return h?e:null;if(f(g))return E(a,g.getNode(-1==a),
1==a);c=c(g);return f(c)&&(f=g,e=b.isInSameBlock(f,c),f=!e&&k.isBr(f.getNode())?!0:e,f)?E(a,c.getNode(-1==a),1==a):h?F(g.toRange()):null}function T(a,b){var c;if(b.collapsed&&m.settings.forced_root_block&&(c=m.dom.getParent(b.startContainer,"PRE"))){var d=1==a?la(e.fromRangeStart(b)):ha(e.fromRangeStart(b));if(!d){d=m.dom.create(m.settings.forced_root_block);if(!l.ie||11<=l.ie)d.innerHTML='<br data-mce-bogus="1">';1==a?m.$(c).after(d):m.$(c).before(d);m.selection.select(d,!0);m.selection.collapse()}}}
function P(a,b,c,d){return(b=K(a,b,c,d))?b:(b=T(a,d))?b:null}function I(b,d,f){a:{var e=G(f);var g=J(b,f);d=d(V,a.isAboveLine(1),g);var k=n.filter(d,a.isLine(1));d=n.last(g.getClientRects());x(g)&&(e=g.getNode());z(g)&&(e=g.getNode(!0));if(d)if(d=d.left,(g=c.findClosestClientRect(k,d))&&w(g.node))e=Math.abs(d-g.left),d=Math.abs(d-g.right),e=E(b,g.node,e<d);else{if(e){e=a.positionsUntil(b,V,a.isAboveLine(1),e);if(g=c.findClosestClientRect(n.filter(e,a.isLine(1)),d)){e=F(g.position.toRange());break a}if(g=
n.last(n.filter(e,a.isLine(0)))){e=F(g.position.toRange());break a}}e=void 0}else e=null}return e?e:(e=T(b,f))?e:null}function L(a){a.hasAttribute("data-mce-caret")&&(d.showCaretContainerBlock(a),D(m.selection.getRng()),m.selection.scrollIntoView(a[0],void 0))}function O(a){a=b.normalizeRange(1,V,a);a=e.fromRangeStart(a);if(w(a.getNode()))return E(1,a.getNode(),!a.isAtEnd());if(w(a.getNode(!0)))return E(1,a.getNode(!0),!1);a=m.dom.getParent(a.getNode(),g.or(w,r));return w(a)?E(1,a,!1):null}function F(a){var b;
return a&&a.collapsed?(b=O(a))?b:a:a}function Q(a){var b,c,f;if(!w(a))return null;if(w(a.previousSibling))var g=a.previousSibling;(c=ha(e.before(a)))||(b=la(e.after(a)));b&&A(b.getNode())&&(f=b.getNode());d.remove(a.previousSibling);d.remove(a.nextSibling);m.dom.remove(a);if(m.dom.isEmpty(m.getBody()))m.setContent(""),m.focus();else return g?e.after(g).toRange():f?e.before(f).toRange():c?c.toRange():b?b.toRange():null}function ca(a){var b=m.schema.getTextBlockElements();return a.nodeName in b}function da(a,
b,c){var d=m.dom;var f=d.getParent(b.getNode(),d.isBlock);var g=d.getParent(c.getNode(),d.isBlock);if(-1===a){if(a=c.getNode(!0),z(c)&&C(a))return ca(f)?(m.dom.isEmpty(f)&&d.remove(f),e.after(a).toRange()):Q(c.getNode(!0))}else if(a=b.getNode(),x(b)&&C(a))return ca(g)?(m.dom.isEmpty(g)&&d.remove(g),e.before(a).toRange()):Q(b.getNode());if(f===g||!ca(f)||!ca(g))return null;for(;b=f.firstChild;)g.appendChild(b);m.dom.remove(f);return c.toRange()}function S(a,b,c,f){if(!f.collapsed){var e=G(f);if(w(e))return F(Q(e))}e=
J(a,f);if(c(e)&&d.isCaretContainerBlock(f.startContainer))return(a=-1==a?X.prev(e):X.next(e))?F(a.toRange()):f;if(b(e))return F(Q(e.getNode(-1==a)));f=-1==a?X.prev(e):X.next(e);if(b(f))return-1===a?da(a,e,f):da(a,f,e)}function B(){function b(a,b){if(!1===a.isDefaultPrevented()){var c=b(m.selection.getRng());c&&(a.preventDefault(),D(c))}}function f(a){for(var b=m.getBody();a&&a!=b;){if(r(a)||w(a))return a;a=a.parentNode}return null}function g(a,b,c){return c.collapsed?!1:n.reduce(c.getClientRects(),
function(c,d){return c||v.containsXY(d,a,b)},!1)}function k(){var a=f(m.selection.getNode());if(r(a)&&C(a)&&m.dom.isEmpty(a)){var b=m.dom.create("br",{"data-mce-bogus":"1"});m.$(a).empty().append(b);m.selection.setRng(e.before(b).toRange())}}var q=p(P,1,la,x),A=p(P,-1,ha,z),G=p(S,1,x,z),J=p(S,-1,z,x),B=p(I,-1,a.upUntil),K=p(I,1,a.downUntil);m.on("mouseup",function(){var a=m.selection.getRng();a.collapsed&&D(O(a))});m.on("click",function(a){var b;if(b=f(a.target))w(b)&&(a.preventDefault(),m.focus()),
r(b)&&m.dom.isChildOf(b,m.selection.getNode())&&ia()});m.on("blur NewBlock",function(){ia();fa()});(function(a){var b=!1;a.on("touchstart",function(){b=!1});a.on("touchmove",function(){b=!0});a.on("touchend",function(a){var c=f(a.target);w(c)&&!b&&(a.preventDefault(),W(U(c)))})})(m);m.on("mousedown",function(a){var b;if(b=f(a.target))w(b)?(a.preventDefault(),W(U(b))):g(a.clientX,a.clientY,m.selection.getRng())||m.selection.placeCaretAt(a.clientX,a.clientY);else if(ia(),fa(),b=c.closestCaret(V,a.clientX,
a.clientY)){var d=b.node,k=m.dom.getParent(a.target,m.dom.isBlock),d=m.dom.getParent(d,m.dom.isBlock),l;(l=!k)||(l=m.dom.getParent(k,m.dom.isBlock),d=m.dom.getParent(d,m.dom.isBlock),l=l===d);(d=l)||(d=new h(k),k.firstChild?(k=e.before(k.firstChild),k=(k=d.next(k))&&!x(k)&&!z(k)):k=!1,d=!k);d&&(a.preventDefault(),m.getBody().focus(),D(E(1,b.node,b.before)))}});m.on("keydown",function(a){if(!u.modifierPressed(a))switch(a.keyCode){case u.RIGHT:b(a,q);break;case u.DOWN:b(a,K);break;case u.LEFT:b(a,A);
break;case u.UP:b(a,B);break;case u.DELETE:b(a,G);break;case u.BACKSPACE:b(a,J);break;default:var c;if(c=w(m.selection.getNode()))c=112<=a.keyCode&&123>=a.keyCode?!1:!0;c&&a.preventDefault()}});m.on("keyup compositionstart",function(a){var b=Y("*[data-mce-caret]")[0];b&&("compositionstart"==a.type?(a.preventDefault(),a.stopPropagation(),L(b)):d.hasContent(b)&&L(b));switch(a.keyCode){case u.DELETE:var c=k();break;case u.BACKSPACE:c=k()}c&&a.preventDefault()},!0);m.on("cut",function(){var a=m.selection.getNode();
w(a)&&t.setEditorTimeout(m,function(){D(F(Q(a)))})});m.on("getSelectionRange",function(a){var b=a.range;ba&&(ba.parentNode?(b=b.cloneRange(),b.selectNode(ba),a.range=b):ba=null)});m.on("setSelectionRange",function(a){var b;if(b=W(a.range))a.range=b});m.on("AfterSetSelectionRange",function(a){a=a.range;R(a)||fa();m.dom.hasClass(a.startContainer.parentNode,"mce-offscreen-selection")||ia()});m.on("focus",function(){t.setEditorTimeout(m,function(){m.selection.setRng(F(m.selection.getRng()))},0)});m.on("copy",
function(a){var b=a.clipboardData;if(!a.isDefaultPrevented()&&a.clipboardData&&!l.ie){var c;if(c=(c=m.dom.get(ma))?c.getElementsByTagName("*")[0]:c)a.preventDefault(),b.clearData(),b.setData("text/html",c.outerHTML),b.setData("text/plain",c.outerText)}});y.init(m)}function N(){var a=m.contentStyles;a.push(oa.getCss());a.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")}
function aa(a){return d.isCaretContainer(a)||d.startsWithCaretContainer(a)||d.endsWithCaretContainer(a)}function R(a){return aa(a.startContainer)||aa(a.endContainer)}function W(a){var b=m.$,c=m.dom;if(!a)return null;if(a.collapsed){if(!R(a)){var d=J(1,a);if(w(d.getNode()))return E(1,d.getNode(),!d.isAtEnd());if(w(d.getNode(!0)))return E(1,d.getNode(!0),!1)}return null}var f=a.startContainer;var e=a.startOffset;a=a.endOffset;3==f.nodeType&&0==e&&w(f.parentNode)&&(f=f.parentNode,e=c.nodeIndex(f),f=
f.parentNode);if(1!=f.nodeType)return null;a==e+1&&(d=f.childNodes[e]);if(!w(d))return null;var g=f=d.cloneNode(!0);a=m.fire("ObjectSelected",{target:d,targetClone:g});if(a.isDefaultPrevented())return null;g=a.targetClone;e=b("#"+ma);0===e.length&&(e=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",ma),e.appendTo(m.getBody()));a=m.dom.createRng();g===f&&l.ie?(e.empty().append('<p style="font-size: 0" data-mce-bogus="all">\u00a0</p>').append(g),a.setStartAfter(e[0].firstChild.firstChild),
a.setEndAfter(g)):(e.empty().append("\u00a0").append(g).append("\u00a0"),a.setStart(e[0].firstChild,1),a.setEnd(e[0].lastChild,0));e.css({top:c.getPos(d,m.getBody()).y});e[0].focus();b=m.selection.getSel();b.removeAllRanges();b.addRange(a);m.$("*[data-mce-selected]").removeAttr("data-mce-selected");d.setAttribute("data-mce-selected",1);ba=d;fa();return a}function ia(){ba&&(ba.removeAttribute("data-mce-selected"),m.$("#"+ma).remove(),ba=null)}function fa(){oa.hide()}var V=m.getBody(),X=new h(V),la=
p(q,X.next),ha=p(q,X.prev),oa=new f(m.getBody(),C),ma="sel-"+m.dom.uniqueId(),ba,Y=m.$;l.ceFalse&&(B(),N());return{showBlockCaretContainer:L,hideFakeCaret:fa,destroy:function(){oa.destroy();ba=null}}}});w("tinymce/util/Uuid",[],function(){var l=0,h=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()};return{uuid:function(e){return e+l++ +h()}}});w("tinymce/ui/Sidebar",[],function(){return{add:function(l,h,e){var d=
l.sidebars?l.sidebars:[];d.push({name:h,settings:e});l.sidebars=d}}});w("tinymce/Editor","tinymce/dom/DOMUtils tinymce/dom/DomQuery tinymce/AddOnManager tinymce/NodeChange tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/NotificationManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/util/Delay tinymce/EditorObservable tinymce/Mode tinymce/Shortcuts tinymce/EditorUpload tinymce/SelectionOverrides tinymce/util/Uuid tinymce/ui/Sidebar tinymce/ErrorReporter".split(" "),
function(l,h,e,d,b,f,a,c,k,m,v,u,g,n,t,y,q,p,r,w,A,z,x,G,C,H,E,M,U,J,K,T){function D(a,b,c){var d=this;var f=d.documentBaseUrl=c.documentBaseURL;var k=c.baseURI;var m=c.defaultSettings;b=qa({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:f,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",
font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
validate:!0,entity_encoding:"named",url_converter:d.convertURL,url_converter_scope:d,ie7_compat:!0},m,b);m&&m.external_plugins&&b.external_plugins&&(b.external_plugins=qa({},m.external_plugins,b.external_plugins));d.settings=b;e.language=b.language||"en";e.languageLoad=b.language_load;e.baseURL=c.baseURL;d.id=b.id=a;d.setDirty(!1);d.plugins={};d.documentBaseURI=new n(b.document_base_url||f,{base_uri:k});d.baseURI=k;d.contentCSS=[];d.contentStyles=[];d.shortcuts=new E(d);d.loadedCSS={};d.editorCommands=
new g(d);d.suffix=c.suffix;d.editorManager=c;d.inline=b.inline;d.settings.content_editable=d.inline;b.cache_suffix&&(z.cacheSuffix=b.cache_suffix.replace(/^[\?\&]+/,""));!1===b.override_viewport&&(z.overrideViewPort=!1);c.fire("SetupEditor",d);d.execCallback("setup",d);d.$=h.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})}var I=l.DOM,L=e.ThemeManager,O=e.PluginManager,qa=x.extend,Q=x.each,ja=x.explode,da=x.inArray,S=x.trim,B=x.resolve,N=y.Event,aa=
z.gecko,R=z.ie;D.prototype={render:function(){function a(){I.unbind(window,"ready",a);b.render()}var b=this,c=b.settings,d=b.id,f=b.suffix;if(!N.domLoaded)I.bind(window,"ready",a);else if(b.getElement()&&z.contentEditable){c.inline?b.inline=!0:(b.orgVisibility=b.getElement().style.visibility,b.getElement().style.visibility="hidden");var e=b.getElement().form||I.getParent(d,"form");e&&(b.formElement=e,c.hidden_input&&!/TEXTAREA|INPUT/i.test(b.getElement().nodeName)&&(I.insertAfter(I.create("input",
{type:"hidden",name:d}),d),b.hasHiddenInput=!0),b.formEventDelegate=function(a){b.fire(a.type,a)},I.bind(e,"submit reset",b.formEventDelegate),b.on("reset",function(){b.setContent(b.startContent,{format:"raw"})}),!c.submit_patch||e.submit.nodeType||e.submit.length||e._mceOldSubmit||(e._mceOldSubmit=e.submit,e.submit=function(){b.editorManager.triggerSave();b.setDirty(!1);return e._mceOldSubmit(e)}));b.windowManager=new q(b);b.notificationManager=new p(b);if("xml"==c.encoding)b.on("GetContent",function(a){a.save&&
(a.content=I.encode(a.content))});if(c.add_form_submit_trigger)b.on("submit",function(){b.initialized&&b.save()});c.add_unload_trigger&&(b._beforeUnload=function(){!b.initialized||b.destroyed||b.isHidden()||b.save({format:"raw",no_events:!0,set_dirty:!1})},b.editorManager.on("BeforeUnload",b._beforeUnload));b.editorManager.add(b);(function(){var a=t.ScriptLoader;c.language&&"en"!=c.language&&!c.language_url&&(c.language_url=b.editorManager.baseURL+"/langs/"+c.language+".js");c.language_url&&a.add(c.language_url);
if(c.theme&&"function"!=typeof c.theme&&"-"!=c.theme.charAt(0)&&!L.urls[c.theme]){var d=c.theme_url,d=d?b.documentBaseURI.toAbsolute(d):"themes/"+c.theme+"/theme"+f+".js";L.load(c.theme,d)}x.isArray(c.plugins)&&(c.plugins=c.plugins.join(" "));Q(c.external_plugins,function(a,b){O.load(b,a);c.plugins+=" "+b});Q(c.plugins.split(/[ ,]/),function(a){(a=S(a))&&!O.urls[a]&&("-"==a.charAt(0)?(a=a.substr(1,a.length),a=O.dependencies(a),Q(a,function(a){a=O.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+
f+".js"},a);O.load(a.resource,a)})):O.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"}))});a.loadQueue(function(){b.removed||b.init()},b,function(a){T.pluginLoadError(b,a[0]);b.removed||b.init()})})()}},init:function(){function a(c){var d=O.get(c);var f=O.urls[c]||b.documentBaseUrl.replace(/\/$/,"");c=S(c);d&&-1===da(e,c)&&(Q(O.dependencies(c),function(b){a(b)}),b.plugins[c]||(d=new d(b,f,b.$),b.plugins[c]=d,d.init&&(d.init(b,f),e.push(c))))}var b=this,c=b.settings,d=b.getElement(),
f,e=[];b.rtl=c.rtl_ui||b.editorManager.i18n.rtl;b.editorManager.i18n.setCode(c.language);c.aria_label=c.aria_label||I.getAttrib(d,"aria-label",b.getLang("aria.rich_text_area"));b.fire("ScriptsLoaded");if(c.theme)if("function"!=typeof c.theme){c.theme=c.theme.replace(/-/,"");var g=L.get(c.theme);b.theme=new g(b,L.urls[c.theme]);b.theme.init&&b.theme.init(b,L.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,""),b.$)}else b.theme=c.theme;Q(c.plugins.replace(/\-/g,"").split(/[ ,]/),a);if(c.render_ui&&b.theme){b.orgDisplay=
d.style.display;if("function"!=typeof c.theme){var k=c.width||d.style.width||d.offsetWidth;var h=c.height||d.style.height||d.offsetHeight;g=c.min_height||100;var m=/^[0-9\.]+(|px)$/i;m.test(""+k)&&(k=Math.max(parseInt(k,10),100));m.test(""+h)&&(h=Math.max(parseInt(h,10),g));k=b.theme.renderUI({targetNode:d,width:k,height:h,deltaWidth:c.delta_width,deltaHeight:c.delta_height});c.content_editable||(h=(k.iframeHeight||h)+("number"==typeof h?k.deltaHeight||0:""),h<g&&(h=g))}else k=c.theme(b,d),k.editorContainer.nodeType&&
(k.editorContainer.id=k.editorContainer.id||b.id+"_parent"),k.iframeContainer.nodeType&&(k.iframeContainer.id=k.iframeContainer.id||b.id+"_iframecontainer"),h=k.iframeHeight||d.offsetHeight;b.editorContainer=k.editorContainer}c.content_css&&Q(ja(c.content_css),function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))});c.content_style&&b.contentStyles.push(c.content_style);if(c.content_editable)return d=h=k=null,b.initContentBody();b.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=b.documentBaseUrl&&
(b.iframeHTML+='<base href="'+b.documentBaseURI.getURI()+'" />');!z.caretAfter&&c.ie7_compat&&(b.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');b.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';if(!/#$/.test(document.location.href))for(d=0;d<b.contentCSS.length;d++)g=b.contentCSS[d],b.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+x._addCacheSuffix(g)+'" />',b.loadedCSS[g]=!0;d=c.body_id||"tinymce";-1!=d.indexOf("=")&&(d=b.getParam("body_id",
"","hash"),d=d[b.id]||d);g=c.body_class||"";-1!=g.indexOf("=")&&(g=b.getParam("body_class","","hash"),g=g[b.id]||"");c.content_security_policy&&(b.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+c.content_security_policy+'" />');b.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+g+'" data-id="'+b.id+'"><br></body></html>';c='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';
document.domain!=location.hostname&&z.ie&&12>z.ie&&(f=c);var l=I.create("iframe",{id:b.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:h,display:"block"}});l.onload=function(){l.onload=null;b.fire("load")};I.setAttrib(l,"src",f||'javascript:""');b.contentAreaContainer=k.iframeContainer;b.iframeElement=l;h=I.add(k.iframeContainer,l);if(R)try{b.getDoc()}catch(na){h.src=
f=c}k.editorContainer&&(I.get(k.editorContainer).style.display=b.orgDisplay,b.hidden=I.isHidden(k.editorContainer));b.getElement().style.display="none";I.setAttrib(b.id,"aria-hidden",!0);f||b.initContentBody();d=h=k=null},initContentBody:function(a){var e=this,g=e.settings,h=e.getElement(),n=e.getDoc();g.inline||(e.getElement().style.visibility=e.orgVisibility);a||g.content_editable||(n.open(),n.write(e.iframeHTML),n.close());g.content_editable&&(e.on("remove",function(){var a=this.getBody();I.removeClass(a,
"mce-content-body");I.removeClass(a,"mce-edit-focus");I.setAttrib(a,"contentEditable",null)}),I.addClass(h,"mce-content-body"),e.contentDocument=n=g.content_document||document,e.contentWindow=g.content_window||window,e.bodyElement=h,g.content_document=g.content_window=null,g.root_name=h.nodeName.toLowerCase());a=e.getBody();a.disabled=!0;e.readonly=g.readonly;e.readonly||(e.inline&&"static"==I.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable=e.getParam("content_editable_state",
!0));a.disabled=!1;e.editorUpload=new M(e);e.schema=new r(g);e.dom=new l(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:g.content_editable,schema:e.schema,onSetAttrib:function(a){e.fire("SetAttrib",a)}});e.parser=new w(g,e.schema);e.parser.addAttributeFilter("src,href,style,tabindex",function(a,b){for(var c=a.length,d,f=e.dom,g,k;c--;)d=a[c],g=d.attr(b),
k="data-mce-"+b,d.attributes.map[k]||0===g.indexOf("data:")||0===g.indexOf("blob:")||("style"===b?(g=f.serializeStyle(f.parseStyle(g),d.name),g.length||(g=null),d.attr(k,g),d.attr(b,g)):"tabindex"===b?(d.attr(k,g),d.attr(b,null)):d.attr(k,e.convertURL(g,b,d.name)))});e.parser.addNodeFilter("script",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.attr("type")||"no/type",0!==d.indexOf("mce-")&&c.attr("type","mce-"+d)});e.parser.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],
c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});e.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var c=a.length,d,f=e.schema.getNonEmptyElements();c--;)d=a[c],d.isEmpty(f)&&0===d.getAll("br").length&&(d.append(new b("br",1)).shortEnded=!0)});e.serializer=new f(g,e);e.selection=new c(e.dom,e.getWin(),e.serializer,e);e.formatter=new k(e);e.undoManager=new m(e);e.forceBlocks=new u(e);e.enterKey=new v(e);e._nodeChangeDispatcher=new d(e);e._selectionOverrides=new U(e);e.fire("PreInit");
g.browser_spellcheck||g.gecko_spellcheck||(n.body.spellcheck=!1,I.setAttrib(a,"spellcheck","false"));e.quirks=new A(e);e.fire("PostRender");g.directionality&&(a.dir=g.directionality);g.nowrap&&(a.style.whiteSpace="nowrap");if(g.protect)e.on("BeforeSetContent",function(a){Q(g.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});e.on("SetContent",function(){e.addVisual(e.getBody())});if(g.padd_empty_editor)e.on("PostProcess",function(a){a.content=
a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")});e.load({initial:!0,format:"html"});e.startContent=e.getContent({format:"raw"});e.initialized=!0;e.bindPendingEventDelegates();e.fire("init");e.focus(!0);e.nodeChanged({initial:!0});e.execCallback("init_instance_callback",e);e.on("compositionstart compositionend",function(a){e.composing="compositionstart"===a.type});if(0<e.contentStyles.length){var p="";Q(e.contentStyles,function(a){p+=a+"\r\n"});e.dom.addStyle(p)}Q(e.contentCSS,
function(a){e.loadedCSS[a]||(e.dom.loadCSS(a),e.loadedCSS[a]=!0)});g.auto_focus&&G.setEditorTimeout(e,function(){var a=!0===g.auto_focus?e:e.editorManager.get(g.auto_focus);a.destroyed||a.focus()},100);h=n=a=null},focus:function(a){function b(a){return c.dom.getParent(a,function(a){return"true"===c.dom.getContentEditable(a)})}var c=this,d=c.selection,e=c.settings.content_editable,f,g=c.getDoc(),k=c.getBody();if(!a){a=d.getRng();a.item&&(f=a.item(0));c.quirks.refreshContentEditable();a=b(d.getNode());
if(c.$.contains(k,a)){a.focus();d.normalize();c.editorManager.setActive(c);return}e||(z.opera||c.getBody().focus(),c.getWin().focus());if(aa||e){if(k.setActive)try{k.setActive()}catch(ma){k.focus()}else k.focus();e&&d.normalize()}f&&f.ownerDocument==g&&(a=g.body.createControlRange(),a.addElement(f),a.select())}c.editorManager.setActive(c)},execCallback:function(a){var b=this.settings[a],c;if(b)return this.callbackLookup&&(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"===typeof b&&(c=(c=
b.replace(/\.\w+$/,""))?B(c):0,b=B(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},translate:function(a){var b=this.settings.language||"en",c=this.editorManager.i18n;if(!a)return"";a=c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"});return this.editorManager.translate(a)},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+
"."+a]||(b!==F?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;if("hash"===c){var d={};"string"===typeof a?Q(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");1<a.length?d[S(a[0])]=S(a[1]):d[S(a[0])]=S(a)}):d=a;return d}return a},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});b.text||b.icon||(b.icon=a);c.buttons=c.buttons||
{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addSidebar:function(a,b){return K.add(this,a,b)},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addContextToolbar:function(a,b){var c=this;c.contextToolbars=c.contextToolbars||[];if("string"==typeof a){var d=a;a=function(a){return c.dom.is(a,d)}}c.contextToolbars.push({id:J.uuid("mcet"),predicate:a,items:b})},addCommand:function(a,b,c){this.editorCommands.addCommand(a,
b,c)},addQueryStateHandler:function(a,b,c){this.editorCommands.addQueryStateHandler(a,b,c)},addQueryValueHandler:function(a,b,c){this.editorCommands.addQueryValueHandler(a,b,c)},addShortcut:function(a,b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){return this.editorCommands.execCommand(a,b,c,d)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},
show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(I.show(this.getContainer()),I.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var a=this.getDoc();this.hidden||(R&&a&&!this.inline&&a.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(I.hide(this.getContainer()),I.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},
isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=this.getElement();if(b){a=a||{};a.load=!0;var c=this.setContent(b.value!==F?b.value:b.innerHTML,a);a.element=b;a.no_events||this.fire("LoadContent",a);a.element=null;return c}},save:function(a){var b=this,c=b.getElement(),d;if(c&&b.initialized){a=a||{};a.save=!0;a.element=c;var e=a.content=b.getContent(a);a.no_events||b.fire("SaveContent",a);"raw"==a.format&&
b.fire("RawSaveContent",a);e=a.content;/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=e:(b.inline||(c.innerHTML=e),(d=I.getParent(b.id,"form"))&&Q(d.elements,function(a){if(a.name==b.id)return a.value=e,!1}));a.element=c=null;!1!==a.set_dirty&&b.setDirty(!1);return e}},setContent:function(b,c){var d=this.getBody(),e;c=c||{};c.format=c.format||"html";c.set=!0;c.content=b;c.no_events||this.fire("BeforeSetContent",c);b=c.content;if(0===b.length||/^\s+$/.test(b)){var f=R&&11>R?"":'<br data-mce-bogus="1">';
"TABLE"==d.nodeName?b="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(d.nodeName)&&(b="<li>"+f+"</li>");(e=this.settings.forced_root_block)&&this.schema.isValidChild(d.nodeName.toLowerCase(),e.toLowerCase())?b=this.dom.createHTML(e,this.settings.forced_root_block_attrs,f):R||b||(b='<br data-mce-bogus="1">');this.dom.setHTML(d,b);this.fire("SetContent",c)}else"raw"!==c.format&&(b=(new a({validate:this.validate},this.schema)).serialize(this.parser.parse(b,{isRootContent:!0}))),c.content=S(b),this.dom.setHTML(d,
c.content),c.no_events||this.fire("SetContent",c);return c.content},getContent:function(a){var b=this.getBody();a=a||{};a.format=a.format||"html";a.get=!0;a.getInner=!0;a.no_events||this.fire("BeforeGetContent",a);b="raw"==a.format?x.trim(this.serializer.getTrimmedContent()):"text"==a.format?b.innerText||b.textContent:this.serializer.serialize(b,a);a.content="text"!=a.format?S(b):b;a.no_events||this.fire("GetContent",a);return a.content},insertContent:function(a,b){b&&(a=qa({content:a},b));this.execCommand("mceInsertContent",
!1,a)},isDirty:function(){return!this.isNotDirty},setDirty:function(a){var b=!this.isNotDirty;this.isNotDirty=!a;a&&a!=b&&this.fire("dirty")},setMode:function(a){H.setMode(this,a)},getContainer:function(){this.container||(this.container=I.get(this.editorContainer||this.id+"_parent"));return this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){this.targetElm||(this.targetElm=I.get(this.id));return this.targetElm},getWin:function(){var a;!this.contentWindow&&
(a=this.iframeElement)&&(this.contentWindow=a.contentWindow);return this.contentWindow},getDoc:function(){var a;!this.contentDocument&&(a=this.getWin())&&(this.contentDocument=a.document);return this.contentDocument},getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?
a:d.relative_urls?this.documentBaseURI.toRelative(a):a=this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,d=b.dom,e;a=a||b.getBody();b.hasVisual===F&&(b.hasVisual=c.visual);Q(d.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":e=c.visual_table_class||"mce-item-table";(f=d.getAttrib(a,"border"))&&"0"!=f||!b.hasVisual?d.removeClass(a,e):d.addClass(a,e);break;case "A":d.getAttrib(a,"href",!1)||(f=d.getAttrib(a,"name")||a.id,e=c.visual_anchor_class||
"mce-item-anchor",f&&b.hasVisual?d.addClass(a,e):d.removeClass(a,e))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){this.removed||(this.save(),this.removed=1,this.unbindAllNativeEvents(),this.hasHiddenInput&&I.remove(this.getElement().nextSibling),this.inline||(R&&10>R&&this.getDoc().execCommand("SelectAll",!1,null),I.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=null),this.fire("remove"),this.editorManager.remove(this),I.remove(this.getContainer()),
this._selectionOverrides.destroy(),this.editorUpload.destroy(),this.destroy())},destroy:function(a){if(!this.destroyed)if(a||this.removed){a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy());if(a=this.formElement)a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),I.unbind(a,"submit reset",this.formEventDelegate);this.iframeElement=this.targetElm=this.bodyElement=this.contentDocument=
this.contentWindow=this.contentAreaContainer=this.formElement=this.container=this.editorContainer=null;this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}else this.remove()},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}};qa(D.prototype,C);return D});w("tinymce/util/I18n",["tinymce/util/Tools"],function(l){var h={},e="en";return{setCode:function(d){d&&
(e=d,this.rtl=this.data[d]?"rtl"===this.data[d]._dir:!1)},getCode:function(){return e},rtl:!1,add:function(d,b){var e=h[d];e||(h[d]=e={});for(var a in b)e[a]=b[a];this.setCode(d)},translate:function(d){function b(a){return l.is(a,"function")?Object.prototype.toString.call(a):f(a)?"":""+a}function f(a){return""===a||null===a||l.is(a,"undefined")}function a(a){a=b(a);return l.hasOwn(c,a)?b(c[a]):a}var c=h[e]||{};if(f(d))return"";if(l.is(d,"object")&&l.hasOwn(d,"raw"))return b(d.raw);if(l.is(d,"array")){var k=
d.slice(1);d=a(d[0]).replace(/\{([0-9]+)\}/g,function(a,c){return l.hasOwn(k,c)?b(k[c]):a})}return a(d).replace(/{context:\w+}$/,"")},data:h}});w("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(l,h,e){function d(d){function l(){try{return document.activeElement}catch(u){return document.body}}d.on("AddEditor",function(m){var g=m.editor;g.on("init",function(){if(g.inline||e.ie){if("onbeforedeactivate"in document&&9>e.ie)g.dom.bind(g.getBody(),"beforedeactivate",
function(a){if(a.target==g.getBody())try{g.lastRng=g.selection.getRng()}catch(t){}});else g.on("nodechange mouseup keyup",function(a){var b=l();"nodechange"==a.type&&a.selectionChange||(b&&b.id==g.id+"_ifr"&&(b=g.getBody()),g.dom.isChildOf(b,g.getBody())&&(g.lastRng=g.selection.getRng()))});e.webkit&&!b&&(b=function(){var a=d.activeEditor;a&&a.selection&&(a=a.selection.getRng())&&!a.collapsed&&(g.lastRng=a)},c.bind(document,"selectionchange",b))}});g.on("setcontent",function(){g.lastRng=null});g.on("mousedown",
function(){g.selection.lastFocusBookmark=null});g.on("focusin",function(){var a=d.focusedEditor;if(g.selection.lastFocusBookmark){var b=g.selection.lastFocusBookmark;if(b.startContainer){var c=g.getDoc().createRange();c.setStart(b.startContainer,b.startOffset);c.setEnd(b.endContainer,b.endOffset)}else c=b;g.selection.lastFocusBookmark=null;g.selection.setRng(c)}a!=g&&(a&&a.fire("blur",{focusedEditor:g}),d.setActive(g),d.focusedEditor=g,g.fire("focus",{blurredEditor:a}),g.focus(!0));g.lastRng=null});
g.on("focusout",function(){h.setEditorTimeout(g,function(){var a=d.focusedEditor;k(g,l())||a!=g||(g.fire("blur",{focusedEditor:null}),d.focusedEditor=null,g.selection&&(g.selection.lastFocusBookmark=null))})});f||(f=function(a){var b=d.activeEditor;a=a.target;if(b&&a.ownerDocument==document){if(b.selection&&a!=b.getBody()){var c=b.selection;var e=b.dom;var f=b.lastRng;e=f&&f.startContainer?e.isChildOf(f.startContainer,e.getRoot())&&e.isChildOf(f.endContainer,e.getRoot())?{startContainer:f.startContainer,
startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset}:void 0:f;c.lastFocusBookmark=e}a==document.body||k(b,a)||d.focusedEditor!=b||(b.fire("blur",{focusedEditor:null}),d.focusedEditor=null)}},c.bind(document,"focusin",f));g.inline&&!a&&(a=function(a){var b=d.activeEditor,c=b.dom;b.inline&&c&&!c.isChildOf(a.target,b.getBody())&&(a=b.selection.getRng(),a.collapsed||(b.lastRng=a))},c.bind(document,"mouseup",a))});d.on("RemoveEditor",function(e){d.focusedEditor==e.editor&&(d.focusedEditor=
null);d.activeEditor||(c.unbind(document,"selectionchange",b),c.unbind(document,"focusin",f),c.unbind(document,"mouseup",a),b=f=a=null)})}var b,f,a,c=l.DOM,k=function(a,b){var e=a?a.settings.custom_ui_selector:"";return null!==c.getParent(b,function(b){return d.isEditorUIElement(b)||(e?a.dom.is(b,e):!1)})};d.isEditorUIElement=function(a){return-1!==a.className.toString().indexOf("mce-")};d._isUIElement=k;return d});w("tinymce/EditorManager","tinymce/Editor tinymce/dom/DomQuery tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Promise tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager tinymce/AddOnManager".split(" "),
function(l,h,e,d,b,f,a,c,k,m,v){function u(a){q(z.editors,function(b){"scroll"===a.type?b.fire("ScrollWindow",a):b.fire("ResizeWindow",a)})}function g(a,b){if(b!==A){if(b)h(window).on("resize scroll",u);else h(window).off("resize scroll",u);A=b}}function n(a){var b=z.editors;delete b[a.id];for(var c=0;c<b.length;c++)if(b[c]==a){b.splice(c,1);var d=!0;break}z.activeEditor==a&&(z.activeEditor=b[0]);z.focusedEditor==a&&(z.focusedEditor=null);return d}var t=e.DOM,y=f.explode,q=f.each,p=f.extend,r=0,w,
A=!1;var z={$:h,majorVersion:"4",minorVersion:"5.7",releaseDate:"2017-04-25",editors:[],i18n:k,activeEditor:null,setup:function(){var a="",b;var c=d.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(c)&&(c=c.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+="/"));if(b=window.tinymce||window.tinyMCEPreInit){var e=b.base||b.baseURL;a=b.suffix}else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){b=f[g].src;var k=b.substring(b.lastIndexOf("/"));
if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){-1!=k.indexOf(".min")&&(a=".min");e=b.substring(0,b.lastIndexOf("/"));break}}!e&&document.currentScript&&(b=document.currentScript.src,-1!=b.indexOf(".min")&&(a=".min"),e=b.substring(0,b.lastIndexOf("/")))}this.baseURL=(new d(c)).toAbsolute(e);this.documentBaseURL=c;this.baseURI=new d(this.baseURL);this.suffix=a;this.focusManager=new m(this)},overrideDefaults:function(a){var b;if(b=a.base_url)this.baseURL=(new d(this.documentBaseURL)).toAbsolute(b.replace(/\/+$/,
"")),this.baseURI=new d(this.baseURL);if(b=a.suffix)this.suffix=b;this.defaultSettings=a;a=a.plugin_base_urls;for(var c in a)v.PluginManager.urls[c]=a[c]},init:function(b){function c(a){var b=a.id;b||(b=(b=a.name)&&!t.get(b)?a.name:t.uniqueId(),a.setAttribute("id",b));return b}function d(a){var c=b[a];if(c)return c.apply(m,Array.prototype.slice.call(arguments,2))}function e(a,b){return b.constructor===RegExp?b.test(a.className):t.hasClass(a,b)}function g(a){var b=[];if(a.types)return q(a.types,function(a){b=
b.concat(t.select(a.selector))}),b;if(a.selector)return t.select(a.selector);if(a.target)return[a.target];switch(a.mode){case "exact":var c=a.elements||"";0<c.length&&q(y(c),function(a){var c;(c=t.get(a))?b.push(c):q(document.forms,function(c){q(c.elements,function(c){c.name===a&&(a="mce_editor_"+r++,t.setAttrib(c,"id",a),b.push(c))})})});break;case "textareas":case "specific_textareas":q(t.select("textarea"),function(c){a.editor_deselector&&e(c,a.editor_deselector)||a.editor_selector&&!e(c,a.editor_selector)||
b.push(c)})}return b}function k(){function a(a,b,c){a=new l(a,b,m);r.push(a);a.on("init",function(){++e===u.length&&x(r)});a.targetElm=a.targetElm||c;a.render()}var e=0,r=[];t.unbind(window,"ready",k);d("onpageload");var u=h.unique(g(b));b.types?q(b.types,function(d){f.each(u,function(e){return t.is(e,d.selector)?(a(c(e),p({},b,d),e),!1):!0})}):(f.each(u,function(a){(a=m.get(a.id))&&a.initialized&&!(a.getContainer()||a.getBody()).parentNode&&(n(a),a.unbindAllNativeEvents(),a.destroy(!0),a.removed=
!0)}),u=f.grep(u,function(a){return!m.get(a.id)}),q(u,function(d){b.inline&&d.tagName.toLowerCase()in v?window.console&&!window.test&&window.console.log("Could not initialize inline editor on invalid inline target element",d):a(c(d),b,d)}))}var m=this,u;var v=f.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var x=function(a){u=a};m.settings=
b;t.bind(window,"ready",k);return new a(function(a){u?a(u):x=function(b){a(b)}})},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(a){var b=this,c=b.editors;c[a.id]=a;c.push(a);g(c,!0);b.activeEditor=a;b.fire("AddEditor",{editor:a});w||(w=function(){b.fire("BeforeUnload")},t.bind(window,"beforeunload",w));return a},createEditor:function(a,b){return this.add(new l(a,b,this))},remove:function(a){var b=this,c=b.editors;if(a)if("string"==typeof a)a=
a.selector||a,q(t.select(a),function(a){(d=c[a.id])&&b.remove(d)});else{var d=a;if(!c[d.id])return null;n(d)&&b.fire("RemoveEditor",{editor:d});c.length||t.unbind(window,"beforeunload",w);d.remove();g(c,0<c.length);return d}else for(a=c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var d=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new l(c,this.settings,this)).render(),!0;case "mceRemoveEditor":return d&&d.remove(),!0;case "mceToggleEditor":if(!d)return this.execCommand("mceAddEditor",
0,c),!0;d.isHidden()?d.show():d.hide();return!0}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){q(this.editors,function(a){a.save()})},addI18n:function(a,b){k.add(a,b)},translate:function(a){return k.translate(a)},setActive:function(a){var b=this.activeEditor;this.activeEditor!=a&&(b&&b.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:b}));this.activeEditor=a}};p(z,c);z.setup();return window.tinymce=window.tinyMCE=z});w("tinymce/LegacyInput",
["tinymce/EditorManager","tinymce/util/Tools"],function(l,h){var e=h.each,d=h.explode;l.on("AddEditor",function(b){var f=b.editor;f.on("preInit",function(){function a(a,b){e(b,function(b,c){b&&k.setStyle(a,c,b)});k.rename(a,"span")}function b(a){k=f.dom;h.convert_fonts_to_spans&&e(k.select("font,u,strike",a.node),function(a){u[a.nodeName.toLowerCase()](k,a)})}var k,h=f.settings;if(h.inline_styles){var l=d(h.font_size_legacy_values);var u={font:function(b,c){a(c,{backgroundColor:c.style.backgroundColor,
color:c.color,fontFamily:c.face,fontSize:l[parseInt(c.size,10)-1]})},u:function(b,c){"html4"===f.settings.schema&&a(c,{textDecoration:"underline"})},strike:function(b,c){a(c,{textDecoration:"line-through"})}};f.on("PreProcess SetContent",b)}})})});w("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(l,h){var e={send:function(d){function b(){!d.async||4==a.readyState||1E4<f++?(d.success&&1E4>f&&200==a.status?d.success.call(d.success_scope,""+a.responseText,a,d):d.error&&d.error.call(d.error_scope,
1E4<f?"TIMED_OUT":"GENERAL",a,d),a=null):setTimeout(b,10)}var f=0;d.scope=d.scope||this;d.success_scope=d.success_scope||d.scope;d.error_scope=d.error_scope||d.scope;d.async=!1===d.async?!1:!0;d.data=d.data||"";e.fire("beforeInitialize",{settings:d});var a=new XMLHttpRequest;a.overrideMimeType&&a.overrideMimeType(d.content_type);a.open(d.type||(d.data?"POST":"GET"),d.url,d.async);d.crossDomain&&(a.withCredentials=!0);d.content_type&&a.setRequestHeader("Content-Type",d.content_type);d.requestheaders&&
h.each(d.requestheaders,function(b){a.setRequestHeader(b.key,b.value)});a.setRequestHeader("X-Requested-With","XMLHttpRequest");a=e.fire("beforeSend",{xhr:a,settings:d}).xhr;a.send(d.data);if(!d.async)return b();setTimeout(b,10)}};h.extend(e,l);return e});w("tinymce/util/JSON",[],function(){function l(h,e){var d;e=e||'"';if(null===h)return"null";var b=typeof h;if("string"==b){var f="\bb\tt\nn\ff\rr\"\"''\\\\";return e+h.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(b,d){if('"'===e&&"'"===b)return b;
a=f.indexOf(d);if(a+1)return"\\"+f.charAt(a+1);b=d.charCodeAt().toString(16);return"\\u"+"0000".substring(b.length)+b})+e}if("object"==b){if(h.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(h)){var a=0;for(f="[";a<h.length;a++)f+=(0<a?",":"")+l(h[a],e);return f+"]"}f="{";for(d in h)h.hasOwnProperty(d)&&(f+="function"!=typeof h[d]?(1<f.length?","+e:e)+d+e+":"+l(h[d],e):"");return f+"}"}return""+h}return{serialize:l,parse:function(h){try{return window[String.fromCharCode(101)+"val"]("("+
h+")")}catch(e){}}}});w("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(l,h,e){function d(d){this.settings=b({},d);this.count=0}var b=e.extend;d.sendRPC=function(b){return(new d).send(b)};d.prototype={send:function(d){var a=d.error,c=d.success;d=b(this.settings,d);d.success=function(b,e){b=l.parse(b);"undefined"==typeof b&&(b={error:"JSON Parse error."});b.error?a.call(d.error_scope||d.scope,b.error,e):c.call(d.success_scope||d.scope,b.result)};d.error=
function(b,c){a&&a.call(d.error_scope||d.scope,b,c)};d.data=l.serialize({id:d.id||"c"+this.count++,method:d.method,params:d.params});d.content_type="application/json";h.send(d)}};return d});w("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(l){return{callbacks:{},count:0,send:function(h){var e=this,d=l.DOM,b=h.count!==F?h.count:e.count,f="tinymce_jsonp_"+b;e.callbacks[b]=function(a){d.remove(f);delete e.callbacks[b];h.callback(a)};d.add(d.doc.body,"script",{id:f,src:h.url,type:"text/javascript"});
e.count++}}});w("tinymce/util/LocalStorage",[],function(){function l(){d=[];for(var a in e)d.push(a);c.length=d.length}function h(){var c="";if(b){for(var d in e){var h=e[d];c+=(c?",":"")+d.length.toString(32)+","+d+","+h.length.toString(32)+","+h}a.setAttribute(f,c);try{a.save(f)}catch(u){}l()}}var e,d,b;try{if(window.localStorage)return localStorage}catch(k){}var f="tinymce";var a=document.documentElement;(b=!!a.addBehavior)&&a.addBehavior("#default#userData");var c={key:function(a){return d[a]},
getItem:function(a){return a in e?e[a]:null},setItem:function(a,b){e[a]=""+b;h()},removeItem:function(a){delete e[a];h()},clear:function(){e={};h()}};(function(){function c(a){var b=a!==F?d+a:h.indexOf(",",d);if(-1===b||b>h.length)return null;a=h.substring(d,b);d=b+1;return a}var d=0;e={};if(b){a.load(f);var h=a.getAttribute(f)||"";do{var u=c();if(null===u)break;var g=c(parseInt(u,32)||0);if(null!==g){u=c();if(null===u)break;u=c(parseInt(u,32)||0);g&&(e[g]=u)}}while(null!==g);l()}})();return c});
w("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),function(l,h,e,d,b,f){var a=window.tinymce;a.DOM=l.DOM;a.ScriptLoader=e.ScriptLoader;a.PluginManager=d.PluginManager;a.ThemeManager=d.ThemeManager;a.dom=a.dom||{};a.dom.Event=h.Event;b.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(c){a[c]=b[c]});b.each(["isOpera",
"isWebKit","isIE","isGecko","isMac"],function(b){a[b]=f[b.substr(2).toLowerCase()]});return{}});w("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(l,h){return l.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=h.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var d=this.settings,b,f;var a=d.firstControlClass;var c=d.lastControlClass;e.each(function(e){e.classes.remove(a).remove(c).add(d.controlClass);
e.visible()&&(b||(b=e),f=e)});b&&b.classes.add(a);f&&f.classes.add(c)},renderHtml:function(e){var d="";this.applyClasses(e.items());e.items().each(function(b){d+=b.renderHtml()});return d},recalc:function(){},postRender:function(){},isNative:function(){return!1}})});w("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(l){return l.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(h){h.items().filter(":visible").each(function(e){var d=e.settings;e.layoutRect({x:d.x,
y:d.y,w:d.w,h:d.h});e.recalc&&e.recalc()})},renderHtml:function(h){return'<div id="'+h._id+'-absend" class="'+h.classPrefix+'abs-end"></div>'+this._super(h)}})});w("tinymce/ui/Button",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{classes:"widget btn",role:"button"},init:function(h){var e=this;e._super(h);h=e.settings;var d=e.settings.size;e.on("click mousedown",function(b){b.preventDefault()});e.on("touchstart",function(b){e.fire("click",b);b.preventDefault()});h.subtype&&e.classes.add(h.subtype);
d&&e.classes.add("btn-"+d);h.icon&&e.icon(h.icon)},icon:function(h){if(!arguments.length)return this.state.get("icon");this.state.set("icon",h);return this},repaint:function(){var h=this.getEl().firstChild;h&&(h=h.style,h.width=h.height="100%");this._super()},renderHtml:function(){var h=this._id,e=this.classPrefix,d=this.state.get("icon"),b,f=this.state.get("text"),a="";(b=this.settings.image)?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):
b="";f&&(this.classes.add("btn-has-text"),a='<span class="'+e+'txt">'+this.encode(f)+"</span>");d=d?e+"ico "+e+"i-"+d:"";return'<div id="'+h+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+h+'"><button role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+a+"</button></div>"},bindStates:function(){function h(f){var a=d("span."+b,e.getEl());f?(a[0]||(d("button:first",e.getEl()).append('<span class="'+b+'"></span>'),a=d("span."+b,e.getEl())),a.html(e.encode(f))):
a.remove();e.classes.toggle("btn-has-text",!!f)}var e=this,d=e.$,b=e.classPrefix+"txt";e.state.on("change:text",function(b){h(b.value)});e.state.on("change:icon",function(b){b=b.value;var a=e.classPrefix;b=(e.settings.icon=b)?a+"ico "+a+"i-"+e.settings.icon:"";var a=e.getEl().firstChild,c=a.getElementsByTagName("i")[0];b?(c&&c==a.firstChild||(c=document.createElement("i"),a.insertBefore(c,a.firstChild)),c.className=b):c&&a.removeChild(c);h(e.state.get("text"))});return e._super()}})});w("tinymce/ui/ButtonGroup",
["tinymce/ui/Container"],function(l){return l.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var h=this._layout;this.classes.add("btn-group");this.preRender();h.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});w("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(l){return l.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(h){var e=
this;e._super(h);e.on("click mousedown",function(d){d.preventDefault()});e.on("click",function(d){d.preventDefault();e.disabled()||e.checked(!e.checked())});e.checked(e.settings.checked)},checked:function(h){if(!arguments.length)return this.state.get("checked");this.state.set("checked",h);return this},value:function(h){return arguments.length?this.checked(h):this.checked()},renderHtml:function(){var h=this._id,e=this.classPrefix;return'<div id="'+h+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+
h+'-al" tabindex="-1"><i class="'+e+"ico "+e+'i-checkbox"></i><span id="'+h+'-al" class="'+e+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function h(d){e.classes.toggle("checked",d);e.aria("checked",d)}var e=this;e.state.on("change:text",function(d){e.getEl("al").firstChild.data=e.translate(d.value)});e.state.on("change:checked change:value",function(d){e.fire("change");h(d.value)});e.state.on("change:icon",function(d){d=d.value;var b=e.classPrefix;if("undefined"==
typeof d)return e.settings.icon;d=(e.settings.icon=d)?b+"ico "+b+"i-"+e.settings.icon:"";var b=e.getEl().firstChild,f=b.getElementsByTagName("i")[0];d?(f&&f==b.firstChild||(f=document.createElement("i"),b.insertBefore(f,b.firstChild)),f.className=d):f&&b.removeChild(f)});e.state.get("checked")&&h(!0);return e._super()}})});w("tinymce/ui/ComboBox","tinymce/ui/Widget tinymce/ui/Factory tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/util/VK tinymce/util/Tools".split(" "),function(l,h,e,d,b,f){return l.extend({init:function(a){var b=
this;b._super(a);a=b.settings;b.classes.add("combobox");b.subinput=!0;b.ariaTarget="inp";a.menu=a.menu||a.values;a.menu&&(a.icon="caret");b.on("click",function(c){var e=c.target,f=b.getEl();if(d.contains(f,e)||e==f)for(;e&&e!=f;)e.id&&-1!=e.id.indexOf("-open")&&(b.fire("action"),a.menu&&(b.showMenu(),c.aria&&b.menu.items()[0].focus())),e=e.parentNode});b.on("keydown",function(a){var c;13==a.keyCode&&"INPUT"===a.target.nodeName&&(a.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=
a,!1}),b.fire("submit",{data:c.toJSON()}))});b.on("keyup",function(a){if("INPUT"==a.target.nodeName){var c=b.state.get("value"),d=a.target.value;d!==c&&(b.state.set("value",d),b.fire("autocomplete",a))}});b.on("mouseover",function(a){var c=b.tooltip().moveTo(-65535);if(b.statusLevel()&&-1!==a.target.className.indexOf(b.classPrefix+"status")){var d=b.statusMessage()||"Ok",d=c.text(d).show().testMoveRel(a.target,["bc-tc","bc-tl","bc-tr"]);c.classes.toggle("tooltip-n","bc-tc"==d);c.classes.toggle("tooltip-nw",
"bc-tl"==d);c.classes.toggle("tooltip-ne","bc-tr"==d);c.moveRel(a.target,d)}})},statusLevel:function(a){0<arguments.length&&this.state.set("statusLevel",a);return this.state.get("statusLevel")},statusMessage:function(a){0<arguments.length&&this.state.set("statusMessage",a);return this.state.get("statusMessage")},showMenu:function(){var a=this,b=a.settings;a.menu||(b=b.menu||[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",a.menu=h.create(b).parent(a).renderTo(a.getContainerElm()),a.fire("createmenu"),
a.menu.reflow(),a.menu.on("cancel",function(b){b.control===a.menu&&a.focus()}),a.menu.on("show hide",function(b){b.control.items().each(function(b){b.active(b.value()==a.value())})}).fire("show"),a.menu.on("select",function(b){a.value(b.control.value())}),a.on("focusin",function(b){"INPUT"==b.target.tagName.toUpperCase()&&a.menu.hide()}),a.aria("expanded",!0));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},
repaint:function(){var a=this.getEl(),b=this.getEl("open"),f=this.layoutRect(),h,l=0,a=a.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(l=parseInt(e.getRuntimeStyle(a,"padding-right"),10)-parseInt(e.getRuntimeStyle(a,"padding-left"),10));b=b?f.w-e.getSize(b).width-10:f.w-10;f=document;f.all&&(!f.documentMode||8>=f.documentMode)&&(h=this.layoutRect().h-2+"px");d(a).css({width:b-l,lineHeight:h});this._super();return this},postRender:function(){var a=this;d(this.getEl("inp")).on("change",
function(b){a.state.set("value",b.target.value);a.fire("change",b)});return a._super()},renderHtml:function(){var a=this._id,b=this.settings,d=this.classPrefix,e=this.state.get("value")||"",f,h="",g="";"spellcheck"in b&&(g+=' spellcheck="'+b.spellcheck+'"');b.maxLength&&(g+=' maxlength="'+b.maxLength+'"');b.size&&(g+=' size="'+b.size+'"');b.subtype&&(g+=' type="'+b.subtype+'"');var l='<i id="'+a+'-status" class="mce-status mce-ico" style="display: none"></i>';this.disabled()&&(g+=' disabled="disabled"');
(f=b.icon)&&"caret"!=f&&(f=d+"ico "+d+"i-"+b.icon);var t=this.state.get("text");if(f||t)h='<div id="'+a+'-open" class="'+d+"btn "+d+'open" tabIndex="-1" role="button"><button id="'+a+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=f?'<i class="'+f+'"></i>':'<i class="'+d+'caret"></i>')+(t?(f?" ":"")+t:"")+"</button></div>",this.classes.add("has-open");return'<div id="'+a+'" class="'+this.classes+'"><input id="'+a+'-inp" class="'+d+'textbox" value="'+this.encode(e,!1)+'" hidefocus="1"'+
g+' placeholder="'+this.encode(b.placeholder)+'" />'+l+h+"</div>"},value:function(a){if(arguments.length)return this.state.set("value",a),this;this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value);return this.state.get("value")},showAutoComplete:function(a,b){var c=this;if(0===a.length)c.hideMenu();else{var d=function(a,b){return function(){c.fire("selectitem",{title:b,value:a})}};c.menu?c.menu.items().remove():c.menu=h.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(c).renderTo();
f.each(a,function(a){c.menu.add({text:a.title,url:a.previewUrl,match:b,classes:"menu-item-ellipsis",onclick:d(a.value,a.title)})});c.menu.renderNew();c.hideMenu();c.menu.on("cancel",function(a){a.control.parent()===c.menu&&(a.stopPropagation(),c.focus(),c.hideMenu())});c.menu.on("select",function(){c.focus()});var e=c.layoutRect().w;c.menu.layoutRect({w:e,minW:0,maxW:e});c.menu.reflow();c.menu.show();c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}},hideMenu:function(){this.menu&&
this.menu.hide()},bindStates:function(){var a=this;a.state.on("change:value",function(b){a.getEl("inp").value!=b.value&&(a.getEl("inp").value=b.value)});a.state.on("change:disabled",function(b){a.getEl("inp").disabled=b.value});a.state.on("change:statusLevel",function(b){var c=a.getEl("status"),d=a.classPrefix;b=b.value;e.css(c,"display","none"===b?"none":"");e.toggleClass(c,d+"i-checkmark","ok"===b);e.toggleClass(c,d+"i-warning","warn"===b);e.toggleClass(c,d+"i-error","error"===b);a.classes.toggle("has-status",
"none"!==b);a.repaint()});e.on(a.getEl("status"),"mouseleave",function(){a.tooltip().hide()});a.on("cancel",function(b){a.menu&&a.menu.visible()&&(b.stopPropagation(),a.hideMenu())});var c=function(a,b){b&&0<b.items().length&&b.items().eq(a)[0].focus()};a.on("keydown",function(d){var e=d.keyCode;"INPUT"===d.target.nodeName&&(e===b.DOWN?(d.preventDefault(),a.fire("autocomplete"),c(0,a.menu)):e===b.UP&&(d.preventDefault(),c(-1,a.menu)))});return a._super()},remove:function(){d(this.getEl("inp")).off();
this.menu&&this.menu.remove();this._super()}})});w("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(l){return l.extend({init:function(h){var e=this;h.spellcheck=!1;h.onaction&&(h.icon="none");e._super(h);e.classes.add("colorbox");e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(h){var e=this.getEl("open");if(e=e?e.getElementsByTagName("i")[0]:null)try{e.style.background=h}catch(d){}},bindStates:function(){var h=this;h.state.on("change:value",function(e){h.state.get("rendered")&&
h.repaintColor(e.value)});return h._super()}})});w("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(l,h){return l.extend({showPanel:function(){var e=this,d=e.settings;e.active(!0);if(e.panel)e.panel.show();else{var b=d.panel;b.type&&(b={layout:"grid",items:b});b.role=b.role||"dialog";b.popover=!0;b.autohide=!0;b.ariaRoot=!0;e.panel=(new h(b)).on("hide",function(){e.active(!1)}).on("cancel",function(b){b.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());
e.panel.fire("show");e.panel.reflow()}e.panel.moveRel(e.getEl(),d.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var e=this;e.aria("haspopup",!0);e.on("click",function(d){d.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!d.aria)))});return e._super()},remove:function(){this.panel&&(this.panel.remove(),this.panel=null);return this._super()}})});w("tinymce/ui/ColorButton",
["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(l,h){var e=h.DOM;return l.extend({init:function(d){this._super(d);this.classes.add("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},resetColor:function(){this._color=null;this.getEl("preview").style.backgroundColor=null;return this},renderHtml:function(){var d=this._id,b=this.classPrefix,e=this.state.get("text"),a=this.settings.icon?b+"ico "+b+"i-"+this.settings.icon:
"",c=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",h="";e&&(this.classes.add("btn-has-text"),h='<span class="'+b+'txt">'+this.encode(e)+"</span>");return'<div id="'+d+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+c+"></i>":"")+'<span id="'+d+'-preview" class="'+b+'preview"></span>'+h+'</button><button type="button" class="'+b+'open" hidefocus="1" tabindex="-1"> <i class="'+
b+'caret"></i></button></div>'},postRender:function(){var d=this,b=d.settings.onclick;d.on("click",function(f){f.aria&&"down"==f.aria.key||f.control!=d||e.getParent(f.target,"."+d.classPrefix+"open")||(f.stopImmediatePropagation(),b.call(d,f))});delete d.settings.onclick;return d._super()}})});w("tinymce/util/Color",[],function(){var l=Math.min,h=Math.max,e=Math.round;return function(d){function b(b){if("object"==typeof b)if("r"in b)a=b.r,c=b.g,k=b.b;else{if("v"in b){var d=b.h;var m=b.s;b=b.v;d=(parseInt(d,
10)||0)%360;m=parseInt(m,10)/100;b=parseInt(b,10)/100;m=h(0,l(m,1));b=h(0,l(b,1));if(0===m)a=c=k=e(255*b);else{d/=60;m*=b;var g=m*(1-Math.abs(d%2-1));b-=m;switch(Math.floor(d)){case 0:a=m;c=g;k=0;break;case 1:a=g;c=m;k=0;break;case 2:a=0;c=m;k=g;break;case 3:a=0;c=g;k=m;break;case 4:a=g;c=0;k=m;break;case 5:a=m;c=0;k=g;break;default:a=c=k=0}a=e(255*(a+b));c=e(255*(c+b));k=e(255*(k+b))}}}else if(d=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(b))a=parseInt(d[1],10),c=parseInt(d[2],
10),k=parseInt(d[3],10);else if(d=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(b))a=parseInt(d[1],16),c=parseInt(d[2],16),k=parseInt(d[3],16);else if(d=/#([0-F])([0-F])([0-F])/gi.exec(b))a=parseInt(d[1]+d[1],16),c=parseInt(d[2]+d[2],16),k=parseInt(d[3]+d[3],16);a=0>a?0:255<a?255:a;c=0>c?0:255<c?255:c;k=0>k?0:255<k?255:k;return f}var f=this,a=0,c=0,k=0;d&&b(d);f.toRgb=function(){return{r:a,g:c,b:k}};f.toHsv=function(){var b=a;var d=c,f=k;b/=255;d/=255;f/=255;var g=l(b,l(d,f));var n=h(b,h(d,f));if(g==n)b=
{h:0,s:0,v:100*g};else{var t=(n-g)/n;b={h:e(60*((b==g?3:f==g?1:5)-(b==g?d-f:f==g?b-d:f-b)/(n-g))),s:e(100*t),v:e(100*n)}}return b};f.toHex=function(){function b(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}return"#"+b(a)+b(c)+b(k)};f.parse=b}});w("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(l,h,e,d){return l.extend({Defaults:{classes:"widget colorpicker"},init:function(b){this._super(b)},postRender:function(){function b(a,
b){var c=e.getPos(a);var d=b.pageX-c.x;c=b.pageY-c.y;d=Math.max(0,Math.min(d/a.clientWidth,1));c=Math.max(0,Math.min(c/a.clientHeight,1));return{x:d,y:c}}function f(a,b){e.css(g,{top:(360-a.h)/360*100+"%"});b||e.css(t,{left:a.s+"%",top:100-a.v+"%"});n.style.background=(new d({s:100,v:100,h:a.h})).toHex();k.color().parse({s:a.s,v:a.v,h:a.h})}function a(a){a=b(n,a);v.s=100*a.x;v.v=100*(1-a.y);f(v);k.fire("change")}function c(a){a=b(u,a);v=l.toHsv();v.h=360*(1-a.y);f(v,!0);k.fire("change")}var k=this,
l=k.color(),v;var u=k.getEl("h");var g=k.getEl("hp");var n=k.getEl("sv");var t=k.getEl("svp");k._repaint=function(){v=l.toHsv();f(v)};k._super();k._svdraghelper=new h(k._id+"-sv",{start:a,drag:a});k._hdraghelper=new h(k._id+"-h",{start:c,drag:c});k._repaint()},rgb:function(){return this.color().toRgb()},value:function(b){if(arguments.length)this.color().parse(b),this._rendered&&this._repaint();else return this.color().toHex()},color:function(){this._color||(this._color=new d);return this._color},
renderHtml:function(){var b=this._id,d=this.classPrefix,a,c="";var e="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");var h=0;for(a=e.length-1;h<a;h++)c+='<div class="'+d+'colorpicker-h-chunk" style="height:'+100/a+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+e[h]+",endColorstr="+e[h+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+e[h]+",endColorstr="+
e[h+1]+')"></div>';return'<div id="'+b+'" class="'+this.classes+'"><div id="'+b+'-sv" class="'+d+'colorpicker-sv"><div class="'+d+'colorpicker-overlay1"><div class="'+d+'colorpicker-overlay2"><div id="'+b+'-svp" class="'+d+'colorpicker-selector1"><div class="'+d+'colorpicker-selector2"></div></div></div></div></div>'+('<div id="'+b+'-h" class="'+d+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+
c+'<div id="'+b+'-hp" class="'+d+'colorpicker-h-marker"></div></div>')+"</div>"}})});w("tinymce/ui/Path",["tinymce/ui/Widget"],function(l){return l.extend({init:function(h){var e=this;h.delimiter||(h.delimiter="\u00bb");e._super(h);e.classes.add("path");e.canFocus=!0;e.on("click",function(d){var b;(b=d.target.getAttribute("data-index"))&&e.fire("select",{value:e.row()[b],index:b})});e.row(e.settings.row)},focus:function(){this.getEl().firstChild.focus();return this},row:function(h){if(!arguments.length)return this.state.get("row");
this.state.set("row",h);return this},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var h=this;h.state.on("change:row",function(e){h.innerHtml(h._getDataPathHtml(e.value))});return h._super()},_getDataPathHtml:function(h){h=h||[];var e,d="",b=this.classPrefix;var f=0;for(e=h.length;f<e;f++)d+=(0<f?'<div class="'+b+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+
b+"path-item"+(f==e-1?" "+b+"last":"")+'" data-index="'+f+'" tabindex="-1" id="'+this._id+"-"+f+'" aria-level="'+(f+1)+'">'+h[f].name+"</div>";d||(d='<div class="'+b+'path-item">\u00a0</div>');return d}})});w("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(l){return l.extend({postRender:function(){var h=this,e=h.settings.editor;!1!==e.settings.elementpath&&(h.on("select",function(d){e.focus();e.selection.select(this.row()[d.index].element);e.nodeChanged()}),e.on("nodeChange",function(d){var b=
[];d=d.parents;for(var f=d.length;f--;){var a;if(a=1==d[f].nodeType){a:{a=d[f];if(1===a.nodeType){if("BR"==a.nodeName||a.getAttribute("data-mce-bogus")){a=!0;break a}if("bookmark"===a.getAttribute("data-mce-type")){a=!0;break a}}a=!1}a=!a}if(a&&(a=e.fire("ResolveName",{name:d[f].nodeName.toLowerCase(),target:d[f]}),a.isDefaultPrevented()||b.push({name:a.name,element:d[f]}),a.isPropagationStopped()))break}h.row(b)}));return h._super()}})});w("tinymce/ui/FormItem",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{layout:"flex",
align:"center",defaults:{flex:1}},renderHtml:function(){var h=this._layout,e=this.classPrefix;this.classes.add("formitem");h.preRender(this);return'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+e+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+h.renderHtml(this)+"</div></div>"}})});w("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem",
"tinymce/util/Tools"],function(l,h,e){return l.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var d=this,b=d.items();d.settings.formItemDefaults||(d.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});b.each(function(b){var a;if(a=b.settings.label)a=new h(e.extend({items:{type:"label",id:b._id+"-l",text:a,flex:0,forId:b._id,
disabled:b.disabled()}},d.settings.formItemDefaults)),a.type="formitem",b.aria("labelledby",b._id+"-l"),"undefined"==typeof b.settings.flex&&(b.settings.flex=1),d.replace(b,a),a.add(b)})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.fromJSON(this.settings.data)},bindStates:function(){function d(){var d=0,a=[];if(!1!==b.settings.labelGapCalc){var c="children"==b.settings.labelGapCalc?b.find("formitem"):b.items();c.filter("formitem").each(function(b){b=
b.items()[0];var c=b.getEl().clientWidth;d=c>d?c:d;a.push(b)});var e=b.settings.labelGap||0;for(c=a.length;c--;)a[c].settings.minWidth=d+e}}var b=this;b._super();b.on("show",d);d()}})});w("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(l){return l.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var h=this._layout,e=this.classPrefix;this.preRender();h.preRender(this);return'<fieldset id="'+
this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+e+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+h.renderHtml(this)+"</div></fieldset>"}})});w("tinymce/content/LinkTargets","tinymce/dom/DOMUtils tinymce/util/Fun tinymce/util/Arr tinymce/util/Uuid tinymce/util/Tools tinymce/dom/NodeType".split(" "),function(l,h,e,d,b,f){var a=
b.trim,c=function(a,b,c,d,e){return{type:a,title:b,url:c,level:d,attach:e}},k=function(a){return a&&"A"===a.nodeName&&(a.id||a.name)&&m(a)},m=function(a){var b;a:{for(b=a;b=b.parentNode;){var c=b.contentEditable;if(c&&"inherit"!==c){b=f.isContentEditableTrue(b);break a}}b=!1}return b&&!f.isContentEditableFalse(a)},v=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)&&m(a)},u=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)?parseInt(a.nodeName.substr(1),10):0},g=function(a){var b=a.id?a.id:d.uuid("h");
return c("header",a.innerText||a.textContent,"#"+b,u(a),function(){a.id=b})},n=function(a){var b=a.id||a.name;a=a.innerText||a.textContent;return c("anchor",a?a:"#"+b,"#"+b,0,h.noop)},t=function(b){return 0<a(b.title).length};return{find:function(a){a=l.DOM.select("h1,h2,h3,h4,h5,h6,a:not([href])",a);return e.filter(e.map(e.filter(a,v),g).concat(e.map(e.filter(a,k),n)),t)}}});w("tinymce/ui/FilePicker","tinymce/ui/ComboBox tinymce/util/Tools tinymce/util/Arr tinymce/util/Fun tinymce/util/VK tinymce/content/LinkTargets".split(" "),
function(l,h,e,d,b,f){var a={},c=function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}}},k=function(a,b){return{title:a,value:{title:a,url:b,attach:d.noop}}},m=function(a,b){return!e.find(b,function(b){return b.url===a})},v=function(a,b,c){a=b in a?a[b]:c;return!1===a?null:a},u=function(b,f,l,n){var p={title:"-"},q=function(a){a=e.filter(a[l],function(a){return m(a,f)});return h.map(a,function(a){return{title:a,value:{title:a,url:a,attach:d.noop}}})},r=function(a){var b=
e.filter(f,function(b){return b.type==a});return h.map(b,c)},t=function(){var a=r("anchor"),b=v(n,"anchor_top","#top"),c=v(n,"anchor_bottom","#bottom");null!==b&&a.unshift(k("<top>",b));null!==c&&a.push(k("<bottom>",c));return a},u=function(a){return e.reduce(a,function(a,b){return 0===a.length||0===b.length?a.concat(b):a.concat(p,b)},[])};return!1===n.typeahead_urls?[]:"file"===l?u([g(b,q(a)),g(b,r("header")),g(b,t())]):g(b,q(a))},g=function(a,b){var c=a.toLowerCase(),d=h.grep(b,function(a){return-1!==
a.title.toLowerCase().indexOf(c)});return 1===d.length&&d[0].title===a?[]:d},n=function(b,c,d,g){var h=function(a){var e=f.find(d),e=u(a,e,g,c);b.showAutoComplete(e,a)};b.on("autocomplete",function(){h(b.value())});b.on("selectitem",function(a){a=a.value;b.value(a.url);var c=a.title;c=c.raw?c.raw:c;"image"===g?b.fire("change",{meta:{alt:c,attach:a.attach}}):b.fire("change",{meta:{text:c,attach:a.attach}});b.focus()});b.on("click",function(a){0===b.value().length&&"INPUT"===a.target.nodeName&&h("")});
b.on("PostRender",function(){b.getRoot().on("submit",function(c){if(!c.isDefaultPrevented()){c=b.value();var d=a[g];/^https?/.test(c)&&(d?-1===e.indexOf(d,c)&&(a[g]=d.slice(0,5).concat(c)):a[g]=[c])}})})},t=function(a,b,c){var d=b.filepicker_validator_handler;if(d){var e=function(b){0===b.length?a.statusLevel("none"):d({url:b,type:c},function(b){var c=b.status;b=b.message;c="valid"===c?{status:"ok",message:b}:"unknown"===c?{status:"warn",message:b}:"invalid"===c?{status:"warn",message:b}:{status:"none",
message:""};a.statusMessage(c.message);a.statusLevel(c.status)})};a.state.on("change:value",function(a){e(a.value)})}};return l.extend({init:function(a){var b=this,c=tinymce.activeEditor,d=c.settings,e,f,g=a.filetype;a.spellcheck=!1;(f=d.file_picker_types||d.file_browser_callback_types)&&(f=h.makeMap(f,/[, ]/));if(!f||f[g]){var k=d.file_picker_callback;!k||f&&!f[g]?(k=d.file_browser_callback,!k||f&&!f[g]||(e=function(){k(b.getEl("inp").id,b.value(),g,window)})):e=function(){var a=b.fire("beforecall").meta,
a=h.extend({filetype:g},a);k.call(c,function(a,c){b.value(a).fire("change",{meta:c})},b.value(),a)}}e&&(a.icon="browse",a.onaction=e);b._super(a);n(b,d,c.getBody(),g);t(b,d,g)}})});w("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(h){var e=h.layoutRect(),d=h.paddingBox;h.items().filter(":visible").each(function(b){b.layoutRect({x:d.left,y:d.top,w:e.innerW-d.right-d.left,h:e.innerH-d.top-d.bottom});b.recalc&&b.recalc()})}})});w("tinymce/ui/FlexLayout",
["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(h){var e,d,b=[],f,a=Math.max,c=Math.min;var k=h.items().filter(":visible");var l=h.layoutRect();var v=h.paddingBox;var u=h.settings;var g=h.isRtl()?u.direction||"row-reversed":u.direction;var n=u.align;var t=h.isRtl()?u.pack||"end":u.pack;u=u.spacing||0;if("row-reversed"==g||"column-reverse"==g)k=k.set(k.toArray().reverse()),g=g.split("-")[0];if("column"==g){var y="y";var q="h";var p="minH";var r="maxH";var w="innerH";var A=
"top";var z="deltaH";var x="contentH";var E="left";var C="w";var H="x";var F="innerW";var M="minW";var U="right";var J="deltaW";var K="contentW"}else y="x",q="w",p="minW",r="maxW",w="innerW",A="left",z="deltaW",x="contentW",E="top",C="h",H="y",F="innerH",M="minH",U="bottom",J="deltaH",K="contentH";var T=l[w]-v[A]-v[A];g=f=d=0;for(e=k.length;g<e;g++){var P=k[g];var I=P.layoutRect();var L=P.settings;L=L.flex;T-=g<e-1?u:0;0<L&&(d+=L,I[r]&&b.push(P),I.flex=L);T-=I[p];L=v[E]+I[M]+v[U];L>f&&(f=L)}var O=
{};O[p]=0>T?l[p]-T+l[z]:l[w]-T+l[z];O[M]=f+l[J];O[x]=l[w]-T;O[K]=f;O.minW=c(O.minW,l.maxW);O.minH=c(O.minH,l.maxH);O.minW=a(O.minW,l.startMinWidth);O.minH=a(O.minH,l.startMinHeight);if(!l.autoResize||O.minW==l.minW&&O.minH==l.minH){h=T/d;g=0;for(e=b.length;g<e;g++)P=b[g],I=P.layoutRect(),P=I[r],L=I[p]+I.flex*h,L>P?(T-=I[r]-I[p],d-=I.flex,I.flex=0,I.maxFlexSize=P):I.maxFlexSize=0;h=T/d;b=v[A];O={};0===d&&("end"==t?b=T+v[A]:"center"==t?(b=Math.round(l[w]/2-(l[w]-T)/2)+v[A],0>b&&(b=v[A])):"justify"==
t&&(b=v[A],u=Math.floor(T/(k.length-1))));O[H]=v[E];g=0;for(e=k.length;g<e;g++)P=k[g],I=P.layoutRect(),L=I.maxFlexSize||I[p],"center"===n?O[H]=Math.round(l[F]/2-I[C]/2):"stretch"===n?(O[C]=a(I[M]||0,l[F]-v[E]-v[U]),O[H]=v[E]):"end"===n&&(O[H]=l[F]-I[C]-v.top),0<I.flex&&(L+=I.flex*h),O[q]=L,O[y]=b,P.layoutRect(O),P.recalc&&P.recalc(),b+=L+u}else if(O.w=O.minW,O.h=O.minH,h.layoutRect(O),this.recalc(h),null===h._lastRect&&(k=h.parent()))k._lastRect=null,k.recalc()}})});w("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],
function(l){return l.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(h){h.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})});w("tinymce/fmt/FontInfo",["tinymce/dom/DOMUtils"],function(l){var h=function(e,d,b){for(;b!==d;){if(b.style[e])return b.style[e];b=b.parentNode}return""};return{getFontSize:function(e,d){var b=h("fontSize",e,d);return""!==b?b:l.DOM.getStyle(d,"fontSize",!0)},getFontFamily:function(e,
d){var b=h("fontFamily",e,d),b=""!==b?b:l.DOM.getStyle(d,"fontFamily",!0);return b!==F?b.replace(/[\'\"]/g,"").replace(/,\s+/g,","):""},toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}});w("tinymce/ui/FormatControls","tinymce/ui/Control tinymce/ui/Widget tinymce/ui/FloatPanel tinymce/util/Tools tinymce/util/Arr tinymce/dom/DOMUtils tinymce/EditorManager tinymce/Env tinymce/fmt/FontInfo".split(" "),function(l,h,e,d,b,f,a,c,k){function m(a){a.on("ScriptsLoaded",
function(){a.rtl&&(l.rtl=!0)})}function v(a){function b(b,c){return function(){var d=this;a.on("nodeChange",function(e){var f=a.formatter,g=null;u(e.parents,function(a){u(b,function(b){c?f.matchNode(a,c,{value:b.value})&&(g=b.value):f.matchNode(a,b.value)&&(g=b.value);if(g)return!1});if(g)return!1});d.value(g)})}}function c(b){return function(){var c=this,d=function(a){return a?a.split(",")[0]:""};a.on("nodeChange",function(e){var f=null;var g=k.getFontFamily(a.getBody(),e.element);u(b,function(a){a.value.toLowerCase()===
g.toLowerCase()&&(f=a.value)});u(b,function(a){f||d(a.value).toLowerCase()!==d(g).toLowerCase()||(f=a.value)});c.value(f);!f&&g&&c.text(d(g))})}}function f(b){return function(){var c=this;a.on("nodeChange",function(d){var e=null;var f=k.getFontSize(a.getBody(),d.element);var g=k.toPt(f);u(b,function(a){a.value===f?e=f:a.value===g&&(e=g)});c.value(e);e||c.text(g)})}}function h(a){a=a.replace(/;$/,"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}function l(b){return function(){var c=
this;if(a.formatter)a.formatter.formatChanged(b,function(a){c.active(a)});else a.on("init",function(){a.formatter.formatChanged(b,function(a){c.active(a)})})}}function m(b){return function(){function c(){var c="redo"==b?"hasRedo":"hasUndo";return a.undoManager?a.undoManager[c]():!1}var d=this;d.disabled(!c());a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){d.disabled(a.readonly||!c())})}}function n(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}function v(b){var c=
b.length;d.each(b,function(b){b.menu&&(b.hidden=0===v(b.menu));var d=b.format;d&&(b.hidden=!a.formatter.canApply(d));b.hidden&&c--});return c}function w(b){var c=b.items().length;b.items().each(function(b){b.menu&&b.visible(0<w(b.menu));!b.menu&&b.settings.menu&&b.visible(0<v(b.settings.menu));var d=b.settings.format;d&&b.visible(a.formatter.canApply(d));b.visible()||c--});return c}var E=function(){function b(a){var e=[];if(a)return u(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=
b(a.items);else{var g=a.format||"custom"+c++;a.format||(a.name=g,d.push(a));f.format=g;f.cmd=a.cmd}e.push(f)}),e}var c=0,d=[],e=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},
{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},
{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];a.on("init",function(){u(d,function(b){a.formatter.register(b.name,b)})});return{type:"menu",items:a.settings.style_formats_merge?a.settings.style_formats?b(e.concat(a.settings.style_formats)):b(e):b(a.settings.style_formats||e),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},
onPostRender:function(){var b=this;b.parent().on("show",function(){var c;if(c=b.settings.format)b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c));(c=b.settings.cmd)&&b.active(a.queryCommandState(c))})},onclick:function(){this.settings.format&&n(this.settings.format);this.settings.cmd&&a.execCommand(this.settings.cmd)}}}}();u({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,
{tooltip:b,onPostRender:l(c),onclick:function(){n(c)}})});u({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});u({blockquote:["Blockquote","mceBlockQuote"],
subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:l(c)})});var C=function(a){0<a.length&&"-"===a[0].text&&(a=a.slice(1));0<a.length&&"-"===a[a.length-1].text&&(a=a.slice(0,a.length-1));return a},F=function(b){if("string"===
typeof b)var c=b.split(" ");else if(d.isArray(b))return g(d.map(b,F));b=d.grep(c,function(b){return"|"===b||b in a.menuItems});return d.map(b,function(b){return"|"===b?{text:"-"}:a.menuItems[b]})},ea=function(b){var c=[{text:"-"}],e=d.grep(a.menuItems,function(a){return a.context===b});d.each(e,function(a){"before"==a.separator&&c.push({text:"|"});a.prependToContext?c.unshift(a):c.push(a);"after"==a.separator&&c.push({text:"|"})});return c},M=function(a){return a.insert_button_items?C(F(a.insert_button_items)):
C(ea("insert"))};a.addButton("undo",{tooltip:"Undo",onPostRender:m("undo"),cmd:"undo"});a.addButton("redo",{tooltip:"Redo",onPostRender:m("redo"),cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:m("undo"),cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:m("redo"),cmd:"redo"});a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,
onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});a.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"});a.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(M(a.settings));this.menu.renderNew()}});u({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold",
"Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){e.hideAll()});a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:E,onShowMenu:function(){a.settings.style_formats_autohide&&
w(this.menu)}});a.addButton("formatselect",function(){var c=[],d=h(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");u(d,function(b){c.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})});return{type:"listbox",text:d[0][0],values:c,fixedWidth:!0,onselect:n,onPostRender:b(c)}});a.addButton("fontselect",function(){var b=[],d=h(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
u(d,function(a){b.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:b,fixedWidth:!0,onPostRender:c(b),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var b=[];u((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var c=a,d=a;a=a.split("=");1<a.length&&
(c=a[0],d=a[1]);b.push({text:c,value:d})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:b,fixedWidth:!0,onPostRender:f(b),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:E})}var u=d.each,g=function(a){return b.reduce(a,function(a,b){return a.concat(b)},[])};a.on("AddEditor",function(a){a=a.editor;m(a);v(a);a.settings.ui_container&&(c.container=f.DOM.select(a.settings.ui_container)[0])});
l.translate=function(b){return a.translate(b)};h.tooltips=!c.iOS});w("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(l){return l.extend({recalc:function(h){var e,d,b=[],f=[];var a=h.settings;var c=h.items().filter(":visible");var k=h.layoutRect();var l=a.columns||Math.ceil(Math.sqrt(c.length));var v=Math.ceil(c.length/l);var u=a.spacingH||a.spacing||0;var g=a.spacingV||a.spacing||0;var n=a.alignH||a.align;var t=a.alignV||a.align;var w=h.paddingBox;var q="reverseRows"in a?a.reverseRows:
h.isRtl();n&&"string"==typeof n&&(n=[n]);t&&"string"==typeof t&&(t=[t]);for(d=0;d<l;d++)b.push(0);for(e=0;e<v;e++)f.push(0);for(e=0;e<v;e++)for(d=0;d<l;d++){var p=c[e*l+d];if(!p)break;var r=p.layoutRect();p=r.minW;r=r.minH;b[d]=p>b[d]?p:b[d];f[e]=r>f[e]?r:f[e]}r=k.innerW-w.left-w.right;for(d=p=0;d<l;d++)p+=b[d]+(0<d?u:0),r-=(0<d?u:0)+b[d];var D=k.innerH-w.top-w.bottom;for(e=d=0;e<v;e++)d+=f[e]+(0<e?g:0),D-=(0<e?g:0)+f[e];p+=w.left+w.right;d+=w.top+w.bottom;e={};e.minW=p+(k.w-k.innerW);e.minH=d+(k.h-
k.innerH);e.contentW=e.minW-k.deltaW;e.contentH=e.minH-k.deltaH;e.minW=Math.min(e.minW,k.maxW);e.minH=Math.min(e.minH,k.maxH);e.minW=Math.max(e.minW,k.startMinWidth);e.minH=Math.max(e.minH,k.startMinHeight);if(!k.autoResize||e.minW==k.minW&&e.minH==k.minH){k.autoResize&&(e=h.layoutRect(e),e.contentW=e.minW-k.deltaW,e.contentH=e.minH-k.deltaH);h="start"==a.packV?0:0<D?Math.floor(D/v):0;e=0;if(a=a.flexWidths)for(d=0;d<a.length;d++)e+=a[d];else e=l;e=r/e;for(d=0;d<l;d++)b[d]+=a?a[d]*e:e;D=w.top;for(e=
0;e<v;e++){k=w.left;a=f[e]+h;for(d=0;d<l;d++){r=q?e*l+l-1-d:e*l+d;p=c[r];if(!p)break;var A=p.settings;r=p.layoutRect();var z=Math.max(b[d],r.startMinWidth);r.x=k;r.y=D;var x=A.alignH||(n?n[d]||n[0]:null);"center"==x?r.x=k+z/2-r.w/2:"right"==x?r.x=k+z-r.w:"stretch"==x&&(r.w=z);x=A.alignV||(t?t[d]||t[0]:null);"center"==x?r.y=D+a/2-r.h/2:"bottom"==x?r.y=D+a-r.h:"stretch"==x&&(r.h=a);p.layoutRect(r);k+=z+u;p.recalc&&p.recalc()}D+=a+g}}else if(e.w=e.minW,e.h=e.minH,h.layoutRect(e),this.recalc(h),null===
h._lastRect&&(v=h.parent()))v._lastRect=null,v.recalc()}})});w("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(l,h){return l.extend({renderHtml:function(){this.classes.add("iframe");this.canFocus=!1;return'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,d){var b=this,f=this.getEl().contentWindow.document.body;f?(f.innerHTML=e,d&&d()):
h.setTimeout(function(){b.html(e)});return this}})});w("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(l){return l.extend({init:function(h){this._super(h);this.classes.add("widget").add("infobox");this.canFocus=!1},severity:function(h){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(h)},help:function(h){this.state.set("help",h)},renderHtml:function(){var h=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+
this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+h+"ico "+h+'i-help"></i></button></div></div>'},bindStates:function(){var h=this;h.state.on("change:text",function(e){h.getEl("body").firstChild.data=h.encode(e.value);h.state.get("rendered")&&h.updateLayoutRect()});h.state.on("change:help",function(e){h.classes.toggle("has-help",e.value);h.state.get("rendered")&&h.updateLayoutRect()});return h._super()}})});w("tinymce/ui/Label",["tinymce/ui/Widget",
"tinymce/ui/DomUtils"],function(l,h){return l.extend({init:function(e){this._super(e);this.classes.add("widget").add("label");this.canFocus=!1;e.multiline&&this.classes.add("autoscroll");e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(h.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,h.getSize(this.getEl()).height));return e},repaint:function(){this.settings.multiline||
(this.getEl().style.lineHeight=this.layoutRect().h+"px");return this._super()},severity:function(e){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(e)},renderHtml:function(){var e,d=this.settings.forId;!d&&(e=this.settings.forName)&&(e=this.getRoot().find("#"+e)[0])&&(d=e._id);return d?'<label id="'+this._id+'" class="'+this.classes+'"'+(d?' for="'+d+'"':"")+">"+this.encode(this.state.get("text"))+"</label>":'<span id="'+this._id+'" class="'+
this.classes+'">'+this.encode(this.state.get("text"))+"</span>"},bindStates:function(){var e=this;e.state.on("change:text",function(d){e.innerHtml(e.encode(d.value));e.state.get("rendered")&&e.updateLayoutRect()});return e._super()}})});w("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(l){return l.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(h){this._super(h);this.classes.add("toolbar")},postRender:function(){this.items().each(function(h){h.classes.add("toolbar-item")});return this._super()}})});
w("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(l){return l.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});w("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(l,h,e){var d=l.extend({init:function(b){this._renderOpen=!0;this._super(b);b=this.settings;this.classes.add("menubtn");b.fixedWidth&&this.classes.add("fixed-width");this.aria("haspopup",!0);this.state.set("menu",b.menu||this.render())},
showMenu:function(b){var d=this;if(d.menu&&d.menu.visible()&&!1!==b)return d.hideMenu();d.menu||(b=d.state.get("menu")||[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",d.menu=b.renderTo?b.parent(d).show().renderTo():h.create(b).parent(d).renderTo(),d.fire("createmenu"),d.menu.reflow(),d.menu.on("cancel",function(a){a.control.parent()===d.menu&&(a.stopPropagation(),d.focus(),d.hideMenu())}),d.menu.on("select",function(){d.focus()}),d.menu.on("show hide",function(a){a.control==d.menu&&d.activeMenu("show"==
a.type);d.aria("expanded","show"==a.type)}).fire("show"));d.menu.show();d.menu.layoutRect({w:d.layoutRect().w});d.menu.moveRel(d.getEl(),d.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);d.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide())},activeMenu:function(b){this.classes.toggle("active",b)},renderHtml:function(){var b=this._id,d=this.classPrefix,a=this.settings.icon,c,h=this.state.get("text"),l="";(c=this.settings.image)?
(a="none","string"!=typeof c&&(c=window.getSelection?c[0]:c[1]),c=" style=\"background-image: url('"+c+"')\""):c="";h&&(this.classes.add("btn-has-text"),l='<span class="'+d+'txt">'+this.encode(h)+"</span>");a=this.settings.icon?d+"ico "+d+"i-"+a:"";this.aria("role",this.parent()instanceof e?"menuitem":"button");return'<div id="'+b+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+b+'"><button id="'+b+'-open" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+c+"></i>":
"")+l+' <i class="'+d+'caret"></i></button></div>'},postRender:function(){var b=this;b.on("click",function(d){var a;if(a=d.control===b)a:{a=d.target;for(var c=b.getEl();a;){if(c===a){a=!0;break a}a=a.parentNode}a=!1}a&&(b.focus(),b.showMenu(!d.aria),d.aria&&b.menu.items().filter(":visible")[0].focus())});b.on("mouseenter",function(e){var a=e.control;e=b.parent();var c;a&&e&&a instanceof d&&a.parent()==e&&(e.items().filter("MenuButton").each(function(b){b.hideMenu&&b!=a&&(b.menu&&b.menu.visible()&&
(c=!0),b.hideMenu())}),c&&(a.focus(),a.showMenu()))});return b._super()},bindStates:function(){var b=this;b.state.on("change:menu",function(){b.menu&&b.menu.remove();b.menu=null});return b._super()},remove:function(){this._super();this.menu&&this.menu.remove()}});return d});w("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(l,h,e,d){return l.extend({Defaults:{border:0,role:"menuitem"},init:function(b){this._super(b);b=this.settings;this.classes.add("menu-item");
b.menu&&this.classes.add("menu-item-expand");b.preview&&this.classes.add("menu-item-preview");var d=this.state.get("text");if("-"===d||"|"===d)this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-");b.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),b.icon="selected");b.preview||b.selectable||this.classes.add("menu-item-normal");this.on("mousedown",function(a){a.preventDefault()});b.menu&&!b.ariaHideMenu&&this.aria("haspopup",
!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var b=this,d=b.settings,a,c=b.parent();c.items().each(function(a){a!==b&&a.hideMenu()});d.menu&&((a=b.menu)?a.show():(a=d.menu,a.length?a={type:"menu",items:a}:a.type=a.type||"menu",c.settings.itemDefaults&&(a.itemDefaults=c.settings.itemDefaults),a=b.menu=h.create(a).parent(b).renderTo(),a.reflow(),a.on("cancel",function(c){c.stopPropagation();b.focus();a.hide()}),a.on("show hide",function(a){a.control.items&&a.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),
a.on("hide",function(c){c.control===a&&b.classes.remove("selected")}),a.submenu=!0),a._parentMenu=c,a.classes.add("menu-sub"),d=a.testMoveRel(b.getEl(),b.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),a.moveRel(b.getEl(),d),a.rel=d,d="menu-sub-"+d,a.classes.remove(a._lastRel).add(d),a._lastRel=d,b.classes.add("selected"),b.aria("expanded",!0))},hideMenu:function(){this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide(),this.aria("expanded",
!1));return this},renderHtml:function(){function b(a){var b,c;var d=e.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};a=a.split("+");for(b=0;b<a.length;b++)(c=d[a[b].toLowerCase()])&&(a[b]=c);return a.join("+")}function d(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(a){var b=l.match||"";return b?a.replace(new RegExp(d(b),"gi"),function(a){return"!mce~match["+a+"]mce~match!"}):a}function c(a){return a.replace(new RegExp(d("!mce~match["),"g"),"<b>").replace(new RegExp(d("]mce~match!"),
"g"),"</b>")}var h=this._id,l=this.settings,v=this.classPrefix,u=this.state.get("text"),g=this.settings.icon,n="",t=l.shortcut,w=this.encode(l.url),q="";g&&this.parent().classes.add("menu-has-icons");l.image&&(n=" style=\"background-image: url('"+l.image+"')\"");t&&(t=b(t));g=v+"ico "+v+"i-"+(this.settings.icon||"none");q="-"!==u?'<i class="'+g+'"'+n+"></i>\u00a0":"";u=c(this.encode(a(u)));w=c(this.encode(a(w)));return'<div id="'+h+'" class="'+this.classes+'" tabindex="-1">'+q+("-"!==u?'<span id="'+
h+'-text" class="'+v+'text">'+u+"</span>":"")+(t?'<div id="'+h+'-shortcut" class="'+v+'menu-shortcut">'+t+"</div>":"")+(l.menu?'<div class="'+v+'caret"></div>':"")+(w?'<div class="'+v+'menu-item-link">'+w+"</div>":"")+"</div>"},postRender:function(){var b=this,e=b.settings,a=e.textStyle;"function"==typeof a&&(a=a.call(this));if(a){var c=b.getEl("text");c&&c.setAttribute("style",a)}b.on("mouseenter click",function(a){a.control===b&&(e.menu||"click"!==a.type?(b.showMenu(),a.aria&&b.menu.focus(!0)):
(b.fire("select"),d.requestAnimationFrame(function(){b.parent().hideAll()})))});b._super();return b},hover:function(){this.parent().items().each(function(b){b.classes.remove("selected")});this.classes.toggle("selected",!0);return this},active:function(b){"undefined"!=typeof b&&this.aria("checked",b);return this._super(b)},remove:function(){this._super();this.menu&&this.menu.remove()}})});w("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(l,h,e){return function(d,
b){var f=this,a,c=h.classPrefix,k;f.show=function(h,v){function m(){a&&(l(d).append('<div class="'+c+"throbber"+(b?" "+c+"throbber-inline":"")+'"></div>'),v&&v())}f.hide();a=!0;h?k=e.setTimeout(m,h):m();return f};f.hide=function(){var b=d.lastChild;e.clearTimeout(k);b&&-1!=b.className.indexOf("throbber")&&b.parentNode.removeChild(b);a=!1;return f}}});w("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(l,h,e,d){return l.extend({Defaults:{defaultType:"menuitem",
border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(b){b.autohide=!0;b.constrainToViewport=!0;"function"===typeof b.items&&(b.itemsFactory=b.items,b.items=[]);if(b.itemDefaults)for(var e=b.items,a=e.length;a--;)e[a]=d.extend({},b.itemDefaults,e[a]);this._super(b);this.classes.add("menu")},repaint:function(){this.classes.toggle("menu-align",!0);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){this.hideAll();
this.fire("select")},load:function(){function b(){d.throbber&&(d.throbber.hide(),d.throbber=null)}var d=this,a;d.settings.itemsFactory&&(d.throbber||(d.throbber=new e(d.getEl("body"),!0),0===d.items().length?(d.throbber.show(),d.fire("loading")):d.throbber.show(100,function(){d.items().remove();d.fire("loading")}),d.on("hide close",b)),d.requestTime=a=(new Date).getTime(),d.settings.itemsFactory(function(c){0===c.length?d.hide():d.requestTime===a&&(d.getEl().style.width="",d.getEl("body").style.width=
"",b(),d.items().remove(),d.getEl("body").innerHTML="",d.add(c),d.renderNew(),d.fire("loaded"))}))},hideAll:function(){this.find("menuitem").exec("hideMenu");return this._super()},preRender:function(){var b=this;b.items().each(function(d){d=d.settings;if(d.icon||d.image||d.selectable)return b._hasIcons=!0,!1});if(b.settings.itemsFactory)b.on("postrender",function(){b.settings.itemsFactory&&b.load()});return b._super()}})});w("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(l,
h){return l.extend({init:function(e){function d(c){for(var f=0;f<c.length;f++){if(a=c[f].selected||e.value===c[f].value)return h=h||c[f].text,b.state.set("value",c[f].value),!0;if(c[f].menu&&d(c[f].menu))return!0}}var b=this,f,a,c;b._super(e);e=b.settings;if(b._values=f=e.values){"undefined"!=typeof e.value&&d(f);if(!a&&0<f.length){var h=f[0].text;b.state.set("value",f[0].value)}b.state.set("menu",f)}b.state.set("text",e.text||h);b.classes.add("listbox");b.on("select",function(a){var d=a.control;
c&&(a.lastControl=c);e.multiple?d.active(!d.active()):b.value(a.control.value());c=d})},bindStates:function(){function e(b,a){b instanceof h&&b.items().each(function(b){b.hasMenus()||b.active(b.value()===a)})}function d(b,a){var c;if(b)for(var e=0;e<b.length;e++){if(b[e].value===a)return b[e];if(b[e].menu&&(c=d(b[e].menu,a)))return c}}var b=this;b.on("show",function(d){e(d.control,b.value())});b.state.on("change:value",function(e){(e=d(b.state.get("menu"),e.value))?b.text(e.text):b.text(b.settings.text)});
return b._super()}})});w("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(l){return l.extend({Defaults:{classes:"radio",role:"radio"}})});w("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(l,h){return l.extend({renderHtml:function(){var e=this.classPrefix;this.classes.add("resizehandle");"both"==this.settings.direction&&this.classes.add("resizehandle-both");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},
postRender:function(){var e=this;e._super();e.resizeDragHelper=new h(this._id,{start:function(){e.fire("ResizeStart")},drag:function(d){"both"!=e.settings.direction&&(d.deltaX=0);e.fire("Resize",d)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){this.resizeDragHelper&&this.resizeDragHelper.destroy();return this._super()}})});w("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(l){function h(e){var d="";if(e)for(var b=0;b<e.length;b++)d+='<option value="'+e[b]+'">'+e[b]+"</option>";return d}
return l.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var d=this;d._super(e);d.settings.size&&(d.size=d.settings.size);d.settings.options&&(d._options=d.settings.options);d.on("keydown",function(b){var e;13==b.keyCode&&(b.preventDefault(),d.parents().reverse().each(function(a){if(a.toJSON)return e=a,!1}),d.fire("submit",{data:e.toJSON()}))})},options:function(e){if(!arguments.length)return this.state.get("options");this.state.set("options",e);return this},renderHtml:function(){var e=
"";var d=h(this._options);this.size&&(e=' size = "'+this.size+'"');return'<select id="'+this._id+'" class="'+this.classes+'"'+e+">"+d+"</select>"},bindStates:function(){var e=this;e.state.on("change:options",function(d){e.getEl().innerHTML=h(d.value)});return e._super()}})});w("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(l,h,e){function d(b,a,c){b<a&&(b=a);b>c&&(b=c);return b}function b(b,a){if("v"==b.settings.orientation){var c="top";var d="height";
var f="h"}else c="left",d="width",f="w";var h=b.getEl("handle");f=((b.layoutRect()[f]||100)-e.getSize(h)[d])*((a-b._minValue)/(b._maxValue-b._minValue))+"px";h.style[c]=f;h.style.height=b.layoutRect().h+"px";h.setAttribute("aria-valuenow",a);c=""+b.settings.previewFilter(a);h.setAttribute("aria-valuetext",c);h.setAttribute("aria-valuemin",b._minValue);h.setAttribute("aria-valuemax",b._maxValue)}return l.extend({init:function(b){b.previewFilter||(b.previewFilter=function(a){return Math.round(100*a)/
100});this._super(b);this.classes.add("slider");"v"==b.orientation&&this.classes.add("vertical");this._minValue=b.minValue||0;this._maxValue=b.maxValue||100;this._initValue=this.state.get("value")},renderHtml:function(){var b=this._id;return'<div id="'+b+'" class="'+this.classes+'"><div id="'+b+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var b=this;var a=b._minValue;var c=
b._maxValue;if("v"==b.settings.orientation){var k="screenY";var l="top";var v="height";var u="h"}else k="screenX",l="left",v="width",u="w";b._super();(function(a,c){function e(e){var f=b.value();f=((f+a)/(c-a)+.05*e)*(c-a)-a;f=d(f,a,c);b.value(f);b.fire("dragstart",{value:f});b.fire("drag",{value:f});b.fire("dragend",{value:f})}b.on("keydown",function(a){switch(a.keyCode){case 37:case 38:e(-1);break;case 39:case 40:e(1)}})})(a,c,b.getEl("handle"));(function(a,c,f){var g,m,n,r,t;b._dragHelper=new h(b._id,
{handle:b._id+"-handle",start:function(a){g=a[k];m=parseInt(b.getEl("handle").style[l],10);n=(b.layoutRect()[u]||100)-e.getSize(f)[v];b.fire("dragstart",{value:t})},drag:function(e){r=d(m+(e[k]-g),0,n);f.style[l]=r+"px";t=a+r/n*(c-a);b.value(t);b.tooltip().text(""+b.settings.previewFilter(t)).show().moveRel(f,"bc tc");b.fire("drag",{value:t})},stop:function(){b.tooltip().hide();b.fire("dragend",{value:t})}})})(a,c,b.getEl("handle"))},repaint:function(){this._super();b(this,this.value())},bindStates:function(){var d=
this;d.state.on("change:value",function(a){b(d,a.value)});return d._super()}})});w("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(l){return l.extend({renderHtml:function(){this.classes.add("spacer");this.canFocus=!1;return'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})});w("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(l,h,e){return l.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var d=this.getEl(),
b=this.layoutRect();this._super();var f=d.firstChild;d=d.lastChild;e(f).css({width:b.w-h.getSize(d).width,height:b.h-2});e(d).css({height:b.h-2});return this},activeMenu:function(d){e(this.getEl().lastChild).toggleClass(this.classPrefix+"active",d)},renderHtml:function(){var d=this._id,b=this.classPrefix,e,a=this.state.get("icon"),c=this.state.get("text"),h="";(e=this.settings.image)?(a="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="";
a=this.settings.icon?b+"ico "+b+"i-"+a:"";c&&(this.classes.add("btn-has-text"),h='<span class="'+b+'txt">'+this.encode(c)+"</span>");return'<div id="'+d+'" class="'+this.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(a?'<i class="'+a+'"'+e+"></i>":"")+h+'</button><button type="button" class="'+b+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(a?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+b+'caret"></i></button></div>'},postRender:function(){var d=
this.settings.onclick;this.on("click",function(b){var e=b.target;if(b.control==this)for(;e;){if(b.aria&&"down"!=b.aria.key||"BUTTON"==e.nodeName&&-1==e.className.indexOf("open")){b.stopImmediatePropagation();d&&d.call(this,b);break}e=e.parentNode}});delete this.settings.onclick;return this._super()}})});w("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(l){return l.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})});
w("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(l,h,e){return l.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(d){if(this.activeTabId){var b=this.getEl(this.activeTabId);h(b).removeClass(this.classPrefix+"active");b.setAttribute("aria-selected","false")}this.activeTabId="t"+d;b=this.getEl("t"+d);b.setAttribute("aria-selected","true");h(b).addClass(this.classPrefix+"active");this.items()[d].show().fire("showtab");
this.reflow();this.items().each(function(b,a){d!=a&&b.hide()})},renderHtml:function(){var d=this,b=d._layout,e="",a=d.classPrefix;d.preRender();b.preRender(d);d.items().each(function(b,f){var c=d._id+"-t"+f;b.aria("role","tabpanel");b.aria("labelledby",c);e+='<div id="'+c+'" class="'+a+'tab" unselectable="on" role="tab" aria-controls="'+b._id+'" aria-selected="false" tabIndex="-1">'+d.encode(b.settings.title)+"</div>"});return'<div id="'+d._id+'" class="'+d.classes+'" hidefocus="1" tabindex="-1"><div id="'+
d._id+'-head" class="'+a+'tabs" role="tablist">'+e+'</div><div id="'+d._id+'-body" class="'+d.bodyClasses+'">'+b.renderHtml(d)+"</div></div>"},postRender:function(){var d=this;d._super();d.settings.activeTab=d.settings.activeTab||0;d.activateTab(d.settings.activeTab);this.on("click",function(b){var e=b.target.parentNode;if(e&&e.id==d._id+"-head")for(var a=e.childNodes.length;a--;)e.childNodes[a]==b.target&&d.activateTab(a)})},initLayoutRect:function(){var d=e.getSize(this.getEl("head")).width;d=0>
d?0:d;var b=0;this.items().each(function(a){d=Math.max(d,a.layoutRect().minW);b=Math.max(b,a.layoutRect().minH)});this.items().each(function(a){a.settings.x=0;a.settings.y=0;a.settings.w=d;a.settings.h=b;a.layoutRect({x:0,y:0,w:d,h:b})});var f=e.getSize(this.getEl("head")).height;this.settings.minWidth=d;this.settings.minHeight=b+f;var a=this._super();a.deltaH+=f;a.innerH=a.h-a.deltaH;return a}})});w("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(l,
h,e){return l.extend({init:function(d){var b=this;b._super(d);b.classes.add("textbox");d.multiline?b.classes.add("multiline"):(b.on("keydown",function(d){var a;13==d.keyCode&&(d.preventDefault(),b.parents().reverse().each(function(b){if(b.toJSON)return a=b,!1}),b.fire("submit",{data:a.toJSON()}))}),b.on("keyup",function(d){b.state.set("value",d.target.value)}))},repaint:function(){var d=0;var b=this.getEl().style;var e=this._layoutRect;var a=this._lastRepaintRect||{};var c=document;!this.settings.multiline&&
c.all&&(!c.documentMode||8>=c.documentMode)&&(b.lineHeight=e.h-d+"px");d=this.borderBox;c=d.left+d.right+8;d=d.top+d.bottom+(this.settings.multiline?8:0);e.x!==a.x&&(b.left=e.x+"px",a.x=e.x);e.y!==a.y&&(b.top=e.y+"px",a.y=e.y);e.w!==a.w&&(b.width=e.w-c+"px",a.w=e.w);e.h!==a.h&&(b.height=e.h-d+"px",a.h=e.h);this._lastRepaintRect=a;this.fire("repaint",{},!1);return this},renderHtml:function(){var d=this.settings;var b={id:this._id,hidefocus:"1"};h.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),
function(a){b[a]=d[a]});this.disabled()&&(b.disabled="disabled");d.subtype&&(b.type=d.subtype);var f=e.create(d.multiline?"textarea":"input",b);f.value=this.state.get("value");f.className=this.classes;return f.outerHTML},value:function(d){if(arguments.length)return this.state.set("value",d),this;this.state.get("rendered")&&this.state.set("value",this.getEl().value);return this.state.get("value")},postRender:function(){var d=this;d.getEl().value=d.state.get("value");d._super();d.$el.on("change",function(b){d.state.set("value",
b.target.value);d.fire("change",b)})},bindStates:function(){var d=this;d.state.on("change:value",function(b){d.getEl().value!=b.value&&(d.getEl().value=b.value)});d.state.on("change:disabled",function(b){d.getEl().disabled=b.value});return d._super()},remove:function(){this.$el.off();this._super()}})});w("tinymce/Register",[],function(){var l=this||window;"function"===typeof l.define&&(l.define.amd||l.define("ephox/tinymce",[],function(){return l.tinymce}));"object"===typeof module&&(module.exports=
window.tinymce);return{}});(function(l){var h;for(h=0;h<l.length;h++){var e=E;var d=l[h];var b=d.split(/[.\/]/);for(var f=0;f<b.length-1;++f)e[b[f]]===F&&(e[b[f]]={}),e=e[b[f]];e[b[b.length-1]]=ka[d]}if(E.AMDLC_TESTS){e=E.privateModules||{};for(d in ka)e[d]=ka[d];for(h=0;h<l.length;h++)delete e[l[h]];E.privateModules=e}})("tinymce/geom/Rect tinymce/util/Promise tinymce/util/Delay tinymce/Env tinymce/dom/EventUtils tinymce/dom/Sizzle tinymce/util/Tools tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/TreeWalker tinymce/html/Entities tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/BookmarkManager tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/util/EventDispatcher tinymce/util/Observable tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/ReflowQueue tinymce/ui/Control tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Progress tinymce/ui/Notification tinymce/NotificationManager tinymce/EditorObservable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/ComboBox tinymce/ui/ColorBox tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/util/Color tinymce/ui/ColorPicker tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/InfoBox tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/MenuItem tinymce/ui/Throbber tinymce/ui/Menu tinymce/ui/ListBox tinymce/ui/Radio tinymce/ui/ResizeHandle tinymce/ui/SelectBox tinymce/ui/Slider tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox".split(" "))})(window);
